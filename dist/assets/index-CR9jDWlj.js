var RP=e=>{throw TypeError(e)};var H_=(e,t,r)=>t.has(e)||RP("Cannot "+r);var J=(e,t,r)=>(H_(e,t,"read from private field"),r?r.call(e):t.get(e)),ot=(e,t,r)=>t.has(e)?RP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ge=(e,t,r,n)=>(H_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Et=(e,t,r)=>(H_(e,t,"access private method"),r);var Eg=(e,t,r,n)=>({set _(a){Ge(e,t,a,r)},get _(){return J(e,t,n)}});function ZG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var n$={exports:{}},yb={},a$={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=Symbol.for("react.element"),JG=Symbol.for("react.portal"),eK=Symbol.for("react.fragment"),tK=Symbol.for("react.strict_mode"),rK=Symbol.for("react.profiler"),nK=Symbol.for("react.provider"),aK=Symbol.for("react.context"),iK=Symbol.for("react.forward_ref"),sK=Symbol.for("react.suspense"),oK=Symbol.for("react.memo"),lK=Symbol.for("react.lazy"),MP=Symbol.iterator;function cK(e){return e===null||typeof e!="object"?null:(e=MP&&e[MP]||e["@@iterator"],typeof e=="function"?e:null)}var i$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s$=Object.assign,o$={};function Qh(e,t,r){this.props=e,this.context=t,this.refs=o$,this.updater=r||i$}Qh.prototype.isReactComponent={};Qh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function l$(){}l$.prototype=Qh.prototype;function _C(e,t,r){this.props=e,this.context=t,this.refs=o$,this.updater=r||i$}var jC=_C.prototype=new l$;jC.constructor=_C;s$(jC,Qh.prototype);jC.isPureReactComponent=!0;var IP=Array.isArray,c$=Object.prototype.hasOwnProperty,SC={current:null},u$={key:!0,ref:!0,__self:!0,__source:!0};function d$(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)c$.call(t,n)&&!u$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ov,type:e,key:i,ref:o,props:a,_owner:SC.current}}function uK(e,t){return{$$typeof:Ov,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function NC(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ov}function dK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var FP=/\/+/g;function V_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dK(""+e.key):t.toString(36)}function kx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ov:case JG:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+V_(o,0):n,IP(a)?(r="",e!=null&&(r=e.replace(FP,"$&/")+"/"),kx(a,t,r,"",function(u){return u})):a!=null&&(NC(a)&&(a=uK(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(FP,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",IP(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+V_(i,l);o+=kx(i,t,r,c,a)}else if(c=cK(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+V_(i,l++),o+=kx(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cg(e,t,r){if(e==null)return e;var n=[],a=0;return kx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function fK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pa={current:null},Px={transition:null},hK={ReactCurrentDispatcher:Pa,ReactCurrentBatchConfig:Px,ReactCurrentOwner:SC};function f$(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Cg,forEach:function(e,t,r){Cg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cg(e,function(){t++}),t},toArray:function(e){return Cg(e,function(t){return t})||[]},only:function(e){if(!NC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ot.Component=Qh;Ot.Fragment=eK;Ot.Profiler=rK;Ot.PureComponent=_C;Ot.StrictMode=tK;Ot.Suspense=sK;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hK;Ot.act=f$;Ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=s$({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=SC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)c$.call(t,c)&&!u$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ov,type:e.type,key:a,ref:i,props:n,_owner:o}};Ot.createContext=function(e){return e={$$typeof:aK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nK,_context:e},e.Consumer=e};Ot.createElement=d$;Ot.createFactory=function(e){var t=d$.bind(null,e);return t.type=e,t};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(e){return{$$typeof:iK,render:e}};Ot.isValidElement=NC;Ot.lazy=function(e){return{$$typeof:lK,_payload:{_status:-1,_result:e},_init:fK}};Ot.memo=function(e,t){return{$$typeof:oK,type:e,compare:t===void 0?null:t}};Ot.startTransition=function(e){var t=Px.transition;Px.transition={};try{e()}finally{Px.transition=t}};Ot.unstable_act=f$;Ot.useCallback=function(e,t){return Pa.current.useCallback(e,t)};Ot.useContext=function(e){return Pa.current.useContext(e)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(e){return Pa.current.useDeferredValue(e)};Ot.useEffect=function(e,t){return Pa.current.useEffect(e,t)};Ot.useId=function(){return Pa.current.useId()};Ot.useImperativeHandle=function(e,t,r){return Pa.current.useImperativeHandle(e,t,r)};Ot.useInsertionEffect=function(e,t){return Pa.current.useInsertionEffect(e,t)};Ot.useLayoutEffect=function(e,t){return Pa.current.useLayoutEffect(e,t)};Ot.useMemo=function(e,t){return Pa.current.useMemo(e,t)};Ot.useReducer=function(e,t,r){return Pa.current.useReducer(e,t,r)};Ot.useRef=function(e){return Pa.current.useRef(e)};Ot.useState=function(e){return Pa.current.useState(e)};Ot.useSyncExternalStore=function(e,t,r){return Pa.current.useSyncExternalStore(e,t,r)};Ot.useTransition=function(){return Pa.current.useTransition()};Ot.version="18.3.1";a$.exports=Ot;var _=a$.exports;const F=Qt(_),h$=ZG({__proto__:null,default:F},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mK=_,pK=Symbol.for("react.element"),vK=Symbol.for("react.fragment"),gK=Object.prototype.hasOwnProperty,xK=mK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yK={key:!0,ref:!0,__self:!0,__source:!0};function m$(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)gK.call(t,n)&&!yK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:pK,type:e,key:i,ref:o,props:a,_owner:xK.current}}yb.Fragment=vK;yb.jsx=m$;yb.jsxs=m$;n$.exports=yb;var s=n$.exports,p$={exports:{}},ji={},v$={exports:{}},g$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,W){var ne=O.length;O.push(W);e:for(;0<ne;){var ee=ne-1>>>1,I=O[ee];if(0<a(I,W))O[ee]=W,O[ne]=I,ne=ee;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var W=O[0],ne=O.pop();if(ne!==W){O[0]=ne;e:for(var ee=0,I=O.length,X=I>>>1;ee<X;){var Y=2*(ee+1)-1,Q=O[Y],ie=Y+1,he=O[ie];if(0>a(Q,ne))ie<I&&0>a(he,Q)?(O[ee]=he,O[ie]=ne,ee=ie):(O[ee]=Q,O[Y]=ne,ee=Y);else if(ie<I&&0>a(he,ne))O[ee]=he,O[ie]=ne,ee=ie;else break e}}return W}function a(O,W){var ne=O.sortIndex-W.sortIndex;return ne!==0?ne:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=O)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function b(O){if(p=!1,w(O),!v)if(r(c)!==null)v=!0,M(j);else{var W=r(u);W!==null&&D(b,W.startTime-O)}}function j(O,W){v=!1,p&&(p=!1,x(E),E=-1),m=!0;var ne=h;try{for(w(W),f=r(c);f!==null&&(!(f.expirationTime>W)||O&&!A());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var I=ee(f.expirationTime<=W);W=e.unstable_now(),typeof I=="function"?f.callback=I:f===r(c)&&n(c),w(W)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var Y=r(u);Y!==null&&D(b,Y.startTime-W),X=!1}return X}finally{f=null,h=ne,m=!1}}var N=!1,S=null,E=-1,C=5,T=-1;function A(){return!(e.unstable_now()-T<C)}function k(){if(S!==null){var O=e.unstable_now();T=O;var W=!0;try{W=S(!0,O)}finally{W?P():(N=!1,S=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,B=L.port2;L.port1.onmessage=k,P=function(){B.postMessage(null)}}else P=function(){g(k,0)};function M(O){S=O,N||(N=!0,P())}function D(O,W){E=g(function(){O(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,M(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var ne=h;h=W;try{return O()}finally{h=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ne=h;h=O;try{return W()}finally{h=ne}},e.unstable_scheduleCallback=function(O,W,ne){var ee=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ne+I,O={id:d++,callback:W,priorityLevel:O,startTime:ne,expirationTime:I,sortIndex:-1},ne>ee?(O.sortIndex=ne,t(u,O),r(c)===null&&O===r(u)&&(p?(x(E),E=-1):p=!0,D(b,ne-ee))):(O.sortIndex=I,t(c,O),v||m||(v=!0,M(j))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var W=h;return function(){var ne=h;h=W;try{return O.apply(this,arguments)}finally{h=ne}}}})(g$);v$.exports=g$;var bK=v$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wK=_,bi=bK;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x$=new Set,Zp={};function gd(e,t){rh(e,t),rh(e+"Capture",t)}function rh(e,t){for(Zp[e]=t,e=0;e<t.length;e++)x$.add(t[e])}var el=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L2=Object.prototype.hasOwnProperty,_K=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$P={},LP={};function jK(e){return L2.call(LP,e)?!0:L2.call($P,e)?!1:_K.test(e)?LP[e]=!0:($P[e]=!0,!1)}function SK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NK(e,t,r,n){if(t===null||typeof t>"u"||SK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oa(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new Oa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new Oa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new Oa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new Oa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new Oa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new Oa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new Oa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new Oa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new Oa(e,5,!1,e.toLowerCase(),null,!1,!1)});var EC=/[\-:]([a-z])/g;function CC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(EC,CC);Qn[t]=new Oa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(EC,CC);Qn[t]=new Oa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(EC,CC);Qn[t]=new Oa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new Oa(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new Oa(e,1,!1,e.toLowerCase(),null,!0,!0)});function TC(e,t,r,n){var a=Qn.hasOwnProperty(t)?Qn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NK(t,r,a,n)&&(r=null),n||a===null?jK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vl=wK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tg=Symbol.for("react.element"),Zd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),AC=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),y$=Symbol.for("react.provider"),b$=Symbol.for("react.context"),kC=Symbol.for("react.forward_ref"),U2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),PC=Symbol.for("react.memo"),Fl=Symbol.for("react.lazy"),w$=Symbol.for("react.offscreen"),BP=Symbol.iterator;function Bm(e){return e===null||typeof e!="object"?null:(e=BP&&e[BP]||e["@@iterator"],typeof e=="function"?e:null)}var Lr=Object.assign,W_;function fp(e){if(W_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);W_=t&&t[1]||""}return`
`+W_+e}var G_=!1;function K_(e,t){if(!e||G_)return"";G_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{G_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fp(e):""}function EK(e){switch(e.tag){case 5:return fp(e.type);case 16:return fp("Lazy");case 13:return fp("Suspense");case 19:return fp("SuspenseList");case 0:case 2:case 15:return e=K_(e.type,!1),e;case 11:return e=K_(e.type.render,!1),e;case 1:return e=K_(e.type,!0),e;default:return""}}function z2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jd:return"Fragment";case Zd:return"Portal";case B2:return"Profiler";case AC:return"StrictMode";case U2:return"Suspense";case q2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case b$:return(e.displayName||"Context")+".Consumer";case y$:return(e._context.displayName||"Context")+".Provider";case kC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PC:return t=e.displayName||null,t!==null?t:z2(e.type)||"Memo";case Fl:t=e._payload,e=e._init;try{return z2(e(t))}catch{}}return null}function CK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z2(t);case 8:return t===AC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TK(e){var t=_$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ag(e){e._valueTracker||(e._valueTracker=TK(e))}function j$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=_$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ry(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function H2(e,t){var r=t.checked;return Lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function UP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S$(e,t){t=t.checked,t!=null&&TC(e,"checked",t,!1)}function V2(e,t){S$(e,t);var r=Sc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?W2(e,t.type,r):t.hasOwnProperty("defaultValue")&&W2(e,t.type,Sc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function W2(e,t,r){(t!=="number"||ry(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var hp=Array.isArray;function yf(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sc(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function G2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(hp(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sc(r)}}function N$(e,t){var r=Sc(t.value),n=Sc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function HP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kg,C$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kg=kg||document.createElement("div"),kg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AK=["Webkit","ms","Moz","O"];Object.keys(Sp).forEach(function(e){AK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sp[t]=Sp[e]})});function T$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sp.hasOwnProperty(e)&&Sp[e]?(""+t).trim():t+"px"}function A$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=T$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var kK=Lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X2(e,t){if(t){if(kK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function Y2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q2=null;function OC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Z2=null,bf=null,wf=null;function VP(e){if(e=Mv(e)){if(typeof Z2!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=Sb(t),Z2(e.stateNode,e.type,t))}}function k$(e){bf?wf?wf.push(e):wf=[e]:bf=e}function P$(){if(bf){var e=bf,t=wf;if(wf=bf=null,VP(e),t)for(e=0;e<t.length;e++)VP(t[e])}}function O$(e,t){return e(t)}function D$(){}var X_=!1;function R$(e,t,r){if(X_)return e(t,r);X_=!0;try{return O$(e,t,r)}finally{X_=!1,(bf!==null||wf!==null)&&(D$(),P$())}}function e0(e,t){var r=e.stateNode;if(r===null)return null;var n=Sb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var J2=!1;if(el)try{var Um={};Object.defineProperty(Um,"passive",{get:function(){J2=!0}}),window.addEventListener("test",Um,Um),window.removeEventListener("test",Um,Um)}catch{J2=!1}function PK(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Np=!1,ny=null,ay=!1,eS=null,OK={onError:function(e){Np=!0,ny=e}};function DK(e,t,r,n,a,i,o,l,c){Np=!1,ny=null,PK.apply(OK,arguments)}function RK(e,t,r,n,a,i,o,l,c){if(DK.apply(this,arguments),Np){if(Np){var u=ny;Np=!1,ny=null}else throw Error(Ee(198));ay||(ay=!0,eS=u)}}function xd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function WP(e){if(xd(e)!==e)throw Error(Ee(188))}function MK(e){var t=e.alternate;if(!t){if(t=xd(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return WP(a),e;if(i===n)return WP(a),t;i=i.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:t}function I$(e){return e=MK(e),e!==null?F$(e):null}function F$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F$(e);if(t!==null)return t;e=e.sibling}return null}var $$=bi.unstable_scheduleCallback,GP=bi.unstable_cancelCallback,IK=bi.unstable_shouldYield,FK=bi.unstable_requestPaint,Xr=bi.unstable_now,$K=bi.unstable_getCurrentPriorityLevel,DC=bi.unstable_ImmediatePriority,L$=bi.unstable_UserBlockingPriority,iy=bi.unstable_NormalPriority,LK=bi.unstable_LowPriority,B$=bi.unstable_IdlePriority,bb=null,ro=null;function BK(e){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(bb,e,void 0,(e.current.flags&128)===128)}catch{}}var _s=Math.clz32?Math.clz32:zK,UK=Math.log,qK=Math.LN2;function zK(e){return e>>>=0,e===0?32:31-(UK(e)/qK|0)|0}var Pg=64,Og=4194304;function mp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=mp(l):(i&=o,i!==0&&(n=mp(i)))}else o=r&~a,o!==0?n=mp(o):i!==0&&(n=mp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_s(t),a=1<<r,n|=e[r],t&=~a;return n}function HK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-_s(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=HK(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function tS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U$(){var e=Pg;return Pg<<=1,!(Pg&4194240)&&(Pg=64),e}function Y_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_s(t),e[t]=r}function WK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_s(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function RC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_s(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var lr=0;function q$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var z$,MC,H$,V$,W$,rS=!1,Dg=[],dc=null,fc=null,hc=null,t0=new Map,r0=new Map,ql=[],GK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KP(e,t){switch(e){case"focusin":case"focusout":dc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":hc=null;break;case"pointerover":case"pointerout":t0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":r0.delete(t.pointerId)}}function qm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mv(t),t!==null&&MC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function KK(e,t,r,n,a){switch(t){case"focusin":return dc=qm(dc,e,t,r,n,a),!0;case"dragenter":return fc=qm(fc,e,t,r,n,a),!0;case"mouseover":return hc=qm(hc,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return t0.set(i,qm(t0.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,r0.set(i,qm(r0.get(i)||null,e,t,r,n,a)),!0}return!1}function G$(e){var t=ju(e.target);if(t!==null){var r=xd(t);if(r!==null){if(t=r.tag,t===13){if(t=M$(r),t!==null){e.blockedOn=t,W$(e.priority,function(){H$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ox(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Q2=n,r.target.dispatchEvent(n),Q2=null}else return t=Mv(r),t!==null&&MC(t),e.blockedOn=r,!1;t.shift()}return!0}function XP(e,t,r){Ox(e)&&r.delete(t)}function XK(){rS=!1,dc!==null&&Ox(dc)&&(dc=null),fc!==null&&Ox(fc)&&(fc=null),hc!==null&&Ox(hc)&&(hc=null),t0.forEach(XP),r0.forEach(XP)}function zm(e,t){e.blockedOn===t&&(e.blockedOn=null,rS||(rS=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,XK)))}function n0(e){function t(a){return zm(a,e)}if(0<Dg.length){zm(Dg[0],e);for(var r=1;r<Dg.length;r++){var n=Dg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dc!==null&&zm(dc,e),fc!==null&&zm(fc,e),hc!==null&&zm(hc,e),t0.forEach(t),r0.forEach(t),r=0;r<ql.length;r++)n=ql[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ql.length&&(r=ql[0],r.blockedOn===null);)G$(r),r.blockedOn===null&&ql.shift()}var _f=vl.ReactCurrentBatchConfig,oy=!0;function YK(e,t,r,n){var a=lr,i=_f.transition;_f.transition=null;try{lr=1,IC(e,t,r,n)}finally{lr=a,_f.transition=i}}function QK(e,t,r,n){var a=lr,i=_f.transition;_f.transition=null;try{lr=4,IC(e,t,r,n)}finally{lr=a,_f.transition=i}}function IC(e,t,r,n){if(oy){var a=nS(e,t,r,n);if(a===null)sj(e,t,n,ly,r),KP(e,n);else if(KK(a,e,t,r,n))n.stopPropagation();else if(KP(e,n),t&4&&-1<GK.indexOf(e)){for(;a!==null;){var i=Mv(a);if(i!==null&&z$(i),i=nS(e,t,r,n),i===null&&sj(e,t,n,ly,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else sj(e,t,n,null,r)}}var ly=null;function nS(e,t,r,n){if(ly=null,e=OC(n),e=ju(e),e!==null)if(t=xd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ly=e,null}function K$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($K()){case DC:return 1;case L$:return 4;case iy:case LK:return 16;case B$:return 536870912;default:return 16}default:return 16}}var ac=null,FC=null,Dx=null;function X$(){if(Dx)return Dx;var e,t=FC,r=t.length,n,a="value"in ac?ac.value:ac.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Dx=a.slice(e,1<n?1-n:void 0)}function Rx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rg(){return!0}function YP(){return!1}function Si(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rg:YP,this.isPropagationStopped=YP,this}return Lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rg)},persist:function(){},isPersistent:Rg}),t}var Zh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$C=Si(Zh),Rv=Lr({},Zh,{view:0,detail:0}),ZK=Si(Rv),Q_,Z_,Hm,wb=Lr({},Rv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hm&&(Hm&&e.type==="mousemove"?(Q_=e.screenX-Hm.screenX,Z_=e.screenY-Hm.screenY):Z_=Q_=0,Hm=e),Q_)},movementY:function(e){return"movementY"in e?e.movementY:Z_}}),QP=Si(wb),JK=Lr({},wb,{dataTransfer:0}),eX=Si(JK),tX=Lr({},Rv,{relatedTarget:0}),J_=Si(tX),rX=Lr({},Zh,{animationName:0,elapsedTime:0,pseudoElement:0}),nX=Si(rX),aX=Lr({},Zh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iX=Si(aX),sX=Lr({},Zh,{data:0}),ZP=Si(sX),oX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cX[e])?!!t[e]:!1}function LC(){return uX}var dX=Lr({},Rv,{key:function(e){if(e.key){var t=oX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LC,charCode:function(e){return e.type==="keypress"?Rx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fX=Si(dX),hX=Lr({},wb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JP=Si(hX),mX=Lr({},Rv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LC}),pX=Si(mX),vX=Lr({},Zh,{propertyName:0,elapsedTime:0,pseudoElement:0}),gX=Si(vX),xX=Lr({},wb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yX=Si(xX),bX=[9,13,27,32],BC=el&&"CompositionEvent"in window,Ep=null;el&&"documentMode"in document&&(Ep=document.documentMode);var wX=el&&"TextEvent"in window&&!Ep,Y$=el&&(!BC||Ep&&8<Ep&&11>=Ep),eO=" ",tO=!1;function Q$(e,t){switch(e){case"keyup":return bX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ef=!1;function _X(e,t){switch(e){case"compositionend":return Z$(t);case"keypress":return t.which!==32?null:(tO=!0,eO);case"textInput":return e=t.data,e===eO&&tO?null:e;default:return null}}function jX(e,t){if(ef)return e==="compositionend"||!BC&&Q$(e,t)?(e=X$(),Dx=FC=ac=null,ef=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Y$&&t.locale!=="ko"?null:t.data;default:return null}}var SX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SX[e.type]:t==="textarea"}function J$(e,t,r,n){k$(n),t=cy(t,"onChange"),0<t.length&&(r=new $C("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cp=null,a0=null;function NX(e){u6(e,0)}function _b(e){var t=nf(e);if(j$(t))return e}function EX(e,t){if(e==="change")return t}var e6=!1;if(el){var ej;if(el){var tj="oninput"in document;if(!tj){var nO=document.createElement("div");nO.setAttribute("oninput","return;"),tj=typeof nO.oninput=="function"}ej=tj}else ej=!1;e6=ej&&(!document.documentMode||9<document.documentMode)}function aO(){Cp&&(Cp.detachEvent("onpropertychange",t6),a0=Cp=null)}function t6(e){if(e.propertyName==="value"&&_b(a0)){var t=[];J$(t,a0,e,OC(e)),R$(NX,t)}}function CX(e,t,r){e==="focusin"?(aO(),Cp=t,a0=r,Cp.attachEvent("onpropertychange",t6)):e==="focusout"&&aO()}function TX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _b(a0)}function AX(e,t){if(e==="click")return _b(t)}function kX(e,t){if(e==="input"||e==="change")return _b(t)}function PX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:PX;function i0(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!L2.call(t,a)||!Ts(e[a],t[a]))return!1}return!0}function iO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sO(e,t){var r=iO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iO(r)}}function r6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function n6(){for(var e=window,t=ry();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ry(e.document)}return t}function UC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OX(e){var t=n6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&r6(r.ownerDocument.documentElement,r)){if(n!==null&&UC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=sO(r,i);var o=sO(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DX=el&&"documentMode"in document&&11>=document.documentMode,tf=null,aS=null,Tp=null,iS=!1;function oO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;iS||tf==null||tf!==ry(n)||(n=tf,"selectionStart"in n&&UC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tp&&i0(Tp,n)||(Tp=n,n=cy(aS,"onSelect"),0<n.length&&(t=new $C("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=tf)))}function Mg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var rf={animationend:Mg("Animation","AnimationEnd"),animationiteration:Mg("Animation","AnimationIteration"),animationstart:Mg("Animation","AnimationStart"),transitionend:Mg("Transition","TransitionEnd")},rj={},a6={};el&&(a6=document.createElement("div").style,"AnimationEvent"in window||(delete rf.animationend.animation,delete rf.animationiteration.animation,delete rf.animationstart.animation),"TransitionEvent"in window||delete rf.transitionend.transition);function jb(e){if(rj[e])return rj[e];if(!rf[e])return e;var t=rf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in a6)return rj[e]=t[r];return e}var i6=jb("animationend"),s6=jb("animationiteration"),o6=jb("animationstart"),l6=jb("transitionend"),c6=new Map,lO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(e,t){c6.set(e,t),gd(t,[e])}for(var nj=0;nj<lO.length;nj++){var aj=lO[nj],RX=aj.toLowerCase(),MX=aj[0].toUpperCase()+aj.slice(1);$c(RX,"on"+MX)}$c(i6,"onAnimationEnd");$c(s6,"onAnimationIteration");$c(o6,"onAnimationStart");$c("dblclick","onDoubleClick");$c("focusin","onFocus");$c("focusout","onBlur");$c(l6,"onTransitionEnd");rh("onMouseEnter",["mouseout","mouseover"]);rh("onMouseLeave",["mouseout","mouseover"]);rh("onPointerEnter",["pointerout","pointerover"]);rh("onPointerLeave",["pointerout","pointerover"]);gd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gd("onBeforeInput",["compositionend","keypress","textInput","paste"]);gd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IX=new Set("cancel close invalid load scroll toggle".split(" ").concat(pp));function cO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,RK(n,t,void 0,e),e.currentTarget=null}function u6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;cO(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;cO(a,l,u),i=c}}}if(ay)throw e=eS,ay=!1,eS=null,e}function jr(e,t){var r=t[uS];r===void 0&&(r=t[uS]=new Set);var n=e+"__bubble";r.has(n)||(d6(t,e,2,!1),r.add(n))}function ij(e,t,r){var n=0;t&&(n|=4),d6(r,e,n,t)}var Ig="_reactListening"+Math.random().toString(36).slice(2);function s0(e){if(!e[Ig]){e[Ig]=!0,x$.forEach(function(r){r!=="selectionchange"&&(IX.has(r)||ij(r,!1,e),ij(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ig]||(t[Ig]=!0,ij("selectionchange",!1,t))}}function d6(e,t,r,n){switch(K$(t)){case 1:var a=YK;break;case 4:a=QK;break;default:a=IC}r=a.bind(null,t,r,e),a=void 0,!J2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function sj(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ju(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}R$(function(){var u=i,d=OC(r),f=[];e:{var h=c6.get(e);if(h!==void 0){var m=$C,v=e;switch(e){case"keypress":if(Rx(r)===0)break e;case"keydown":case"keyup":m=fX;break;case"focusin":v="focus",m=J_;break;case"focusout":v="blur",m=J_;break;case"beforeblur":case"afterblur":m=J_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=pX;break;case i6:case s6:case o6:m=nX;break;case l6:m=gX;break;case"scroll":m=ZK;break;case"wheel":m=yX;break;case"copy":case"cut":case"paste":m=iX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JP}var p=(t&4)!==0,g=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,x!==null&&(b=e0(y,x),b!=null&&p.push(o0(y,b,w)))),g)break;y=y.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Q2&&(v=r.relatedTarget||r.fromElement)&&(ju(v)||v[tl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?ju(v):null,v!==null&&(g=xd(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=QP,b="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=JP,b="onPointerLeave",x="onPointerEnter",y="pointer"),g=m==null?h:nf(m),w=v==null?h:nf(v),h=new p(b,y+"leave",m,r,d),h.target=g,h.relatedTarget=w,b=null,ju(d)===u&&(p=new p(x,y+"enter",v,r,d),p.target=w,p.relatedTarget=g,b=p),g=b,m&&v)t:{for(p=m,x=v,y=0,w=p;w;w=kd(w))y++;for(w=0,b=x;b;b=kd(b))w++;for(;0<y-w;)p=kd(p),y--;for(;0<w-y;)x=kd(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=kd(p),x=kd(x)}p=null}else p=null;m!==null&&uO(f,h,m,p,!1),v!==null&&g!==null&&uO(f,g,v,p,!0)}}e:{if(h=u?nf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=EX;else if(rO(h))if(e6)j=kX;else{j=TX;var N=CX}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=AX);if(j&&(j=j(e,u))){J$(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&W2(h,"number",h.value)}switch(N=u?nf(u):window,e){case"focusin":(rO(N)||N.contentEditable==="true")&&(tf=N,aS=u,Tp=null);break;case"focusout":Tp=aS=tf=null;break;case"mousedown":iS=!0;break;case"contextmenu":case"mouseup":case"dragend":iS=!1,oO(f,r,d);break;case"selectionchange":if(DX)break;case"keydown":case"keyup":oO(f,r,d)}var S;if(BC)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ef?Q$(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Y$&&r.locale!=="ko"&&(ef||E!=="onCompositionStart"?E==="onCompositionEnd"&&ef&&(S=X$()):(ac=d,FC="value"in ac?ac.value:ac.textContent,ef=!0)),N=cy(u,E),0<N.length&&(E=new ZP(E,e,null,r,d),f.push({event:E,listeners:N}),S?E.data=S:(S=Z$(r),S!==null&&(E.data=S)))),(S=wX?_X(e,r):jX(e,r))&&(u=cy(u,"onBeforeInput"),0<u.length&&(d=new ZP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}u6(f,t)})}function o0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=e0(e,r),i!=null&&n.unshift(o0(e,i,a)),i=e0(e,t),i!=null&&n.push(o0(e,i,a))),e=e.return}return n}function kd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uO(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=e0(r,i),c!=null&&o.unshift(o0(r,c,l))):a||(c=e0(r,i),c!=null&&o.push(o0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var FX=/\r\n?/g,$X=/\u0000|\uFFFD/g;function dO(e){return(typeof e=="string"?e:""+e).replace(FX,`
`).replace($X,"")}function Fg(e,t,r){if(t=dO(t),dO(e)!==t&&r)throw Error(Ee(425))}function uy(){}var sS=null,oS=null;function lS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cS=typeof setTimeout=="function"?setTimeout:void 0,LX=typeof clearTimeout=="function"?clearTimeout:void 0,fO=typeof Promise=="function"?Promise:void 0,BX=typeof queueMicrotask=="function"?queueMicrotask:typeof fO<"u"?function(e){return fO.resolve(null).then(e).catch(UX)}:cS;function UX(e){setTimeout(function(){throw e})}function oj(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),n0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);n0(t)}function mc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jh=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Jh,l0="__reactProps$"+Jh,tl="__reactContainer$"+Jh,uS="__reactEvents$"+Jh,qX="__reactListeners$"+Jh,zX="__reactHandles$"+Jh;function ju(e){var t=e[Xs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tl]||r[Xs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=hO(e);e!==null;){if(r=e[Xs])return r;e=hO(e)}return t}e=r,r=e.parentNode}return null}function Mv(e){return e=e[Xs]||e[tl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function Sb(e){return e[l0]||null}var dS=[],af=-1;function Lc(e){return{current:e}}function Cr(e){0>af||(e.current=dS[af],dS[af]=null,af--)}function yr(e,t){af++,dS[af]=e.current,e.current=t}var Nc={},ua=Lc(Nc),Wa=Lc(!1),Vu=Nc;function nh(e,t){var r=e.type.contextTypes;if(!r)return Nc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ga(e){return e=e.childContextTypes,e!=null}function dy(){Cr(Wa),Cr(ua)}function mO(e,t,r){if(ua.current!==Nc)throw Error(Ee(168));yr(ua,t),yr(Wa,r)}function f6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ee(108,CK(e)||"Unknown",a));return Lr({},r,n)}function fy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nc,Vu=ua.current,yr(ua,e),yr(Wa,Wa.current),!0}function pO(e,t,r){var n=e.stateNode;if(!n)throw Error(Ee(169));r?(e=f6(e,t,Vu),n.__reactInternalMemoizedMergedChildContext=e,Cr(Wa),Cr(ua),yr(ua,e)):Cr(Wa),yr(Wa,r)}var Io=null,Nb=!1,lj=!1;function h6(e){Io===null?Io=[e]:Io.push(e)}function HX(e){Nb=!0,h6(e)}function Bc(){if(!lj&&Io!==null){lj=!0;var e=0,t=lr;try{var r=Io;for(lr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Io=null,Nb=!1}catch(a){throw Io!==null&&(Io=Io.slice(e+1)),$$(DC,Bc),a}finally{lr=t,lj=!1}}return null}var sf=[],of=0,hy=null,my=0,Fi=[],$i=0,Wu=null,$o=1,Lo="";function lu(e,t){sf[of++]=my,sf[of++]=hy,hy=e,my=t}function m6(e,t,r){Fi[$i++]=$o,Fi[$i++]=Lo,Fi[$i++]=Wu,Wu=e;var n=$o;e=Lo;var a=32-_s(n)-1;n&=~(1<<a),r+=1;var i=32-_s(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$o=1<<32-_s(t)+a|r<<a|n,Lo=i+e}else $o=1<<i|r<<a|n,Lo=e}function qC(e){e.return!==null&&(lu(e,1),m6(e,1,0))}function zC(e){for(;e===hy;)hy=sf[--of],sf[of]=null,my=sf[--of],sf[of]=null;for(;e===Wu;)Wu=Fi[--$i],Fi[$i]=null,Lo=Fi[--$i],Fi[$i]=null,$o=Fi[--$i],Fi[$i]=null}var pi=null,mi=null,Ar=!1,hs=null;function p6(e,t){var r=Bi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pi=e,mi=mc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pi=e,mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wu!==null?{id:$o,overflow:Lo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pi=e,mi=null,!0):!1;default:return!1}}function fS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hS(e){if(Ar){var t=mi;if(t){var r=t;if(!vO(e,t)){if(fS(e))throw Error(Ee(418));t=mc(r.nextSibling);var n=pi;t&&vO(e,t)?p6(n,r):(e.flags=e.flags&-4097|2,Ar=!1,pi=e)}}else{if(fS(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,Ar=!1,pi=e}}}function gO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pi=e}function $g(e){if(e!==pi)return!1;if(!Ar)return gO(e),Ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lS(e.type,e.memoizedProps)),t&&(t=mi)){if(fS(e))throw v6(),Error(Ee(418));for(;t;)p6(e,t),t=mc(t.nextSibling)}if(gO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mi=mc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mi=null}}else mi=pi?mc(e.stateNode.nextSibling):null;return!0}function v6(){for(var e=mi;e;)e=mc(e.nextSibling)}function ah(){mi=pi=null,Ar=!1}function HC(e){hs===null?hs=[e]:hs.push(e)}var VX=vl.ReactCurrentBatchConfig;function Vm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function Lg(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xO(e){var t=e._init;return t(e._payload)}function g6(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=xc(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,b){return y===null||y.tag!==6?(y=pj(w,x.mode,b),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,b){var j=w.type;return j===Jd?d(x,y,w.props.children,b,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fl&&xO(j)===y.type)?(b=a(y,w.props),b.ref=Vm(x,y,w),b.return=x,b):(b=Ux(w.type,w.key,w.props,null,x.mode,b),b.ref=Vm(x,y,w),b.return=x,b)}function u(x,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=vj(w,x.mode,b),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,b,j){return y===null||y.tag!==7?(y=Bu(w,x.mode,b,j),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pj(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tg:return w=Ux(y.type,y.key,y.props,null,x.mode,w),w.ref=Vm(x,null,y),w.return=x,w;case Zd:return y=vj(y,x.mode,w),y.return=x,y;case Fl:var b=y._init;return f(x,b(y._payload),w)}if(hp(y)||Bm(y))return y=Bu(y,x.mode,w,null),y.return=x,y;Lg(x,y)}return null}function h(x,y,w,b){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(x,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tg:return w.key===j?c(x,y,w,b):null;case Zd:return w.key===j?u(x,y,w,b):null;case Fl:return j=w._init,h(x,y,j(w._payload),b)}if(hp(w)||Bm(w))return j!==null?null:d(x,y,w,b,null);Lg(x,w)}return null}function m(x,y,w,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(w)||null,l(y,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tg:return x=x.get(b.key===null?w:b.key)||null,c(y,x,b,j);case Zd:return x=x.get(b.key===null?w:b.key)||null,u(y,x,b,j);case Fl:var N=b._init;return m(x,y,w,N(b._payload),j)}if(hp(b)||Bm(b))return x=x.get(w)||null,d(y,x,b,j,null);Lg(y,b)}return null}function v(x,y,w,b){for(var j=null,N=null,S=y,E=y=0,C=null;S!==null&&E<w.length;E++){S.index>E?(C=S,S=null):C=S.sibling;var T=h(x,S,w[E],b);if(T===null){S===null&&(S=C);break}e&&S&&T.alternate===null&&t(x,S),y=i(T,y,E),N===null?j=T:N.sibling=T,N=T,S=C}if(E===w.length)return r(x,S),Ar&&lu(x,E),j;if(S===null){for(;E<w.length;E++)S=f(x,w[E],b),S!==null&&(y=i(S,y,E),N===null?j=S:N.sibling=S,N=S);return Ar&&lu(x,E),j}for(S=n(x,S);E<w.length;E++)C=m(S,x,E,w[E],b),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),y=i(C,y,E),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(A){return t(x,A)}),Ar&&lu(x,E),j}function p(x,y,w,b){var j=Bm(w);if(typeof j!="function")throw Error(Ee(150));if(w=j.call(w),w==null)throw Error(Ee(151));for(var N=j=null,S=y,E=y=0,C=null,T=w.next();S!==null&&!T.done;E++,T=w.next()){S.index>E?(C=S,S=null):C=S.sibling;var A=h(x,S,T.value,b);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(x,S),y=i(A,y,E),N===null?j=A:N.sibling=A,N=A,S=C}if(T.done)return r(x,S),Ar&&lu(x,E),j;if(S===null){for(;!T.done;E++,T=w.next())T=f(x,T.value,b),T!==null&&(y=i(T,y,E),N===null?j=T:N.sibling=T,N=T);return Ar&&lu(x,E),j}for(S=n(x,S);!T.done;E++,T=w.next())T=m(S,x,E,T.value,b),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?E:T.key),y=i(T,y,E),N===null?j=T:N.sibling=T,N=T);return e&&S.forEach(function(k){return t(x,k)}),Ar&&lu(x,E),j}function g(x,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Jd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Tg:e:{for(var j=w.key,N=y;N!==null;){if(N.key===j){if(j=w.type,j===Jd){if(N.tag===7){r(x,N.sibling),y=a(N,w.props.children),y.return=x,x=y;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fl&&xO(j)===N.type){r(x,N.sibling),y=a(N,w.props),y.ref=Vm(x,N,w),y.return=x,x=y;break e}r(x,N);break}else t(x,N);N=N.sibling}w.type===Jd?(y=Bu(w.props.children,x.mode,b,w.key),y.return=x,x=y):(b=Ux(w.type,w.key,w.props,null,x.mode,b),b.ref=Vm(x,y,w),b.return=x,x=b)}return o(x);case Zd:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=vj(w,x.mode,b),y.return=x,x=y}return o(x);case Fl:return N=w._init,g(x,y,N(w._payload),b)}if(hp(w))return v(x,y,w,b);if(Bm(w))return p(x,y,w,b);Lg(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=pj(w,x.mode,b),y.return=x,x=y),o(x)):r(x,y)}return g}var ih=g6(!0),x6=g6(!1),py=Lc(null),vy=null,lf=null,VC=null;function WC(){VC=lf=vy=null}function GC(e){var t=py.current;Cr(py),e._currentValue=t}function mS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jf(e,t){vy=e,VC=lf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ha=!0),e.firstContext=null)}function Gi(e){var t=e._currentValue;if(VC!==e)if(e={context:e,memoizedValue:t,next:null},lf===null){if(vy===null)throw Error(Ee(308));lf=e,vy.dependencies={lanes:0,firstContext:e}}else lf=lf.next=e;return t}var Su=null;function KC(e){Su===null?Su=[e]:Su.push(e)}function y6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,KC(t)):(r.next=a.next,a.next=r),t.interleaved=r,rl(e,n)}function rl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $l=!1;function XC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,rl(e,r)}return a=n.interleaved,a===null?(t.next=t,KC(n)):(t.next=a.next,a.next=t),n.interleaved=t,rl(e,r)}function Mx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RC(e,r)}}function yO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gy(e,t,r,n){var a=e.updateQueue;$l=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Lr({},f,h);break e;case 2:$l=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ku|=o,e.lanes=o,e.memoizedState=f}}function bO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ee(191,a));a.call(n)}}}var Iv={},no=Lc(Iv),c0=Lc(Iv),u0=Lc(Iv);function Nu(e){if(e===Iv)throw Error(Ee(174));return e}function YC(e,t){switch(yr(u0,t),yr(c0,e),yr(no,Iv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K2(t,e)}Cr(no),yr(no,t)}function sh(){Cr(no),Cr(c0),Cr(u0)}function w6(e){Nu(u0.current);var t=Nu(no.current),r=K2(t,e.type);t!==r&&(yr(c0,e),yr(no,r))}function QC(e){c0.current===e&&(Cr(no),Cr(c0))}var Mr=Lc(0);function xy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cj=[];function ZC(){for(var e=0;e<cj.length;e++)cj[e]._workInProgressVersionPrimary=null;cj.length=0}var Ix=vl.ReactCurrentDispatcher,uj=vl.ReactCurrentBatchConfig,Gu=0,$r=null,gn=null,Cn=null,yy=!1,Ap=!1,d0=0,WX=0;function ea(){throw Error(Ee(321))}function JC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ts(e[r],t[r]))return!1;return!0}function eT(e,t,r,n,a,i){if(Gu=i,$r=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ix.current=e===null||e.memoizedState===null?YX:QX,e=r(n,a),Ap){i=0;do{if(Ap=!1,d0=0,25<=i)throw Error(Ee(301));i+=1,Cn=gn=null,t.updateQueue=null,Ix.current=ZX,e=r(n,a)}while(Ap)}if(Ix.current=by,t=gn!==null&&gn.next!==null,Gu=0,Cn=gn=$r=null,yy=!1,t)throw Error(Ee(300));return e}function tT(){var e=d0!==0;return d0=0,e}function qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?$r.memoizedState=Cn=e:Cn=Cn.next=e,Cn}function Ki(){if(gn===null){var e=$r.alternate;e=e!==null?e.memoizedState:null}else e=gn.next;var t=Cn===null?$r.memoizedState:Cn.next;if(t!==null)Cn=t,gn=e;else{if(e===null)throw Error(Ee(310));gn=e,e={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Cn===null?$r.memoizedState=Cn=e:Cn=Cn.next=e}return Cn}function f0(e,t){return typeof t=="function"?t(e):t}function dj(e){var t=Ki(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=gn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Gu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,$r.lanes|=d,Ku|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Ts(n,t.memoizedState)||(Ha=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,$r.lanes|=i,Ku|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fj(e){var t=Ki(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ts(i,t.memoizedState)||(Ha=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _6(){}function j6(e,t){var r=$r,n=Ki(),a=t(),i=!Ts(n.memoizedState,a);if(i&&(n.memoizedState=a,Ha=!0),n=n.queue,rT(E6.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Cn!==null&&Cn.memoizedState.tag&1){if(r.flags|=2048,h0(9,N6.bind(null,r,n,a,t),void 0,null),Dn===null)throw Error(Ee(349));Gu&30||S6(r,t,a)}return a}function S6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N6(e,t,r,n){t.value=r,t.getSnapshot=n,C6(t)&&T6(e)}function E6(e,t,r){return r(function(){C6(t)&&T6(e)})}function C6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ts(e,r)}catch{return!0}}function T6(e){var t=rl(e,1);t!==null&&js(t,e,1,-1)}function wO(e){var t=qs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f0,lastRenderedState:e},t.queue=e,e=e.dispatch=XX.bind(null,$r,e),[t.memoizedState,e]}function h0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$r.updateQueue,t===null?(t={lastEffect:null,stores:null},$r.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function A6(){return Ki().memoizedState}function Fx(e,t,r,n){var a=qs();$r.flags|=e,a.memoizedState=h0(1|t,r,void 0,n===void 0?null:n)}function Eb(e,t,r,n){var a=Ki();n=n===void 0?null:n;var i=void 0;if(gn!==null){var o=gn.memoizedState;if(i=o.destroy,n!==null&&JC(n,o.deps)){a.memoizedState=h0(t,r,i,n);return}}$r.flags|=e,a.memoizedState=h0(1|t,r,i,n)}function _O(e,t){return Fx(8390656,8,e,t)}function rT(e,t){return Eb(2048,8,e,t)}function k6(e,t){return Eb(4,2,e,t)}function P6(e,t){return Eb(4,4,e,t)}function O6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D6(e,t,r){return r=r!=null?r.concat([e]):null,Eb(4,4,O6.bind(null,t,e),r)}function nT(){}function R6(e,t){var r=Ki();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function M6(e,t){var r=Ki();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function I6(e,t,r){return Gu&21?(Ts(r,t)||(r=U$(),$r.lanes|=r,Ku|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ha=!0),e.memoizedState=r)}function GX(e,t){var r=lr;lr=r!==0&&4>r?r:4,e(!0);var n=uj.transition;uj.transition={};try{e(!1),t()}finally{lr=r,uj.transition=n}}function F6(){return Ki().memoizedState}function KX(e,t,r){var n=gc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$6(e))L6(t,r);else if(r=y6(e,t,r,n),r!==null){var a=Ta();js(r,e,n,a),B6(r,t,n)}}function XX(e,t,r){var n=gc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($6(e))L6(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ts(l,o)){var c=t.interleaved;c===null?(a.next=a,KC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=y6(e,t,a,n),r!==null&&(a=Ta(),js(r,e,n,a),B6(r,t,n))}}function $6(e){var t=e.alternate;return e===$r||t!==null&&t===$r}function L6(e,t){Ap=yy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function B6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,RC(e,r)}}var by={readContext:Gi,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useInsertionEffect:ea,useLayoutEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useMutableSource:ea,useSyncExternalStore:ea,useId:ea,unstable_isNewReconciler:!1},YX={readContext:Gi,useCallback:function(e,t){return qs().memoizedState=[e,t===void 0?null:t],e},useContext:Gi,useEffect:_O,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fx(4194308,4,O6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fx(4,2,e,t)},useMemo:function(e,t){var r=qs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KX.bind(null,$r,e),[n.memoizedState,e]},useRef:function(e){var t=qs();return e={current:e},t.memoizedState=e},useState:wO,useDebugValue:nT,useDeferredValue:function(e){return qs().memoizedState=e},useTransition:function(){var e=wO(!1),t=e[0];return e=GX.bind(null,e[1]),qs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$r,a=qs();if(Ar){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),Dn===null)throw Error(Ee(349));Gu&30||S6(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,_O(E6.bind(null,n,i,e),[e]),n.flags|=2048,h0(9,N6.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qs(),t=Dn.identifierPrefix;if(Ar){var r=Lo,n=$o;r=(n&~(1<<32-_s(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=d0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=WX++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QX={readContext:Gi,useCallback:R6,useContext:Gi,useEffect:rT,useImperativeHandle:D6,useInsertionEffect:k6,useLayoutEffect:P6,useMemo:M6,useReducer:dj,useRef:A6,useState:function(){return dj(f0)},useDebugValue:nT,useDeferredValue:function(e){var t=Ki();return I6(t,gn.memoizedState,e)},useTransition:function(){var e=dj(f0)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:_6,useSyncExternalStore:j6,useId:F6,unstable_isNewReconciler:!1},ZX={readContext:Gi,useCallback:R6,useContext:Gi,useEffect:rT,useImperativeHandle:D6,useInsertionEffect:k6,useLayoutEffect:P6,useMemo:M6,useReducer:fj,useRef:A6,useState:function(){return fj(f0)},useDebugValue:nT,useDeferredValue:function(e){var t=Ki();return gn===null?t.memoizedState=e:I6(t,gn.memoizedState,e)},useTransition:function(){var e=fj(f0)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:_6,useSyncExternalStore:j6,useId:F6,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){t=Lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cb={isMounted:function(e){return(e=e._reactInternals)?xd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ta(),a=gc(e),i=Vo(n,a);i.payload=t,r!=null&&(i.callback=r),t=pc(e,i,a),t!==null&&(js(t,e,a,n),Mx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ta(),a=gc(e),i=Vo(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pc(e,i,a),t!==null&&(js(t,e,a,n),Mx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ta(),n=gc(e),a=Vo(r,n);a.tag=2,t!=null&&(a.callback=t),t=pc(e,a,n),t!==null&&(js(t,e,n,r),Mx(t,e,n))}};function jO(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!i0(r,n)||!i0(a,i):!0}function U6(e,t,r){var n=!1,a=Nc,i=t.contextType;return typeof i=="object"&&i!==null?i=Gi(i):(a=Ga(t)?Vu:ua.current,n=t.contextTypes,i=(n=n!=null)?nh(e,a):Nc),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function SO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cb.enqueueReplaceState(t,t.state,null)}function vS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},XC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Gi(i):(i=Ga(t)?Vu:ua.current,a.context=nh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pS(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Cb.enqueueReplaceState(a,a.state,null),gy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function oh(e,t){try{var r="",n=t;do r+=EK(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function hj(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var JX=typeof WeakMap=="function"?WeakMap:Map;function q6(e,t,r){r=Vo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_y||(_y=!0,CS=n),gS(e,t)},r}function z6(e,t,r){r=Vo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gS(e,t),typeof n!="function"&&(vc===null?vc=new Set([this]):vc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function NO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new JX;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=hY.bind(null,e,t,r),t.then(e,e))}function EO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vo(-1,1),t.tag=2,pc(r,t,1))),r.lanes|=1),e)}var eY=vl.ReactCurrentOwner,Ha=!1;function va(e,t,r,n){t.child=e===null?x6(t,null,r,n):ih(t,e.child,r,n)}function TO(e,t,r,n,a){r=r.render;var i=t.ref;return jf(t,a),n=eT(e,t,r,n,i,a),r=tT(),e!==null&&!Ha?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nl(e,t,a)):(Ar&&r&&qC(t),t.flags|=1,va(e,t,n,a),t.child)}function AO(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!dT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,H6(e,t,i,n,a)):(e=Ux(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:i0,r(o,n)&&e.ref===t.ref)return nl(e,t,a)}return t.flags|=1,e=xc(i,n),e.ref=t.ref,e.return=t,t.child=e}function H6(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(i0(i,n)&&e.ref===t.ref)if(Ha=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ha=!0);else return t.lanes=e.lanes,nl(e,t,a)}return xS(e,t,r,n,a)}function V6(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(uf,oi),oi|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yr(uf,oi),oi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,yr(uf,oi),oi|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,yr(uf,oi),oi|=n;return va(e,t,a,r),t.child}function W6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xS(e,t,r,n,a){var i=Ga(r)?Vu:ua.current;return i=nh(t,i),jf(t,a),r=eT(e,t,r,n,i,a),n=tT(),e!==null&&!Ha?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,nl(e,t,a)):(Ar&&n&&qC(t),t.flags|=1,va(e,t,r,a),t.child)}function kO(e,t,r,n,a){if(Ga(r)){var i=!0;fy(t)}else i=!1;if(jf(t,a),t.stateNode===null)$x(e,t),U6(t,r,n),vS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gi(u):(u=Ga(r)?Vu:ua.current,u=nh(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&SO(t,o,n,u),$l=!1;var h=t.memoizedState;o.state=h,gy(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Wa.current||$l?(typeof d=="function"&&(pS(t,r,d,n),c=t.memoizedState),(l=$l||jO(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,b6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ls(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gi(c):(c=Ga(r)?Vu:ua.current,c=nh(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&SO(t,o,n,c),$l=!1,h=t.memoizedState,o.state=h,gy(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||Wa.current||$l?(typeof m=="function"&&(pS(t,r,m,n),v=t.memoizedState),(u=$l||jO(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return yS(e,t,r,n,i,a)}function yS(e,t,r,n,a,i){W6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&pO(t,r,!1),nl(e,t,i);n=t.stateNode,eY.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ih(t,e.child,null,i),t.child=ih(t,null,l,i)):va(e,t,l,i),t.memoizedState=n.state,a&&pO(t,r,!0),t.child}function G6(e){var t=e.stateNode;t.pendingContext?mO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mO(e,t.context,!1),YC(e,t.containerInfo)}function PO(e,t,r,n,a){return ah(),HC(a),t.flags|=256,va(e,t,r,n),t.child}var bS={dehydrated:null,treeContext:null,retryLane:0};function wS(e){return{baseLanes:e,cachePool:null,transitions:null}}function K6(e,t,r){var n=t.pendingProps,a=Mr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),yr(Mr,a&1),e===null)return hS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kb(o,n,0,null),e=Bu(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wS(r),t.memoizedState=bS,e):aT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return tY(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xc(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xc(l,i):(i=Bu(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?wS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=bS,n}return i=e.child,e=i.sibling,n=xc(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function aT(e,t){return t=kb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bg(e,t,r,n){return n!==null&&HC(n),ih(t,e.child,null,r),e=aT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tY(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=hj(Error(Ee(422))),Bg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=kb({mode:"visible",children:n.children},a,0,null),i=Bu(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ih(t,e.child,null,o),t.child.memoizedState=wS(o),t.memoizedState=bS,i);if(!(t.mode&1))return Bg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ee(419)),n=hj(i,n,void 0),Bg(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ha||l){if(n=Dn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,rl(e,a),js(n,e,a,-1))}return uT(),n=hj(Error(Ee(421))),Bg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=mY.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mi=mc(a.nextSibling),pi=t,Ar=!0,hs=null,e!==null&&(Fi[$i++]=$o,Fi[$i++]=Lo,Fi[$i++]=Wu,$o=e.id,Lo=e.overflow,Wu=t),t=aT(t,n.children),t.flags|=4096,t)}function OO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mS(e.return,t,r)}function mj(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function X6(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(va(e,t,n.children,r),n=Mr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OO(e,r,t);else if(e.tag===19)OO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yr(Mr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),mj(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}mj(t,!0,r,null,i);break;case"together":mj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $x(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ku|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,r=xc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rY(e,t,r){switch(t.tag){case 3:G6(t),ah();break;case 5:w6(t);break;case 1:Ga(t.type)&&fy(t);break;case 4:YC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;yr(py,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yr(Mr,Mr.current&1),t.flags|=128,null):r&t.child.childLanes?K6(e,t,r):(yr(Mr,Mr.current&1),e=nl(e,t,r),e!==null?e.sibling:null);yr(Mr,Mr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),yr(Mr,Mr.current),n)break;return null;case 22:case 23:return t.lanes=0,V6(e,t,r)}return nl(e,t,r)}var Y6,_S,Q6,Z6;Y6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_S=function(){};Q6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Nu(no.current);var i=null;switch(r){case"input":a=H2(e,a),n=H2(e,n),i=[];break;case"select":a=Lr({},a,{value:void 0}),n=Lr({},n,{value:void 0}),i=[];break;case"textarea":a=G2(e,a),n=G2(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uy)}X2(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Z6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Wm(e,t){if(!Ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ta(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nY(e,t,r){var n=t.pendingProps;switch(zC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ta(t),null;case 1:return Ga(t.type)&&dy(),ta(t),null;case 3:return n=t.stateNode,sh(),Cr(Wa),Cr(ua),ZC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hs!==null&&(kS(hs),hs=null))),_S(e,t),ta(t),null;case 5:QC(t);var a=Nu(u0.current);if(r=t.type,e!==null&&t.stateNode!=null)Q6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ee(166));return ta(t),null}if(e=Nu(no.current),$g(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Xs]=t,n[l0]=i,e=(t.mode&1)!==0,r){case"dialog":jr("cancel",n),jr("close",n);break;case"iframe":case"object":case"embed":jr("load",n);break;case"video":case"audio":for(a=0;a<pp.length;a++)jr(pp[a],n);break;case"source":jr("error",n);break;case"img":case"image":case"link":jr("error",n),jr("load",n);break;case"details":jr("toggle",n);break;case"input":UP(n,i),jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},jr("invalid",n);break;case"textarea":zP(n,i),jr("invalid",n)}X2(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Fg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Fg(n.textContent,l,e),a=["children",""+l]):Zp.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&jr("scroll",n)}switch(r){case"input":Ag(n),qP(n,i,!0);break;case"textarea":Ag(n),HP(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=uy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xs]=t,e[l0]=n,Y6(e,t,!1,!1),t.stateNode=e;e:{switch(o=Y2(r,n),r){case"dialog":jr("cancel",e),jr("close",e),a=n;break;case"iframe":case"object":case"embed":jr("load",e),a=n;break;case"video":case"audio":for(a=0;a<pp.length;a++)jr(pp[a],e);a=n;break;case"source":jr("error",e),a=n;break;case"img":case"image":case"link":jr("error",e),jr("load",e),a=n;break;case"details":jr("toggle",e),a=n;break;case"input":UP(e,n),a=H2(e,n),jr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Lr({},n,{value:void 0}),jr("invalid",e);break;case"textarea":zP(e,n),a=G2(e,n),jr("invalid",e);break;default:a=n}X2(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?A$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&C$(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jp(e,c):typeof c=="number"&&Jp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&jr("scroll",e):c!=null&&TC(e,i,c,o))}switch(r){case"input":Ag(e),qP(e,n,!1);break;case"textarea":Ag(e),HP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sc(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?yf(e,!!n.multiple,i,!1):n.defaultValue!=null&&yf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ta(t),null;case 6:if(e&&t.stateNode!=null)Z6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=Nu(u0.current),Nu(no.current),$g(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xs]=t,(i=n.nodeValue!==r)&&(e=pi,e!==null))switch(e.tag){case 3:Fg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xs]=t,t.stateNode=n}return ta(t),null;case 13:if(Cr(Mr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ar&&mi!==null&&t.mode&1&&!(t.flags&128))v6(),ah(),t.flags|=98560,i=!1;else if(i=$g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ee(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ee(317));i[Xs]=t}else ah(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ta(t),i=!1}else hs!==null&&(kS(hs),hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mr.current&1?bn===0&&(bn=3):uT())),t.updateQueue!==null&&(t.flags|=4),ta(t),null);case 4:return sh(),_S(e,t),e===null&&s0(t.stateNode.containerInfo),ta(t),null;case 10:return GC(t.type._context),ta(t),null;case 17:return Ga(t.type)&&dy(),ta(t),null;case 19:if(Cr(Mr),i=t.memoizedState,i===null)return ta(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Wm(i,!1);else{if(bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xy(e),o!==null){for(t.flags|=128,Wm(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yr(Mr,Mr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xr()>lh&&(t.flags|=128,n=!0,Wm(i,!1),t.lanes=4194304)}else{if(!n)if(e=xy(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Wm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ar)return ta(t),null}else 2*Xr()-i.renderingStartTime>lh&&r!==1073741824&&(t.flags|=128,n=!0,Wm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xr(),t.sibling=null,r=Mr.current,yr(Mr,n?r&1|2:r&1),t):(ta(t),null);case 22:case 23:return cT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?oi&1073741824&&(ta(t),t.subtreeFlags&6&&(t.flags|=8192)):ta(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function aY(e,t){switch(zC(t),t.tag){case 1:return Ga(t.type)&&dy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sh(),Cr(Wa),Cr(ua),ZC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return QC(t),null;case 13:if(Cr(Mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));ah()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Cr(Mr),null;case 4:return sh(),null;case 10:return GC(t.type._context),null;case 22:case 23:return cT(),null;case 24:return null;default:return null}}var Ug=!1,ia=!1,iY=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function cf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ur(e,t,n)}else r.current=null}function jS(e,t,r){try{r()}catch(n){Ur(e,t,n)}}var DO=!1;function sY(e,t){if(sS=oy,e=n6(),UC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(oS={focusedElem:e,selectionRange:r},oy=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){t=Ze;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:ls(t.type,p),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(b){Ur(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}return v=DO,DO=!1,v}function kp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&jS(t,r,i)}a=a.next}while(a!==n)}}function Tb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function SS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function J6(e){var t=e.alternate;t!==null&&(e.alternate=null,J6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xs],delete t[l0],delete t[uS],delete t[qX],delete t[zX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e5(e){return e.tag===5||e.tag===3||e.tag===4}function RO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function NS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uy));else if(n!==4&&(e=e.child,e!==null))for(NS(e,t,r),e=e.sibling;e!==null;)NS(e,t,r),e=e.sibling}function ES(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ES(e,t,r),e=e.sibling;e!==null;)ES(e,t,r),e=e.sibling}var Un=null,us=!1;function Tl(e,t,r){for(r=r.child;r!==null;)t5(e,t,r),r=r.sibling}function t5(e,t,r){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(bb,r)}catch{}switch(r.tag){case 5:ia||cf(r,t);case 6:var n=Un,a=us;Un=null,Tl(e,t,r),Un=n,us=a,Un!==null&&(us?(e=Un,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Un.removeChild(r.stateNode));break;case 18:Un!==null&&(us?(e=Un,r=r.stateNode,e.nodeType===8?oj(e.parentNode,r):e.nodeType===1&&oj(e,r),n0(e)):oj(Un,r.stateNode));break;case 4:n=Un,a=us,Un=r.stateNode.containerInfo,us=!0,Tl(e,t,r),Un=n,us=a;break;case 0:case 11:case 14:case 15:if(!ia&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jS(r,t,o),a=a.next}while(a!==n)}Tl(e,t,r);break;case 1:if(!ia&&(cf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ur(r,t,l)}Tl(e,t,r);break;case 21:Tl(e,t,r);break;case 22:r.mode&1?(ia=(n=ia)||r.memoizedState!==null,Tl(e,t,r),ia=n):Tl(e,t,r);break;default:Tl(e,t,r)}}function MO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iY),t.forEach(function(n){var a=pY.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ns(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Un=l.stateNode,us=!1;break e;case 3:Un=l.stateNode.containerInfo,us=!0;break e;case 4:Un=l.stateNode.containerInfo,us=!0;break e}l=l.return}if(Un===null)throw Error(Ee(160));t5(i,o,a),Un=null,us=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ur(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)r5(t,e),t=t.sibling}function r5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ns(t,e),$s(e),n&4){try{kp(3,e,e.return),Tb(3,e)}catch(p){Ur(e,e.return,p)}try{kp(5,e,e.return)}catch(p){Ur(e,e.return,p)}}break;case 1:ns(t,e),$s(e),n&512&&r!==null&&cf(r,r.return);break;case 5:if(ns(t,e),$s(e),n&512&&r!==null&&cf(r,r.return),e.flags&32){var a=e.stateNode;try{Jp(a,"")}catch(p){Ur(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&S$(a,i),Y2(l,o);var u=Y2(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?A$(a,f):d==="dangerouslySetInnerHTML"?C$(a,f):d==="children"?Jp(a,f):TC(a,d,f,u)}switch(l){case"input":V2(a,i);break;case"textarea":N$(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yf(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?yf(a,!!i.multiple,i.defaultValue,!0):yf(a,!!i.multiple,i.multiple?[]:"",!1))}a[l0]=i}catch(p){Ur(e,e.return,p)}}break;case 6:if(ns(t,e),$s(e),n&4){if(e.stateNode===null)throw Error(Ee(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Ur(e,e.return,p)}}break;case 3:if(ns(t,e),$s(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{n0(t.containerInfo)}catch(p){Ur(e,e.return,p)}break;case 4:ns(t,e),$s(e);break;case 13:ns(t,e),$s(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(oT=Xr())),n&4&&MO(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ia=(u=ia)||d,ns(t,e),ia=u):ns(t,e),$s(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ze=e,d=e.child;d!==null;){for(f=Ze=d;Ze!==null;){switch(h=Ze,m=h.child,h.tag){case 0:case 11:case 14:case 15:kp(4,h,h.return);break;case 1:cf(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){Ur(n,r,p)}}break;case 5:cf(h,h.return);break;case 22:if(h.memoizedState!==null){FO(f);continue}}m!==null?(m.return=h,Ze=m):FO(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=T$("display",o))}catch(p){Ur(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Ur(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ns(t,e),$s(e),n&4&&MO(e);break;case 21:break;default:ns(t,e),$s(e)}}function $s(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(e5(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Jp(a,""),n.flags&=-33);var i=RO(e);ES(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=RO(e);NS(e,l,o);break;default:throw Error(Ee(161))}}catch(c){Ur(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oY(e,t,r){Ze=e,n5(e)}function n5(e,t,r){for(var n=(e.mode&1)!==0;Ze!==null;){var a=Ze,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ug;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ia;l=Ug;var u=ia;if(Ug=o,(ia=c)&&!u)for(Ze=a;Ze!==null;)o=Ze,c=o.child,o.tag===22&&o.memoizedState!==null?$O(a):c!==null?(c.return=o,Ze=c):$O(a);for(;i!==null;)Ze=i,n5(i),i=i.sibling;Ze=a,Ug=l,ia=u}IO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ze=i):IO(e)}}function IO(e){for(;Ze!==null;){var t=Ze;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ia||Tb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ia)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ls(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bO(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}bO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&n0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}ia||t.flags&512&&SS(t)}catch(h){Ur(t,t.return,h)}}if(t===e){Ze=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function FO(e){for(;Ze!==null;){var t=Ze;if(t===e){Ze=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ze=r;break}Ze=t.return}}function $O(e){for(;Ze!==null;){var t=Ze;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tb(4,t)}catch(c){Ur(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ur(t,a,c)}}var i=t.return;try{SS(t)}catch(c){Ur(t,i,c)}break;case 5:var o=t.return;try{SS(t)}catch(c){Ur(t,o,c)}}}catch(c){Ur(t,t.return,c)}if(t===e){Ze=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ze=l;break}Ze=t.return}}var lY=Math.ceil,wy=vl.ReactCurrentDispatcher,iT=vl.ReactCurrentOwner,qi=vl.ReactCurrentBatchConfig,qt=0,Dn=null,on=null,Xn=0,oi=0,uf=Lc(0),bn=0,m0=null,Ku=0,Ab=0,sT=0,Pp=null,Ua=null,oT=0,lh=1/0,Do=null,_y=!1,CS=null,vc=null,qg=!1,ic=null,jy=0,Op=0,TS=null,Lx=-1,Bx=0;function Ta(){return qt&6?Xr():Lx!==-1?Lx:Lx=Xr()}function gc(e){return e.mode&1?qt&2&&Xn!==0?Xn&-Xn:VX.transition!==null?(Bx===0&&(Bx=U$()),Bx):(e=lr,e!==0||(e=window.event,e=e===void 0?16:K$(e.type)),e):1}function js(e,t,r,n){if(50<Op)throw Op=0,TS=null,Error(Ee(185));Dv(e,r,n),(!(qt&2)||e!==Dn)&&(e===Dn&&(!(qt&2)&&(Ab|=r),bn===4&&zl(e,Xn)),Ka(e,n),r===1&&qt===0&&!(t.mode&1)&&(lh=Xr()+500,Nb&&Bc()))}function Ka(e,t){var r=e.callbackNode;VK(e,t);var n=sy(e,e===Dn?Xn:0);if(n===0)r!==null&&GP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&GP(r),t===1)e.tag===0?HX(LO.bind(null,e)):h6(LO.bind(null,e)),BX(function(){!(qt&6)&&Bc()}),r=null;else{switch(q$(n)){case 1:r=DC;break;case 4:r=L$;break;case 16:r=iy;break;case 536870912:r=B$;break;default:r=iy}r=d5(r,a5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function a5(e,t){if(Lx=-1,Bx=0,qt&6)throw Error(Ee(327));var r=e.callbackNode;if(Sf()&&e.callbackNode!==r)return null;var n=sy(e,e===Dn?Xn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Sy(e,n);else{t=n;var a=qt;qt|=2;var i=s5();(Dn!==e||Xn!==t)&&(Do=null,lh=Xr()+500,Lu(e,t));do try{dY();break}catch(l){i5(e,l)}while(!0);WC(),wy.current=i,qt=a,on!==null?t=0:(Dn=null,Xn=0,t=bn)}if(t!==0){if(t===2&&(a=tS(e),a!==0&&(n=a,t=AS(e,a))),t===1)throw r=m0,Lu(e,0),zl(e,n),Ka(e,Xr()),r;if(t===6)zl(e,n);else{if(a=e.current.alternate,!(n&30)&&!cY(a)&&(t=Sy(e,n),t===2&&(i=tS(e),i!==0&&(n=i,t=AS(e,i))),t===1))throw r=m0,Lu(e,0),zl(e,n),Ka(e,Xr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ee(345));case 2:cu(e,Ua,Do);break;case 3:if(zl(e,n),(n&130023424)===n&&(t=oT+500-Xr(),10<t)){if(sy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ta(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cS(cu.bind(null,e,Ua,Do),t);break}cu(e,Ua,Do);break;case 4:if(zl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-_s(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lY(n/1960))-n,10<n){e.timeoutHandle=cS(cu.bind(null,e,Ua,Do),n);break}cu(e,Ua,Do);break;case 5:cu(e,Ua,Do);break;default:throw Error(Ee(329))}}}return Ka(e,Xr()),e.callbackNode===r?a5.bind(null,e):null}function AS(e,t){var r=Pp;return e.current.memoizedState.isDehydrated&&(Lu(e,t).flags|=256),e=Sy(e,t),e!==2&&(t=Ua,Ua=r,t!==null&&kS(t)),e}function kS(e){Ua===null?Ua=e:Ua.push.apply(Ua,e)}function cY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ts(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zl(e,t){for(t&=~sT,t&=~Ab,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_s(t),n=1<<r;e[r]=-1,t&=~n}}function LO(e){if(qt&6)throw Error(Ee(327));Sf();var t=sy(e,0);if(!(t&1))return Ka(e,Xr()),null;var r=Sy(e,t);if(e.tag!==0&&r===2){var n=tS(e);n!==0&&(t=n,r=AS(e,n))}if(r===1)throw r=m0,Lu(e,0),zl(e,t),Ka(e,Xr()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cu(e,Ua,Do),Ka(e,Xr()),null}function lT(e,t){var r=qt;qt|=1;try{return e(t)}finally{qt=r,qt===0&&(lh=Xr()+500,Nb&&Bc())}}function Xu(e){ic!==null&&ic.tag===0&&!(qt&6)&&Sf();var t=qt;qt|=1;var r=qi.transition,n=lr;try{if(qi.transition=null,lr=1,e)return e()}finally{lr=n,qi.transition=r,qt=t,!(qt&6)&&Bc()}}function cT(){oi=uf.current,Cr(uf)}function Lu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,LX(r)),on!==null)for(r=on.return;r!==null;){var n=r;switch(zC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dy();break;case 3:sh(),Cr(Wa),Cr(ua),ZC();break;case 5:QC(n);break;case 4:sh();break;case 13:Cr(Mr);break;case 19:Cr(Mr);break;case 10:GC(n.type._context);break;case 22:case 23:cT()}r=r.return}if(Dn=e,on=e=xc(e.current,null),Xn=oi=t,bn=0,m0=null,sT=Ab=Ku=0,Ua=Pp=null,Su!==null){for(t=0;t<Su.length;t++)if(r=Su[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Su=null}return e}function i5(e,t){do{var r=on;try{if(WC(),Ix.current=by,yy){for(var n=$r.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}yy=!1}if(Gu=0,Cn=gn=$r=null,Ap=!1,d0=0,iT.current=null,r===null||r.return===null){bn=1,m0=t,on=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=EO(o);if(m!==null){m.flags&=-257,CO(m,o,l,i,t),m.mode&1&&NO(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){NO(i,u,t),uT();break e}c=Error(Ee(426))}}else if(Ar&&l.mode&1){var g=EO(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),CO(g,o,l,i,t),HC(oh(c,l));break e}}i=c=oh(c,l),bn!==4&&(bn=2),Pp===null?Pp=[i]:Pp.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=q6(i,c,t);yO(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vc===null||!vc.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=z6(i,l,t);yO(i,b);break e}}i=i.return}while(i!==null)}l5(r)}catch(j){t=j,on===r&&r!==null&&(on=r=r.return);continue}break}while(!0)}function s5(){var e=wy.current;return wy.current=by,e===null?by:e}function uT(){(bn===0||bn===3||bn===2)&&(bn=4),Dn===null||!(Ku&268435455)&&!(Ab&268435455)||zl(Dn,Xn)}function Sy(e,t){var r=qt;qt|=2;var n=s5();(Dn!==e||Xn!==t)&&(Do=null,Lu(e,t));do try{uY();break}catch(a){i5(e,a)}while(!0);if(WC(),qt=r,wy.current=n,on!==null)throw Error(Ee(261));return Dn=null,Xn=0,bn}function uY(){for(;on!==null;)o5(on)}function dY(){for(;on!==null&&!IK();)o5(on)}function o5(e){var t=u5(e.alternate,e,oi);e.memoizedProps=e.pendingProps,t===null?l5(e):on=t,iT.current=null}function l5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aY(r,t),r!==null){r.flags&=32767,on=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bn=6,on=null;return}}else if(r=nY(r,t,oi),r!==null){on=r;return}if(t=t.sibling,t!==null){on=t;return}on=t=e}while(t!==null);bn===0&&(bn=5)}function cu(e,t,r){var n=lr,a=qi.transition;try{qi.transition=null,lr=1,fY(e,t,r,n)}finally{qi.transition=a,lr=n}return null}function fY(e,t,r,n){do Sf();while(ic!==null);if(qt&6)throw Error(Ee(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(WK(e,i),e===Dn&&(on=Dn=null,Xn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qg||(qg=!0,d5(iy,function(){return Sf(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qi.transition,qi.transition=null;var o=lr;lr=1;var l=qt;qt|=4,iT.current=null,sY(e,r),r5(r,e),OX(oS),oy=!!sS,oS=sS=null,e.current=r,oY(r),FK(),qt=l,lr=o,qi.transition=i}else e.current=r;if(qg&&(qg=!1,ic=e,jy=a),i=e.pendingLanes,i===0&&(vc=null),BK(r.stateNode),Ka(e,Xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_y)throw _y=!1,e=CS,CS=null,e;return jy&1&&e.tag!==0&&Sf(),i=e.pendingLanes,i&1?e===TS?Op++:(Op=0,TS=e):Op=0,Bc(),null}function Sf(){if(ic!==null){var e=q$(jy),t=qi.transition,r=lr;try{if(qi.transition=null,lr=16>e?16:e,ic===null)var n=!1;else{if(e=ic,ic=null,jy=0,qt&6)throw Error(Ee(331));var a=qt;for(qt|=4,Ze=e.current;Ze!==null;){var i=Ze,o=i.child;if(Ze.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ze=u;Ze!==null;){var d=Ze;switch(d.tag){case 0:case 11:case 15:kp(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ze=f;else for(;Ze!==null;){d=Ze;var h=d.sibling,m=d.return;if(J6(d),d===u){Ze=null;break}if(h!==null){h.return=m,Ze=h;break}Ze=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Ze=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ze=o;else e:for(;Ze!==null;){if(i=Ze,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kp(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ze=x;break e}Ze=i.return}}var y=e.current;for(Ze=y;Ze!==null;){o=Ze;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ze=w;else e:for(o=y;Ze!==null;){if(l=Ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tb(9,l)}}catch(j){Ur(l,l.return,j)}if(l===o){Ze=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Ze=b;break e}Ze=l.return}}if(qt=a,Bc(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(bb,e)}catch{}n=!0}return n}finally{lr=r,qi.transition=t}}return!1}function BO(e,t,r){t=oh(r,t),t=q6(e,t,1),e=pc(e,t,1),t=Ta(),e!==null&&(Dv(e,1,t),Ka(e,t))}function Ur(e,t,r){if(e.tag===3)BO(e,e,r);else for(;t!==null;){if(t.tag===3){BO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vc===null||!vc.has(n))){e=oh(r,e),e=z6(t,e,1),t=pc(t,e,1),e=Ta(),t!==null&&(Dv(t,1,e),Ka(t,e));break}}t=t.return}}function hY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ta(),e.pingedLanes|=e.suspendedLanes&r,Dn===e&&(Xn&r)===r&&(bn===4||bn===3&&(Xn&130023424)===Xn&&500>Xr()-oT?Lu(e,0):sT|=r),Ka(e,t)}function c5(e,t){t===0&&(e.mode&1?(t=Og,Og<<=1,!(Og&130023424)&&(Og=4194304)):t=1);var r=Ta();e=rl(e,t),e!==null&&(Dv(e,t,r),Ka(e,r))}function mY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),c5(e,r)}function pY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(t),c5(e,r)}var u5;u5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wa.current)Ha=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ha=!1,rY(e,t,r);Ha=!!(e.flags&131072)}else Ha=!1,Ar&&t.flags&1048576&&m6(t,my,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$x(e,t),e=t.pendingProps;var a=nh(t,ua.current);jf(t,r),a=eT(null,t,n,e,a,r);var i=tT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ga(n)?(i=!0,fy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,XC(t),a.updater=Cb,t.stateNode=a,a._reactInternals=t,vS(t,n,e,r),t=yS(null,t,n,!0,i,r)):(t.tag=0,Ar&&i&&qC(t),va(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch($x(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=gY(n),e=ls(n,e),a){case 0:t=xS(null,t,n,e,r);break e;case 1:t=kO(null,t,n,e,r);break e;case 11:t=TO(null,t,n,e,r);break e;case 14:t=AO(null,t,n,ls(n.type,e),r);break e}throw Error(Ee(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),xS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),kO(e,t,n,a,r);case 3:e:{if(G6(t),e===null)throw Error(Ee(387));n=t.pendingProps,i=t.memoizedState,a=i.element,b6(e,t),gy(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=oh(Error(Ee(423)),t),t=PO(e,t,n,r,a);break e}else if(n!==a){a=oh(Error(Ee(424)),t),t=PO(e,t,n,r,a);break e}else for(mi=mc(t.stateNode.containerInfo.firstChild),pi=t,Ar=!0,hs=null,r=x6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ah(),n===a){t=nl(e,t,r);break e}va(e,t,n,r)}t=t.child}return t;case 5:return w6(t),e===null&&hS(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,lS(n,a)?o=null:i!==null&&lS(n,i)&&(t.flags|=32),W6(e,t),va(e,t,o,r),t.child;case 6:return e===null&&hS(t),null;case 13:return K6(e,t,r);case 4:return YC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ih(t,null,n,r):va(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),TO(e,t,n,a,r);case 7:return va(e,t,t.pendingProps,r),t.child;case 8:return va(e,t,t.pendingProps.children,r),t.child;case 12:return va(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,yr(py,n._currentValue),n._currentValue=o,i!==null)if(Ts(i.value,o)){if(i.children===a.children&&!Wa.current){t=nl(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Vo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mS(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ee(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),mS(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}va(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,jf(t,r),a=Gi(a),n=n(a),t.flags|=1,va(e,t,n,r),t.child;case 14:return n=t.type,a=ls(n,t.pendingProps),a=ls(n.type,a),AO(e,t,n,a,r);case 15:return H6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),$x(e,t),t.tag=1,Ga(n)?(e=!0,fy(t)):e=!1,jf(t,r),U6(t,n,a),vS(t,n,a,r),yS(null,t,n,!0,e,r);case 19:return X6(e,t,r);case 22:return V6(e,t,r)}throw Error(Ee(156,t.tag))};function d5(e,t){return $$(e,t)}function vY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,r,n){return new vY(e,t,r,n)}function dT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gY(e){if(typeof e=="function")return dT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kC)return 11;if(e===PC)return 14}return 2}function xc(e,t){var r=e.alternate;return r===null?(r=Bi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ux(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")dT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jd:return Bu(r.children,a,i,t);case AC:o=8,a|=8;break;case B2:return e=Bi(12,r,t,a|2),e.elementType=B2,e.lanes=i,e;case U2:return e=Bi(13,r,t,a),e.elementType=U2,e.lanes=i,e;case q2:return e=Bi(19,r,t,a),e.elementType=q2,e.lanes=i,e;case w$:return kb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y$:o=10;break e;case b$:o=9;break e;case kC:o=11;break e;case PC:o=14;break e;case Fl:o=16,n=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Bi(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Bu(e,t,r,n){return e=Bi(7,e,n,t),e.lanes=r,e}function kb(e,t,r,n){return e=Bi(22,e,n,t),e.elementType=w$,e.lanes=r,e.stateNode={isHidden:!1},e}function pj(e,t,r){return e=Bi(6,e,null,t),e.lanes=r,e}function vj(e,t,r){return t=Bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xY(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y_(0),this.expirationTimes=Y_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fT(e,t,r,n,a,i,o,l,c){return e=new xY(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XC(i),e}function yY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function f5(e){if(!e)return Nc;e=e._reactInternals;e:{if(xd(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ga(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(Ga(r))return f6(e,r,t)}return t}function h5(e,t,r,n,a,i,o,l,c){return e=fT(r,n,!0,e,a,i,o,l,c),e.context=f5(null),r=e.current,n=Ta(),a=gc(r),i=Vo(n,a),i.callback=t??null,pc(r,i,a),e.current.lanes=a,Dv(e,a,n),Ka(e,n),e}function Pb(e,t,r,n){var a=t.current,i=Ta(),o=gc(a);return r=f5(r),t.context===null?t.context=r:t.pendingContext=r,t=Vo(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pc(a,t,o),e!==null&&(js(e,a,o,i),Mx(e,a,o)),o}function Ny(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function UO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hT(e,t){UO(e,t),(e=e.alternate)&&UO(e,t)}function bY(){return null}var m5=typeof reportError=="function"?reportError:function(e){console.error(e)};function mT(e){this._internalRoot=e}Ob.prototype.render=mT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));Pb(e,t,null,null)};Ob.prototype.unmount=mT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xu(function(){Pb(null,e,null,null)}),t[tl]=null}};function Ob(e){this._internalRoot=e}Ob.prototype.unstable_scheduleHydration=function(e){if(e){var t=V$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ql.length&&t!==0&&t<ql[r].priority;r++);ql.splice(r,0,e),r===0&&G$(e)}};function pT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Db(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qO(){}function wY(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Ny(o);i.call(u)}}var o=h5(t,n,e,0,null,!1,!1,"",qO);return e._reactRootContainer=o,e[tl]=o.current,s0(e.nodeType===8?e.parentNode:e),Xu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Ny(c);l.call(u)}}var c=fT(e,0,!1,null,null,!1,!1,"",qO);return e._reactRootContainer=c,e[tl]=c.current,s0(e.nodeType===8?e.parentNode:e),Xu(function(){Pb(t,c,r,n)}),c}function Rb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Ny(o);l.call(c)}}Pb(t,o,e,a)}else o=wY(r,t,e,a,n);return Ny(o)}z$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mp(t.pendingLanes);r!==0&&(RC(t,r|1),Ka(t,Xr()),!(qt&6)&&(lh=Xr()+500,Bc()))}break;case 13:Xu(function(){var n=rl(e,1);if(n!==null){var a=Ta();js(n,e,1,a)}}),hT(e,1)}};MC=function(e){if(e.tag===13){var t=rl(e,134217728);if(t!==null){var r=Ta();js(t,e,134217728,r)}hT(e,134217728)}};H$=function(e){if(e.tag===13){var t=gc(e),r=rl(e,t);if(r!==null){var n=Ta();js(r,e,t,n)}hT(e,t)}};V$=function(){return lr};W$=function(e,t){var r=lr;try{return lr=e,t()}finally{lr=r}};Z2=function(e,t,r){switch(t){case"input":if(V2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Sb(n);if(!a)throw Error(Ee(90));j$(n),V2(n,a)}}}break;case"textarea":N$(e,r);break;case"select":t=r.value,t!=null&&yf(e,!!r.multiple,t,!1)}};O$=lT;D$=Xu;var _Y={usingClientEntryPoint:!1,Events:[Mv,nf,Sb,k$,P$,lT]},Gm={findFiberByHostInstance:ju,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jY={bundleType:Gm.bundleType,version:Gm.version,rendererPackageName:Gm.rendererPackageName,rendererConfig:Gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I$(e),e===null?null:e.stateNode},findFiberByHostInstance:Gm.findFiberByHostInstance||bY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{bb=zg.inject(jY),ro=zg}catch{}}ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_Y;ji.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pT(t))throw Error(Ee(200));return yY(e,t,null,r)};ji.createRoot=function(e,t){if(!pT(e))throw Error(Ee(299));var r=!1,n="",a=m5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=fT(e,1,!1,null,null,r,!1,n,a),e[tl]=t.current,s0(e.nodeType===8?e.parentNode:e),new mT(t)};ji.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=I$(t),e=e===null?null:e.stateNode,e};ji.flushSync=function(e){return Xu(e)};ji.hydrate=function(e,t,r){if(!Db(t))throw Error(Ee(200));return Rb(null,e,t,!0,r)};ji.hydrateRoot=function(e,t,r){if(!pT(e))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=m5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=h5(t,null,e,1,r??null,a,!1,i,o),e[tl]=t.current,s0(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ob(t)};ji.render=function(e,t,r){if(!Db(t))throw Error(Ee(200));return Rb(null,e,t,!1,r)};ji.unmountComponentAtNode=function(e){if(!Db(e))throw Error(Ee(40));return e._reactRootContainer?(Xu(function(){Rb(null,null,e,!1,function(){e._reactRootContainer=null,e[tl]=null})}),!0):!1};ji.unstable_batchedUpdates=lT;ji.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Db(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Rb(e,t,r,!1,n)};ji.version="18.3.1-next-f1338f8080-20240426";function p5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p5)}catch(e){console.error(e)}}p5(),p$.exports=ji;var em=p$.exports;const v5=Qt(em);var g5,zO=em;g5=zO.createRoot,zO.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(this,arguments)}var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));const HO="popstate";function SY(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return PS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ey(a)}return EY(t,r,null,e)}function Qr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x5(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NY(){return Math.random().toString(36).substr(2,8)}function VO(e,t){return{usr:e.state,key:e.key,idx:t}}function PS(e,t,r,n){return r===void 0&&(r=null),p0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tm(t):t,{state:r,key:t&&t.key||n||NY()})}function Ey(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tm(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function EY(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=sc.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(p0({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=sc.Pop;let g=d(),x=g==null?null:g-u;u=g,c&&c({action:l,location:p.location,delta:x})}function h(g,x){l=sc.Push;let y=PS(p.location,g,x);u=d()+1;let w=VO(y,u),b=p.createHref(y);try{o.pushState(w,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function m(g,x){l=sc.Replace;let y=PS(p.location,g,x);u=d();let w=VO(y,u),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function v(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Ey(g);return y=y.replace(/ $/,"%20"),Qr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(HO,f),c=g,()=>{a.removeEventListener(HO,f),c=null}},createHref(g){return t(a,g)},createURL:v,encodeLocation(g){let x=v(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(g){return o.go(g)}};return p}var WO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(WO||(WO={}));function CY(e,t,r){return r===void 0&&(r="/"),TY(e,t,r,!1)}function TY(e,t,r,n){let a=typeof t=="string"?tm(t):t,i=vT(a.pathname||"/",r);if(i==null)return null;let o=y5(e);AY(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=BY(i);l=$Y(o[c],u,n)}return l}function y5(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yc([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Qr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),y5(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:IY(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of b5(i.path))a(i,o,c)}),t}function b5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=b5(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function AY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FY(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kY=/^:[\w-]+$/,PY=3,OY=2,DY=1,RY=10,MY=-2,GO=e=>e==="*";function IY(e,t){let r=e.split("/"),n=r.length;return r.some(GO)&&(n+=MY),t&&(n+=OY),r.filter(a=>!GO(a)).reduce((a,i)=>a+(kY.test(i)?PY:i===""?DY:RY),n)}function FY(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function $Y(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=KO({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=KO({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:yc([i,f.pathname]),pathnameBase:HY(yc([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yc([i,f.pathnameBase]))}return o}function KO(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=LY(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function LY(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),x5(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function BY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x5(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function UY(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?tm(e):e;return{pathname:r?r.startsWith("/")?r:qY(r,t):t,search:VY(n),hash:WY(a)}}function qY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gj(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function gT(e,t){let r=zY(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=tm(e):(a=p0({},e),Qr(!a.pathname||!a.pathname.includes("?"),gj("?","pathname","search",a)),Qr(!a.pathname||!a.pathname.includes("#"),gj("#","pathname","hash",a)),Qr(!a.search||!a.search.includes("#"),gj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=UY(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yc=e=>e.join("/").replace(/\/\/+/g,"/"),HY=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w5=["post","put","patch","delete"];new Set(w5);const KY=["get",...w5];new Set(KY);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}const yT=_.createContext(null),XY=_.createContext(null),Uc=_.createContext(null),Mb=_.createContext(null),go=_.createContext({outlet:null,matches:[],isDataRoute:!1}),_5=_.createContext(null);function YY(e,t){let{relative:r}=t===void 0?{}:t;rm()||Qr(!1);let{basename:n,navigator:a}=_.useContext(Uc),{hash:i,pathname:o,search:l}=S5(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:yc([n,o])),a.createHref({pathname:c,search:l,hash:i})}function rm(){return _.useContext(Mb)!=null}function Qi(){return rm()||Qr(!1),_.useContext(Mb).location}function j5(e){_.useContext(Uc).static||_.useLayoutEffect(e)}function Mn(){let{isDataRoute:e}=_.useContext(go);return e?dQ():QY()}function QY(){rm()||Qr(!1);let e=_.useContext(yT),{basename:t,future:r,navigator:n}=_.useContext(Uc),{matches:a}=_.useContext(go),{pathname:i}=Qi(),o=JSON.stringify(gT(a,r.v7_relativeSplatPath)),l=_.useRef(!1);return j5(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=xT(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const ZY=_.createContext(null);function JY(e){let t=_.useContext(go).outlet;return t&&_.createElement(ZY.Provider,{value:e},t)}function nm(){let{matches:e}=_.useContext(go),t=e[e.length-1];return t?t.params:{}}function S5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(Uc),{matches:a}=_.useContext(go),{pathname:i}=Qi(),o=JSON.stringify(gT(a,n.v7_relativeSplatPath));return _.useMemo(()=>xT(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function eQ(e,t){return tQ(e,t)}function tQ(e,t,r,n){rm()||Qr(!1);let{navigator:a}=_.useContext(Uc),{matches:i}=_.useContext(go),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qi(),d;if(t){var f;let g=typeof t=="string"?tm(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Qr(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=CY(e,{pathname:m}),p=sQ(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:yc([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:yc([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&p?_.createElement(Mb.Provider,{value:{location:v0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sc.Pop}},p):p}function rQ(){let e=uQ(),t=GY(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:a},r):null,null)}const nQ=_.createElement(rQ,null);class aQ extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(go.Provider,{value:this.props.routeContext},_.createElement(_5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iQ(e){let{routeContext:t,match:r,children:n}=e,a=_.useContext(yT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(go.Provider,{value:t},n)}function sQ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Qr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,p=null,g=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||nQ,c&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:v?w=g:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,_.createElement(iQ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(aQ,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var N5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N5||{}),Cy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cy||{});function oQ(e){let t=_.useContext(yT);return t||Qr(!1),t}function lQ(e){let t=_.useContext(XY);return t||Qr(!1),t}function cQ(e){let t=_.useContext(go);return t||Qr(!1),t}function E5(e){let t=cQ(),r=t.matches[t.matches.length-1];return r.route.id||Qr(!1),r.route.id}function uQ(){var e;let t=_.useContext(_5),r=lQ(Cy.UseRouteError),n=E5(Cy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dQ(){let{router:e}=oQ(N5.UseNavigateStable),t=E5(Cy.UseNavigateStable),r=_.useRef(!1);return j5(()=>{r.current=!0}),_.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,v0({fromRouteId:t},i)))},[e,t])}function ch(e){let{to:t,replace:r,state:n,relative:a}=e;rm()||Qr(!1);let{future:i,static:o}=_.useContext(Uc),{matches:l}=_.useContext(go),{pathname:c}=Qi(),u=Mn(),d=xT(t,gT(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function fQ(e){return JY(e.context)}function mt(e){Qr(!1)}function hQ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=sc.Pop,navigator:i,static:o=!1,future:l}=e;rm()&&Qr(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:v0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=tm(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=_.useMemo(()=>{let g=vT(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return p==null?null:_.createElement(Uc.Provider,{value:u},_.createElement(Mb.Provider,{children:r,value:p}))}function C5(e){let{children:t,location:r}=e;return eQ(OS(t),r)}new Promise(()=>{});function OS(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,a)=>{if(!_.isValidElement(n))return;let i=[...t,a];if(n.type===_.Fragment){r.push.apply(r,OS(n.props.children,i));return}n.type!==mt&&Qr(!1),!n.props.index||!n.props.children||Qr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=OS(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DS(){return DS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DS.apply(this,arguments)}function mQ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pQ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vQ(e,t){return e.button===0&&(!t||t==="_self")&&!pQ(e)}function RS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function gQ(e,t){let r=RS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const xQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yQ="6";try{window.__reactRouterVersion=yQ}catch{}const bQ="startTransition",XO=h$[bQ];function wQ(e){let{basename:t,children:r,future:n,window:a}=e,i=_.useRef();i.current==null&&(i.current=SY({window:a,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(f=>{u&&XO?XO(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.createElement(hQ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const _Q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=_.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=mQ(t,xQ),{basename:m}=_.useContext(Uc),v,p=!1;if(typeof u=="string"&&jQ.test(u)&&(v=u,_Q))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=vT(b.pathname,m);b.origin===w.origin&&j!=null?u=j+b.search+b.hash:p=!0}catch{}let g=YY(u,{relative:a}),x=SQ(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return _.createElement("a",DS({},h,{href:v||g,onClick:p||i?n:y,ref:r,target:c}))});var YO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(YO||(YO={}));var QO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(QO||(QO={}));function SQ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Mn(),u=Qi(),d=S5(e,{relative:o});return _.useCallback(f=>{if(vQ(f,r)){f.preventDefault();let h=n!==void 0?n:Ey(u)===Ey(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function NQ(e){let t=_.useRef(RS(e)),r=_.useRef(!1),n=Qi(),a=_.useMemo(()=>gQ(n.search,r.current?null:t.current),[n.search]),i=Mn(),o=_.useCallback((l,c)=>{const u=RS(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var am=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yu=typeof window>"u"||"Deno"in globalThis;function Di(){}function EQ(e,t){return typeof e=="function"?e(t):e}function MS(e){return typeof e=="number"&&e>=0&&e!==1/0}function T5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Nf(e,t){return typeof e=="function"?e(t):e}function ms(e,t){return typeof e=="function"?e(t):e}function ZO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==bT(o,t.options))return!1}else if(!g0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function JO(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Qu(t.options.mutationKey)!==Qu(i))return!1}else if(!g0(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function bT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qu)(e)}function Qu(e){return JSON.stringify(e,(t,r)=>IS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function g0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!g0(e[r],t[r])):!1}function A5(e,t){if(e===t)return e;const r=e4(e)&&e4(t);if(r||IS(e)&&IS(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=A5(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Ty(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function e4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function IS(e){if(!t4(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!t4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function t4(e){return Object.prototype.toString.call(e)==="[object Object]"}function CQ(e){return new Promise(t=>{setTimeout(t,e)})}function FS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?A5(e,t):t}function TQ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function AQ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var wT=Symbol();function k5(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ou,Xl,zf,GF,kQ=(GF=class extends am{constructor(){super();ot(this,Ou);ot(this,Xl);ot(this,zf);Ge(this,zf,t=>{if(!Yu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){J(this,Xl)||this.setEventListener(J(this,zf))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Xl))==null||t.call(this),Ge(this,Xl,void 0))}setEventListener(t){var r;Ge(this,zf,t),(r=J(this,Xl))==null||r.call(this),Ge(this,Xl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){J(this,Ou)!==t&&(Ge(this,Ou,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof J(this,Ou)=="boolean"?J(this,Ou):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ou=new WeakMap,Xl=new WeakMap,zf=new WeakMap,GF),_T=new kQ,Hf,Yl,Vf,KF,PQ=(KF=class extends am{constructor(){super();ot(this,Hf,!0);ot(this,Yl);ot(this,Vf);Ge(this,Vf,t=>{if(!Yu&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){J(this,Yl)||this.setEventListener(J(this,Vf))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Yl))==null||t.call(this),Ge(this,Yl,void 0))}setEventListener(t){var r;Ge(this,Vf,t),(r=J(this,Yl))==null||r.call(this),Ge(this,Yl,t(this.setOnline.bind(this)))}setOnline(t){J(this,Hf)!==t&&(Ge(this,Hf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return J(this,Hf)}},Hf=new WeakMap,Yl=new WeakMap,Vf=new WeakMap,KF),Ay=new PQ;function $S(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function OQ(e){return Math.min(1e3*2**e,3e4)}function P5(e){return(e??"online")==="online"?Ay.isOnline():!0}var O5=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xj(e){return e instanceof O5}function D5(e){let t=!1,r=0,n=!1,a;const i=$S(),o=p=>{var g;n||(h(new O5(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>_T.isFocused()&&(e.networkMode==="always"||Ay.isOnline())&&e.canRun(),d=()=>P5(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var g;a=x=>{(n||u())&&p(x)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var N;if(n)return;const y=e.retry??(Yu?0:3),w=e.retryDelay??OQ,b=typeof w=="function"?w(r,x):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(t||!j){h(x);return}r++,(N=e.onFail)==null||N.call(e,r,x),CQ(b).then(()=>u()?void 0:m()).then(()=>{t?h(x):v()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),i)}}function DQ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var xn=DQ(),Du,XF,R5=(XF=class{constructor(){ot(this,Du)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MS(this.gcTime)&&Ge(this,Du,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yu?1/0:5*60*1e3))}clearGcTimeout(){J(this,Du)&&(clearTimeout(J(this,Du)),Ge(this,Du,void 0))}},Du=new WeakMap,XF),Wf,Gf,Oi,na,Tv,Ru,cs,Po,YF,RQ=(YF=class extends R5{constructor(t){super();ot(this,cs);ot(this,Wf);ot(this,Gf);ot(this,Oi);ot(this,na);ot(this,Tv);ot(this,Ru);Ge(this,Ru,!1),Ge(this,Tv,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,Oi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,Wf,MQ(this.options)),this.state=t.state??J(this,Wf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,na))==null?void 0:t.promise}setOptions(t){this.options={...J(this,Tv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Oi).remove(this)}setData(t,r){const n=FS(this.state.data,t,this.options);return Et(this,cs,Po).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Et(this,cs,Po).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=J(this,na))==null?void 0:n.promise;return(a=J(this,na))==null||a.cancel(t),r?r.then(Di).catch(Di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Wf))}isActive(){return this.observers.some(t=>ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!T5(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=J(this,na))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=J(this,na))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,Oi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(J(this,na)&&(J(this,Ru)?J(this,na).cancel({revert:!0}):J(this,na).cancelRetry()),this.scheduleGc()),J(this,Oi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Et(this,cs,Po).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(J(this,na))return J(this,na).continueRetry(),J(this,na).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ge(this,Ru,!0),n.signal)})},i=()=>{const f=k5(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Ge(this,Ru,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ge(this,Gf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Et(this,cs,Po).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,v,p;xj(f)&&f.silent||Et(this,cs,Po).call(this,{type:"error",error:f}),xj(f)||((m=(h=J(this,Oi).config).onError)==null||m.call(h,f,this),(p=(v=J(this,Oi).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return Ge(this,na,D5({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(m=(h=J(this,Oi).config).onSuccess)==null||m.call(h,f,this),(p=(v=J(this,Oi).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Et(this,cs,Po).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Et(this,cs,Po).call(this,{type:"pause"})},onContinue:()=>{Et(this,cs,Po).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),J(this,na).start()}},Wf=new WeakMap,Gf=new WeakMap,Oi=new WeakMap,na=new WeakMap,Tv=new WeakMap,Ru=new WeakMap,cs=new WeakSet,Po=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...M5(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return xj(a)&&a.revert&&J(this,Gf)?{...J(this,Gf),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),xn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),J(this,Oi).notify({query:this,type:"updated",action:t})})},YF);function M5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P5(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zs,QF,IQ=(QF=class extends am{constructor(t={}){super();ot(this,zs);this.config=t,Ge(this,zs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??bT(a,r);let o=this.get(i);return o||(o=new RQ({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){J(this,zs).has(t.queryHash)||(J(this,zs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=J(this,zs).get(t.queryHash);r&&(t.destroy(),r===t&&J(this,zs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,zs).get(t)}getAll(){return[...J(this,zs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ZO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ZO(t,n)):r}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){xn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){xn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zs=new WeakMap,QF),Hs,ma,Mu,Vs,Dl,ZF,FQ=(ZF=class extends R5{constructor(t){super();ot(this,Vs);ot(this,Hs);ot(this,ma);ot(this,Mu);this.mutationId=t.mutationId,Ge(this,ma,t.mutationCache),Ge(this,Hs,[]),this.state=t.state||I5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,Hs).includes(t)||(J(this,Hs).push(t),this.clearGcTimeout(),J(this,ma).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,Hs,J(this,Hs).filter(r=>r!==t)),this.scheduleGc(),J(this,ma).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,Hs).length||(this.state.status==="pending"?this.scheduleGc():J(this,ma).remove(this))}continue(){var t;return((t=J(this,Mu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,f,h,m,v,p,g,x,y,w,b,j,N,S;Ge(this,Mu,D5({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,C)=>{Et(this,Vs,Dl).call(this,{type:"failed",failureCount:E,error:C})},onPause:()=>{Et(this,Vs,Dl).call(this,{type:"pause"})},onContinue:()=>{Et(this,Vs,Dl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,ma).canRun(this)}));const r=this.state.status==="pending",n=!J(this,Mu).canStart();try{if(!r){Et(this,Vs,Dl).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=J(this,ma).config).onMutate)==null?void 0:i.call(a,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&Et(this,Vs,Dl).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const E=await J(this,Mu).start();return await((u=(c=J(this,ma).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((m=(h=J(this,ma).config).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,E,null,t,this.state.context)),Et(this,Vs,Dl).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(g=J(this,ma).config).onError)==null?void 0:x.call(g,E,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,E,t,this.state.context)),await((j=(b=J(this,ma).config).onSettled)==null?void 0:j.call(b,void 0,E,this.state.variables,this.state.context,this)),await((S=(N=this.options).onSettled)==null?void 0:S.call(N,void 0,E,t,this.state.context)),E}finally{Et(this,Vs,Dl).call(this,{type:"error",error:E})}}finally{J(this,ma).runNext(this)}}},Hs=new WeakMap,ma=new WeakMap,Mu=new WeakMap,Vs=new WeakSet,Dl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xn.batch(()=>{J(this,Hs).forEach(n=>{n.onMutationUpdate(t)}),J(this,ma).notify({mutation:this,type:"updated",action:t})})},ZF);function I5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ai,Av,JF,$Q=(JF=class extends am{constructor(t={}){super();ot(this,ai);ot(this,Av);this.config=t,Ge(this,ai,new Map),Ge(this,Av,Date.now())}build(t,r,n){const a=new FQ({mutationCache:this,mutationId:++Eg(this,Av)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Hg(t),n=J(this,ai).get(r)??[];n.push(t),J(this,ai).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Hg(t);if(J(this,ai).has(r)){const a=(n=J(this,ai).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?J(this,ai).delete(r):J(this,ai).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=J(this,ai).get(Hg(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=J(this,ai).get(Hg(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){xn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...J(this,ai).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>JO(r,n))}findAll(t={}){return this.getAll().filter(r=>JO(t,r))}notify(t){xn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return xn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Di))))}},ai=new WeakMap,Av=new WeakMap,JF);function Hg(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function r4(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=k5(t.options,t.fetchOptions),y=async(w,b,j)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:t.queryKey,pageParam:b,direction:j?"backward":"forward",meta:t.options.meta};g(N);const S=await x(N),{maxPages:E}=t.options,C=j?AQ:TQ;return{pages:C(w.pages,S,E),pageParams:C(w.pageParams,b,E)}};if(a&&i.length){const w=a==="backward",b=w?LQ:n4,j={pages:i,pageParams:o},N=b(n,j);l=await y(j,N,w)}else{const w=e??i.length;do{const b=c===0?o[0]??n.initialPageParam:n4(n,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function n4(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function LQ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Br,Ql,Zl,Kf,Xf,Jl,Yf,Qf,e$,BQ=(e$=class{constructor(e={}){ot(this,Br);ot(this,Ql);ot(this,Zl);ot(this,Kf);ot(this,Xf);ot(this,Jl);ot(this,Yf);ot(this,Qf);Ge(this,Br,e.queryCache||new IQ),Ge(this,Ql,e.mutationCache||new $Q),Ge(this,Zl,e.defaultOptions||{}),Ge(this,Kf,new Map),Ge(this,Xf,new Map),Ge(this,Jl,0)}mount(){Eg(this,Jl)._++,J(this,Jl)===1&&(Ge(this,Yf,_T.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Br).onFocus())})),Ge(this,Qf,Ay.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,Br).onOnline())})))}unmount(){var e,t;Eg(this,Jl)._--,J(this,Jl)===0&&((e=J(this,Yf))==null||e.call(this),Ge(this,Yf,void 0),(t=J(this,Qf))==null||t.call(this),Ge(this,Qf,void 0))}isFetching(e){return J(this,Br).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,Ql).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=J(this,Br).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=J(this,Br).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Nf(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return J(this,Br).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=J(this,Br).get(n.queryHash),i=a==null?void 0:a.state.data,o=EQ(t,i);if(o!==void 0)return J(this,Br).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return xn.batch(()=>J(this,Br).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=J(this,Br).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=J(this,Br);xn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=J(this,Br),n={type:"active",...e};return xn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=xn.batch(()=>J(this,Br).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Di).catch(Di)}invalidateQueries(e={},t={}){return xn.batch(()=>{if(J(this,Br).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=xn.batch(()=>J(this,Br).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Di)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Di)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=J(this,Br).build(this,t);return r.isStaleByTime(Nf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Di).catch(Di)}fetchInfiniteQuery(e){return e.behavior=r4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Di).catch(Di)}ensureInfiniteQueryData(e){return e.behavior=r4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ay.isOnline()?J(this,Ql).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,Br)}getMutationCache(){return J(this,Ql)}getDefaultOptions(){return J(this,Zl)}setDefaultOptions(e){Ge(this,Zl,e)}setQueryDefaults(e,t){J(this,Kf).set(Qu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,Kf).values()];let r={};return t.forEach(n=>{g0(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){J(this,Xf).set(Qu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Xf).values()];let r={};return t.forEach(n=>{g0(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,Zl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===wT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,Zl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,Br).clear(),J(this,Ql).clear()}},Br=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,Kf=new WeakMap,Xf=new WeakMap,Jl=new WeakMap,Yf=new WeakMap,Qf=new WeakMap,e$),$a,Rt,kv,pa,Iu,Zf,ec,Ws,Pv,Jf,eh,Fu,$u,tc,th,Jt,vp,LS,BS,US,qS,zS,HS,VS,F5,t$,UQ=(t$=class extends am{constructor(t,r){super();ot(this,Jt);ot(this,$a);ot(this,Rt);ot(this,kv);ot(this,pa);ot(this,Iu);ot(this,Zf);ot(this,ec);ot(this,Ws);ot(this,Pv);ot(this,Jf);ot(this,eh);ot(this,Fu);ot(this,$u);ot(this,tc);ot(this,th,new Set);this.options=r,Ge(this,$a,t),Ge(this,Ws,null),Ge(this,ec,$S()),this.options.experimental_prefetchInRender||J(this,ec).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(J(this,Rt).addObserver(this),a4(J(this,Rt),this.options)?Et(this,Jt,vp).call(this):this.updateResult(),Et(this,Jt,qS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return WS(J(this,Rt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return WS(J(this,Rt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Et(this,Jt,zS).call(this),Et(this,Jt,HS).call(this),J(this,Rt).removeObserver(this)}setOptions(t,r){const n=this.options,a=J(this,Rt);if(this.options=J(this,$a).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ms(this.options.enabled,J(this,Rt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Et(this,Jt,VS).call(this),J(this,Rt).setOptions(this.options),n._defaulted&&!Ty(this.options,n)&&J(this,$a).getQueryCache().notify({type:"observerOptionsUpdated",query:J(this,Rt),observer:this});const i=this.hasListeners();i&&i4(J(this,Rt),a,this.options,n)&&Et(this,Jt,vp).call(this),this.updateResult(r),i&&(J(this,Rt)!==a||ms(this.options.enabled,J(this,Rt))!==ms(n.enabled,J(this,Rt))||Nf(this.options.staleTime,J(this,Rt))!==Nf(n.staleTime,J(this,Rt)))&&Et(this,Jt,LS).call(this);const o=Et(this,Jt,BS).call(this);i&&(J(this,Rt)!==a||ms(this.options.enabled,J(this,Rt))!==ms(n.enabled,J(this,Rt))||o!==J(this,tc))&&Et(this,Jt,US).call(this,o)}getOptimisticResult(t){const r=J(this,$a).getQueryCache().build(J(this,$a),t),n=this.createResult(r,t);return zQ(this,n)&&(Ge(this,pa,n),Ge(this,Zf,this.options),Ge(this,Iu,J(this,Rt).state)),n}getCurrentResult(){return J(this,pa)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){J(this,th).add(t)}getCurrentQuery(){return J(this,Rt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=J(this,$a).defaultQueryOptions(t),n=J(this,$a).getQueryCache().build(J(this,$a),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Et(this,Jt,vp).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),J(this,pa)))}createResult(t,r){var E;const n=J(this,Rt),a=this.options,i=J(this,pa),o=J(this,Iu),l=J(this,Zf),u=t!==n?t.state:J(this,kv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const C=this.hasListeners(),T=!C&&a4(t,r),A=C&&i4(t,n,r,a);(T||A)&&(f={...f,...M5(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===J(this,Pv))m=J(this,Jf);else try{Ge(this,Pv,r.select),m=r.select(f.data),m=FS(i==null?void 0:i.data,m,r),Ge(this,Jf,m),Ge(this,Ws,null)}catch(C){Ge(this,Ws,C)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let C;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=i.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((E=J(this,eh))==null?void 0:E.state.data,J(this,eh)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),Ge(this,Ws,null)}catch(T){Ge(this,Ws,T)}C!==void 0&&(g="success",m=FS(i==null?void 0:i.data,C,r),h=!0)}J(this,Ws)&&(v=J(this,Ws),m=J(this,Jf),p=Date.now(),g="error");const x=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&x,j=m!==void 0,S={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&j,isStale:jT(t,r),refetch:this.refetch,promise:J(this,ec)};if(this.options.experimental_prefetchInRender){const C=k=>{S.status==="error"?k.reject(S.error):S.data!==void 0&&k.resolve(S.data)},T=()=>{const k=Ge(this,ec,S.promise=$S());C(k)},A=J(this,ec);switch(A.status){case"pending":t.queryHash===n.queryHash&&C(A);break;case"fulfilled":(S.status==="error"||S.data!==A.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==A.reason)&&T();break}}return S}updateResult(t){const r=J(this,pa),n=this.createResult(J(this,Rt),this.options);if(Ge(this,Iu,J(this,Rt).state),Ge(this,Zf,this.options),J(this,Iu).data!==void 0&&Ge(this,eh,J(this,Rt)),Ty(n,r))return;Ge(this,pa,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!J(this,th).size)return!0;const c=new Set(l??J(this,th));return this.options.throwOnError&&c.add("error"),Object.keys(J(this,pa)).some(u=>{const d=u;return J(this,pa)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Et(this,Jt,F5).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Et(this,Jt,qS).call(this)}},$a=new WeakMap,Rt=new WeakMap,kv=new WeakMap,pa=new WeakMap,Iu=new WeakMap,Zf=new WeakMap,ec=new WeakMap,Ws=new WeakMap,Pv=new WeakMap,Jf=new WeakMap,eh=new WeakMap,Fu=new WeakMap,$u=new WeakMap,tc=new WeakMap,th=new WeakMap,Jt=new WeakSet,vp=function(t){Et(this,Jt,VS).call(this);let r=J(this,Rt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Di)),r},LS=function(){Et(this,Jt,zS).call(this);const t=Nf(this.options.staleTime,J(this,Rt));if(Yu||J(this,pa).isStale||!MS(t))return;const n=T5(J(this,pa).dataUpdatedAt,t)+1;Ge(this,Fu,setTimeout(()=>{J(this,pa).isStale||this.updateResult()},n))},BS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(J(this,Rt)):this.options.refetchInterval)??!1},US=function(t){Et(this,Jt,HS).call(this),Ge(this,tc,t),!(Yu||ms(this.options.enabled,J(this,Rt))===!1||!MS(J(this,tc))||J(this,tc)===0)&&Ge(this,$u,setInterval(()=>{(this.options.refetchIntervalInBackground||_T.isFocused())&&Et(this,Jt,vp).call(this)},J(this,tc)))},qS=function(){Et(this,Jt,LS).call(this),Et(this,Jt,US).call(this,Et(this,Jt,BS).call(this))},zS=function(){J(this,Fu)&&(clearTimeout(J(this,Fu)),Ge(this,Fu,void 0))},HS=function(){J(this,$u)&&(clearInterval(J(this,$u)),Ge(this,$u,void 0))},VS=function(){const t=J(this,$a).getQueryCache().build(J(this,$a),this.options);if(t===J(this,Rt))return;const r=J(this,Rt);Ge(this,Rt,t),Ge(this,kv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},F5=function(t){xn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(J(this,pa))}),J(this,$a).getQueryCache().notify({query:J(this,Rt),type:"observerResultsUpdated"})})},t$);function qQ(e,t){return ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function a4(e,t){return qQ(e,t)||e.state.data!==void 0&&WS(e,t,t.refetchOnMount)}function WS(e,t,r){if(ms(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&jT(e,t)}return!1}function i4(e,t,r,n){return(e!==t||ms(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&jT(e,r)}function jT(e,t){return ms(t.enabled,e)!==!1&&e.isStaleByTime(Nf(t.staleTime,e))}function zQ(e,t){return!Ty(e.getCurrentResult(),t)}var rc,nc,La,Fo,Jo,qx,GS,r$,HQ=(r$=class extends am{constructor(r,n){super();ot(this,Jo);ot(this,rc);ot(this,nc);ot(this,La);ot(this,Fo);Ge(this,rc,r),this.setOptions(n),this.bindMethods(),Et(this,Jo,qx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=J(this,rc).defaultMutationOptions(r),Ty(this.options,n)||J(this,rc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:J(this,La),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Qu(n.mutationKey)!==Qu(this.options.mutationKey)?this.reset():((a=J(this,La))==null?void 0:a.state.status)==="pending"&&J(this,La).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=J(this,La))==null||r.removeObserver(this)}onMutationUpdate(r){Et(this,Jo,qx).call(this),Et(this,Jo,GS).call(this,r)}getCurrentResult(){return J(this,nc)}reset(){var r;(r=J(this,La))==null||r.removeObserver(this),Ge(this,La,void 0),Et(this,Jo,qx).call(this),Et(this,Jo,GS).call(this)}mutate(r,n){var a;return Ge(this,Fo,n),(a=J(this,La))==null||a.removeObserver(this),Ge(this,La,J(this,rc).getMutationCache().build(J(this,rc),this.options)),J(this,La).addObserver(this),J(this,La).execute(r)}},rc=new WeakMap,nc=new WeakMap,La=new WeakMap,Fo=new WeakMap,Jo=new WeakSet,qx=function(){var n;const r=((n=J(this,La))==null?void 0:n.state)??I5();Ge(this,nc,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},GS=function(r){xn.batch(()=>{var n,a,i,o,l,c,u,d;if(J(this,Fo)&&this.hasListeners()){const f=J(this,nc).variables,h=J(this,nc).context;(r==null?void 0:r.type)==="success"?((a=(n=J(this,Fo)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=J(this,Fo)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=J(this,Fo)).onError)==null||c.call(l,r.error,f,h),(d=(u=J(this,Fo)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(J(this,nc))})})},r$),$5=_.createContext(void 0),Ni=e=>{const t=_.useContext($5);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},VQ=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx($5.Provider,{value:e,children:t})),L5=_.createContext(!1),WQ=()=>_.useContext(L5);L5.Provider;function GQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var KQ=_.createContext(GQ()),XQ=()=>_.useContext(KQ);function B5(e,t){return typeof e=="function"?e(...t):!!e}function U5(){}var YQ=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},QQ=e=>{_.useEffect(()=>{e.clearReset()},[e])},ZQ=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&B5(r,[e.error,n]),JQ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},eZ=(e,t)=>e.isLoading&&e.isFetching&&!t,tZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,s4=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function rZ(e,t,r){var d,f,h,m,v;const n=Ni(),a=WQ(),i=XQ(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",JQ(o),YQ(o,i),QQ(i);const l=!n.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(p=>{const g=a?()=>{}:c.subscribe(xn.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),tZ(o,u))throw s4(o,c,i);if(ZQ({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!Yu&&eZ(u,a)){const p=l?s4(o,c,i):(v=n.getQueryCache().get(o.queryHash))==null?void 0:v.promise;p==null||p.catch(U5).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function it(e,t){return rZ(e,UQ)}function Wr(e,t){const r=Ni(),[n]=_.useState(()=>new HQ(r,e));_.useEffect(()=>{n.setOptions(e)},[n,e]);const a=_.useSyncExternalStore(_.useCallback(o=>n.subscribe(xn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=_.useCallback((o,l)=>{n.mutate(o,l).catch(U5)},[n]);if(a.error&&B5(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const nZ="modulepreload",aZ=function(e){return"/"+e},o4={},uh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=aZ(c),c in o4)return;o4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":nZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},iZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uh(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ST extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class sZ extends ST{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oZ extends ST{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class lZ extends ST{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var KS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(KS||(KS={}));var cZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class uZ{constructor(t,{headers:r={},customFetch:n,region:a=KS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=iZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return cZ(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new sZ(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new oZ(d);if(!d.ok)throw new lZ(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var qa={},NT={},Ib={},Fv={},Fb={},$b={},dZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dh=dZ();const fZ=dh.fetch,q5=dh.fetch.bind(dh),z5=dh.Headers,hZ=dh.Request,mZ=dh.Response,im=Object.freeze(Object.defineProperty({__proto__:null,Headers:z5,Request:hZ,Response:mZ,default:q5,fetch:fZ},Symbol.toStringTag,{value:"Module"})),pZ=wC(im);var Lb={};Object.defineProperty(Lb,"__esModule",{value:!0});let vZ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Lb.default=vZ;var H5=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($b,"__esModule",{value:!0});const gZ=H5(pZ),xZ=H5(Lb);let yZ=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gZ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new xZ.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};$b.default=yZ;var bZ=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fb,"__esModule",{value:!0});const wZ=bZ($b);let _Z=class extends wZ.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fb.default=_Z;var jZ=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fv,"__esModule",{value:!0});const SZ=jZ(Fb);let NZ=class extends SZ.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Fv.default=NZ;var EZ=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ib,"__esModule",{value:!0});const Km=EZ(Fv);let CZ=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Km.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Km.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Km.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Km.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Km.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ib.default=CZ;var Bb={},Ub={};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.version=void 0;Ub.version="0.0.0-automated";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.DEFAULT_HEADERS=void 0;const TZ=Ub;Bb.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${TZ.version}`};var V5=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NT,"__esModule",{value:!0});const AZ=V5(Ib),kZ=V5(Fv),PZ=Bb;let OZ=class W5{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},PZ.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new AZ.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new W5(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new kZ.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};NT.default=OZ;var sm=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qa,"__esModule",{value:!0});qa.PostgrestError=qa.PostgrestBuilder=qa.PostgrestTransformBuilder=qa.PostgrestFilterBuilder=qa.PostgrestQueryBuilder=qa.PostgrestClient=void 0;const G5=sm(NT);qa.PostgrestClient=G5.default;const K5=sm(Ib);qa.PostgrestQueryBuilder=K5.default;const X5=sm(Fv);qa.PostgrestFilterBuilder=X5.default;const Y5=sm(Fb);qa.PostgrestTransformBuilder=Y5.default;const Q5=sm($b);qa.PostgrestBuilder=Q5.default;const Z5=sm(Lb);qa.PostgrestError=Z5.default;var DZ=qa.default={PostgrestClient:G5.default,PostgrestQueryBuilder:K5.default,PostgrestFilterBuilder:X5.default,PostgrestTransformBuilder:Y5.default,PostgrestBuilder:Q5.default,PostgrestError:Z5.default};const{PostgrestClient:RZ,PostgrestQueryBuilder:$ze,PostgrestFilterBuilder:Lze,PostgrestTransformBuilder:Bze,PostgrestBuilder:Uze,PostgrestError:qze}=DZ,MZ="2.11.2",IZ={"X-Client-Info":`realtime-js/${MZ}`},FZ="1.0.0",J5=1e4,$Z=1e3;var Ef;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ef||(Ef={}));var ri;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ri||(ri={}));var ds;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ds||(ds={}));var XS;(function(e){e.websocket="websocket"})(XS||(XS={}));var gu;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gu||(gu={}));class LZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class eL{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vr||(vr={}));const l4=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=BZ(o,e,t,a),i),{})},BZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?tL(i,o):YS(o)},tL=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HZ(t,r)}switch(e){case vr.bool:return UZ(t);case vr.float4:case vr.float8:case vr.int2:case vr.int4:case vr.int8:case vr.numeric:case vr.oid:return qZ(t);case vr.json:case vr.jsonb:return zZ(t);case vr.timestamp:return VZ(t);case vr.abstime:case vr.date:case vr.daterange:case vr.int4range:case vr.int8range:case vr.money:case vr.reltime:case vr.text:case vr.time:case vr.timestamptz:case vr.timetz:case vr.tsrange:case vr.tstzrange:return YS(t);default:return YS(t)}},YS=e=>e,UZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>tL(t,l))}return e},VZ=e=>typeof e=="string"?e.replace(" ","T"):e,rL=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class yj{constructor(t,r,n={},a=J5){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c4;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c4||(c4={}));class Dp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dp.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Dp.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Dp.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),v=d.filter(g=>m.indexOf(g.presence_ref)<0),p=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u4;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(u4||(u4={}));var d4;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(d4||(d4={}));var Ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ro||(Ro={}));class ET{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yj(this,ds.join,this.params,this.timeout),this.rejoinTimer=new eL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ri.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Dp(this),this.broadcastEndpointURL=rL(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ro.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ro.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ro.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let p=0;p<m;p++){const g=h[p],{filter:{event:x,schema:y,table:w,filter:b}}=g,j=d&&d[p];if(j&&j.event===x&&j.schema===y&&j.table===w&&j.filter===b)v.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),t==null||t(Ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ro.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ri.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new yj(this,ds.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yj(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ds;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,g;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,p,g,x,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return b&&((p=r.ids)===null||p===void 0?void 0:p.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const b=(y=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:x,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===ri.closed}_isJoined(){return this.state===ri.joined}_isJoining(){return this.state===ri.joining}_isLeaving(){return this.state===ri.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ET.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ds.close,{},t)}_onError(t){this._on(ds.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ri.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=l4(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=l4(t.columns,t.old_record)),r}}const WZ=()=>{},GZ=typeof WebSocket<"u",KZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XZ{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=IZ,this.params={},this.timeout=J5,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=WZ,this.conn=null,this.sendBuffer=[],this.serializer=new LZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>uh(async()=>{const{default:c}=await Promise.resolve().then(()=>im);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${XS.websocket}`,this.httpEndpoint=rL(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eL(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(GZ){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new YZ(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),uh(async()=>{const{default:t}=await import("./browser-nXRJqH1P.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FZ}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ef.connecting:return gu.Connecting;case Ef.open:return gu.Open;case Ef.closing:return gu.Closing;default:return gu.Closed}}isConnected(){return this.connectionState()===gu.Open}channel(t,r={config:{}}){const n=new ET(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(ds.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close($Z,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ds.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([KZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class YZ{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ef.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class CT extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QZ extends CT{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class QS extends CT{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ZZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const nL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uh(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JZ=()=>ZZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield uh(()=>Promise.resolve().then(()=>im),void 0)).Response:Response}),ZS=e=>{if(Array.isArray(e))return e.map(r=>ZS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=ZS(n)}),t};var yd=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const bj=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eJ=(e,t,r)=>yd(void 0,void 0,void 0,function*(){const n=yield JZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new QZ(bj(a),e.status||500))}).catch(a=>{t(new QS(bj(a),a))}):t(new QS(bj(e),e))}),tJ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function $v(e,t,r,n,a,i){return yd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,tJ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>eJ(c,l,n))})})}function ky(e,t,r,n){return yd(this,void 0,void 0,function*(){return $v(e,"GET",t,r,n)})}function Ll(e,t,r,n,a){return yd(this,void 0,void 0,function*(){return $v(e,"POST",t,n,a,r)})}function rJ(e,t,r,n,a){return yd(this,void 0,void 0,function*(){return $v(e,"PUT",t,n,a,r)})}function nJ(e,t,r,n){return yd(this,void 0,void 0,function*(){return $v(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aL(e,t,r,n,a){return yd(this,void 0,void 0,function*(){return $v(e,"DELETE",t,n,a,r)})}var Ia=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const aJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f4={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iJ{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=nL(a)}uploadOrUpdate(t,r,n,a){return Ia(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},f4),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Nn(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ia(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:f4.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ia(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ll(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new CT("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ia(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ia(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ia(this,void 0,void 0,function*(){try{return{data:{path:(yield Ll(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ia(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ll(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ia(this,void 0,void 0,function*(){try{const a=yield Ll(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}download(t,r){return Ia(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ky(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Nn(l))return{data:null,error:l};throw l}})}info(t){return Ia(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ky(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ZS(n),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}exists(t){return Ia(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nJ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nn(n)&&n instanceof QS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ia(this,void 0,void 0,function*(){try{return{data:yield aL(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ia(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aJ),r),{prefix:t||""});return{data:yield Ll(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Nn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sJ="2.7.1",oJ={"X-Client-Info":`storage-js/${sJ}`};var Pd=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lJ{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oJ),r),this.fetch=nL(n)}listBuckets(){return Pd(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Nn(t))return{data:null,error:t};throw t}})}getBucket(t){return Pd(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Pd(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Pd(this,void 0,void 0,function*(){try{return{data:yield rJ(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Pd(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Pd(this,void 0,void 0,function*(){try{return{data:yield aL(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Nn(r))return{data:null,error:r};throw r}})}}class cJ extends lJ{constructor(t,r={},n){super(t,r,n)}from(t){return new iJ(this.url,this.headers,t,this.fetch)}}const uJ="2.49.4";let gp="";typeof Deno<"u"?gp="deno":typeof document<"u"?gp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gp="react-native":gp="node";const dJ={"X-Client-Info":`supabase-js-${gp}/${uJ}`},fJ={headers:dJ},hJ={schema:"public"},mJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pJ={};var vJ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gJ=e=>{let t;return e?t=e:typeof fetch>"u"?t=q5:t=fetch,(...r)=>t(...r)},xJ=()=>typeof Headers>"u"?z5:Headers,yJ=(e,t,r)=>{const n=gJ(r),a=xJ();return(i,o)=>vJ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var bJ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function wJ(e){return e.replace(/\/$/,"")}function _J(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:o,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>bJ(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const iL="2.69.1",Vd=30*1e3,JS=3,wj=JS*Vd,jJ="http://localhost:9999",SJ="supabase.auth.token",NJ={"X-Client-Info":`gotrue-js/${iL}`},eN="X-Supabase-Api-Version",sL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CJ=6e5;class TT extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Nt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TJ extends TT{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function AJ(e){return Nt(e)&&e.name==="AuthApiError"}class oL extends TT{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qc extends TT{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Rl extends qc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kJ(e){return Nt(e)&&e.name==="AuthSessionMissingError"}class _j extends qc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vg extends qc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wg extends qc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PJ(e){return Nt(e)&&e.name==="AuthImplicitGrantRedirectError"}class h4 extends qc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tN extends qc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function jj(e){return Nt(e)&&e.name==="AuthRetryableFetchError"}class m4 extends qc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Rp extends qc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const p4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),v4=` 	
\r=`.split(""),OJ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<v4.length;t+=1)e[v4[t].charCodeAt(0)]=-2;for(let t=0;t<p4.length;t+=1)e[p4[t].charCodeAt(0)]=t;return e})();function lL(e,t,r){const n=OJ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function g4(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{MJ(o,n,r)};for(let o=0;o<e.length;o+=1)lL(e.charCodeAt(o),a,i);return t.join("")}function DJ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RJ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}DJ(n,t)}}function MJ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function IJ(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)lL(e.charCodeAt(a),r,n);return new Uint8Array(t)}function FJ(e){const t=[];return RJ(e,r=>t.push(r)),new Uint8Array(t)}function $J(e){return Math.round(Date.now()/1e3)+e}function LJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",au={tested:!1,writable:!1},Mp=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(au.tested)return au.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),au.tested=!0,au.writable=!0}catch{au.tested=!0,au.writable=!1}return au.writable};function BJ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const cL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uh(async()=>{const{default:n}=await Promise.resolve().then(()=>im);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},UJ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uL=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gg=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kg=async(e,t)=>{await e.removeItem(t)};class qb{constructor(){this.promise=new qb.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qb.promiseConstructor=Promise;function Sj(e){const t=e.split(".");if(t.length!==3)throw new Rp("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!EJ.test(t[n]))throw new Rp("JWT not in base64url format");return{header:JSON.parse(g4(t[0])),payload:JSON.parse(g4(t[1])),signature:IJ(t[2]),raw:{header:t[0],payload:t[1]}}}async function qJ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zJ(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function HJ(e){return("0"+e.toString(16)).substr(-2)}function VJ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,HJ).join("")}async function WJ(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function GJ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await WJ(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Od(e,t,r=!1){const n=VJ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uL(e,`${t}-code-verifier`,a);const i=await GJ(n);return[i,n===i?"plain":"s256"]}const KJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XJ(e){const t=e.headers.get(eN);if(!t||!t.match(KJ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YJ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QJ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ZJ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const uu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JJ=[502,503,504];async function x4(e){var t;if(!UJ(e))throw new tN(uu(e),0);if(JJ.includes(e.status))throw new tN(uu(e),e.status);let r;try{r=await e.json()}catch(i){throw new oL(uu(i),i)}let n;const a=XJ(e);if(a&&a.getTime()>=sL["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new m4(uu(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rl}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new m4(uu(r),e.status,r.weak_password.reasons);throw new TJ(uu(r),e.status||500,n)}const eee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Dt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[eN]||(i[eN]=sL["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tee(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function tee(e,t,r,n,a,i){const o=eee(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new tN(uu(c),0)}if(l.ok||await x4(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await x4(c)}}function Ml(e){var t;let r=null;iee(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$J(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function y4(e){const t=Ml(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ree(e){return{data:e,error:null}}function nee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ZJ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function aee(e){return e}function iee(e){return e.access_token&&e.refresh_token&&e.expires_in}var see=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class oee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cL(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=see(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hl})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:aee});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Nt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hl})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hl})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}}const lee={getItem:e=>Mp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Mp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Mp()&&globalThis.localStorage.removeItem(e)}};function b4(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cee(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dd={debug:!!(globalThis&&Mp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uee extends dL{}async function dee(e,t,r){Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Dd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uee(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dd.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cee();const fee={url:jJ,storageKey:SJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w4(e,t,r){return await r()}class x0{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=x0.nextInstanceID,x0.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},fee),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oee({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cL(a.fetch),this.lock=a.lock||w4,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ls()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dee:this.lock=w4,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Mp()?this.storage=lee:(this.memoryStorage={},this.storage=b4(this.memoryStorage)):(this.memoryStorage={},this.storage=b4(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${iL}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=BJ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ls()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),PJ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Nt(r)?{error:r}:{error:new oL("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ml}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Nt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Od(this.storage,this.storageKey)),i=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ml})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ml})}else throw new Vg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Nt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:y4})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:y4})}else throw new Vg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new _j}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Nt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Gg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ml});if(await Kg(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _j}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Nt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ml}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new _j}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Nt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Od(this.storage,this.storageKey));const{error:f}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vg("You must provide either an email or phone number.")}catch(l){if(Nt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ml});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Nt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Od(this.storage,this.storageKey)),await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ree})}catch(i){if(Nt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rl;const{error:a}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Nt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Vg("You must provide either an email or phone number and a type")}catch(r){if(Nt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rl}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Hl})})}catch(r){if(Nt(r))return kJ(r)&&(await this._removeSession(),await Kg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Rl;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Od(this.storage,this.storageKey));const{data:u,error:d}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Hl});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rl;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Sj(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Nt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rl;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Nt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ls())throw new Wg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new h4("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new h4("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Wg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Vd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:g}=await this._getUser(i);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Nt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(AJ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Kg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LJ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Od(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Nt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ls()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Nt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zJ(async a=>(a>0&&await qJ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ml})),(a,i)=>{const o=200*Math.pow(2,a);return i&&jj(i)&&Date.now()+o-n<Vd})}catch(n){if(this._debug(r,"error",n),Nt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ls()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Gg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wj;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${wj}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),jj(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rl;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qb;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Rl;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Nt(i)){const o={session:null,error:i};return jj(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await uL(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Kg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Vd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Vd}ms, refresh threshold is ${JS} ticks`),a<=JS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Od(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Dt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await Dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Dt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Sj(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+CJ>Date.now()))return n;const{data:a,error:i}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Rp("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===t),!n)throw new Rp("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Sj(n);if(YJ(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const u=QJ(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,FJ(`${l}.${c}`)))throw new Rp("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}}x0.nextInstanceID=0;const hee=x0;class mee extends hee{constructor(t){super(t)}}var pee=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vee{constructor(t,r,n){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=wJ(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:hJ,realtime:pJ,auth:Object.assign(Object.assign({},mJ),{storageKey:c}),global:fJ},d=_J(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=yJ(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new RZ(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new uZ(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cJ(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return pee(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mee({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new XZ(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const AT=(e,t,r)=>new vee(e,t,r),gee="https://fgiidcdsvmqxdkclgety.supabase.co",xee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnaWlkY2Rzdm1xeGRrY2xnZXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0NDY3NDksImV4cCI6MjA2MTAyMjc0OX0.Wwc-QQghL_Z7XE4S_VuweP01TCW6id07LZRht6gynAM",Z=AT(gee,xee);async function yee(){const e=await window.crypto.subtle.importKey("raw",new TextEncoder().encode("roomly-security-key-v2-web-crypto"),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:new TextEncoder().encode("roomly-salt"),iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function bee(e){try{const t=await yee(),r=window.crypto.getRandomValues(new Uint8Array(12)),n=new TextEncoder().encode(e),a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n),i=new Uint8Array(r.length+a.byteLength);return i.set(r),i.set(new Uint8Array(a),r.length),btoa(String.fromCharCode(...i))}catch(t){return console.error("Secure encryption error:",t),""}}async function Xg(e,t){const r=await bee(t);sessionStorage.setItem(`secure_v2_${e}`,r)}const fL=window.location.hostname==="localhost",Mt=(e,t)=>{fL&&(t?console.log(`[DEV] ${e}:`,t):console.log(`[DEV] ${e}`))},za=(e,t)=>{fL?console.error(`[ERROR] ${e}:`,t):console.error(`[ERROR] ${e}`)};function wee(){const[e,t]=_.useState(null),[r,n]=_.useState(null),[a,i]=_.useState(!0);return _.useEffect(()=>{Mt("Setting up Supabase auth listener");const{data:{subscription:o}}=Z.auth.onAuthStateChange((c,u)=>{var d;Mt("Auth state changed",{event:c,userId:((d=u==null?void 0:u.user)==null?void 0:d.id)||"no user"}),u!=null&&u.user?(Mt("User data in auth change",u.user.id),Mt("User metadata from session",u.user.user_metadata),(async()=>{let f=!1,h={...u.user.user_metadata};if(!("branch_id"in h)){const{data:m}=await Z.from("profiles").select("branch_id").eq("id",u.user.id).maybeSingle();m!=null&&m.branch_id&&!("branch_id"in h)&&(h.branch_id=m.branch_id,f=!0),f&&(await Z.auth.updateUser({data:h}),u.user.user_metadata=h)}n(u),t({...u.user,user_metadata:h})})(),(c==="SIGNED_IN"||c==="TOKEN_REFRESHED")&&setTimeout(async()=>{await Xg("session_validated","true"),await Xg("user_email",u.user.email||"")},0)):(Mt("No user in session"),n(null),t(null),sessionStorage.clear()),(c==="SIGNED_IN"||c==="SIGNED_OUT"||c==="USER_UPDATED")&&i(!1),c==="SIGNED_OUT"&&i(!1)});return(async()=>{var c;try{const{data:{session:u},error:d}=await Z.auth.getSession();if(d){za("Error getting initial session",d),i(!1);return}Mt("Initial session check",((c=u==null?void 0:u.user)==null?void 0:c.id)||"No session"),u?((async()=>{let f=!1,h={...u.user.user_metadata};if(!("branch_id"in h)){const{data:m}=await Z.from("profiles").select("branch_id").eq("id",u.user.id).maybeSingle();m!=null&&m.branch_id&&!("branch_id"in h)&&(h.branch_id=m.branch_id,f=!0),f&&(await Z.auth.updateUser({data:h}),u.user.user_metadata=h)}n(u),t({...u.user,user_metadata:h})})(),setTimeout(async()=>{await Xg("session_validated","true"),await Xg("user_email",u.user.email||"")},0),i(!1)):(Mt("No existing session found"),i(!1))}catch(u){za("Unexpected error during session initialization",u),i(!1)}})(),()=>{Mt("Cleaning up auth subscription"),o.unsubscribe()}},[]),{user:e,session:r,loading:a}}const _ee=1,jee=1e6;let Nj=0;function See(){return Nj=(Nj+1)%Number.MAX_SAFE_INTEGER,Nj.toString()}const Ej=new Map,_4=e=>{if(Ej.has(e))return;const t=setTimeout(()=>{Ej.delete(e),Ip({type:"REMOVE_TOAST",toastId:e})},jee);Ej.set(e,t)},Nee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_ee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_4(r):e.toasts.forEach(n=>{_4(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},zx=[];let Hx={toasts:[]};function Ip(e){Hx=Nee(Hx,e),zx.forEach(t=>{t(Hx)})}function tt({...e}){const t=See(),r=a=>Ip({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ip({type:"DISMISS_TOAST",toastId:t});return Ip({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Pr(){const[e,t]=_.useState(Hx);return _.useEffect(()=>(zx.push(t),()=>{const r=zx.indexOf(t);r>-1&&zx.splice(r,1)}),[e]),{...e,toast:tt,dismiss:r=>Ip({type:"DISMISS_TOAST",toastId:r})}}const Eee=5,rN=15*60*1e3;function Cee(){const e=Mn();return{signIn:async(i,o)=>{var l;try{kee(i),Mt("Attempting to sign in with",i);const{data:c,error:u}=await Z.auth.signInWithPassword({email:i,password:o});if(u)throw za("Login error",u.message),Tee(i),tt({variant:"destructive",title:"Erro ao fazer login",description:u.message||"Verifique suas credenciais e tente novamente."}),u;return Mt("Login successful, user",(l=c==null?void 0:c.user)==null?void 0:l.id),Aee(i),tt({title:"Login realizado com sucesso!",description:"Bem-vindo de volta!"}),e("/rooms"),c}catch(c){throw za("Login error (catch)",c),c}},signUp:async(i,o,l,c,u)=>{try{if(o.length<8)throw new Error("A senha deve ter pelo menos 8 caracteres");if(!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(o))throw new Error("A senha deve conter pelo menos uma letra minscula, uma maiscula e um nmero");const d=`${window.location.origin}/`,{data:f,error:h}=await Z.auth.signUp({email:i,password:o,options:{emailRedirectTo:d,data:{first_name:l,last_name:c,role:"client",branch_id:u}}});if(h)throw h;if(f.user){const{error:m}=await Z.rpc("create_user_profile",{user_id:f.user.id,user_email:i,first_name:l,last_name:c,user_role:"client",user_branch_id:"64a43fed-587b-415c-aeac-0abfd7867566"});m&&console.error("Erro ao criar perfil:",m)}tt({title:"Conta criada com sucesso!",description:"Voc j pode fazer login."}),e("/login")}catch(d){tt({variant:"destructive",title:"Erro ao criar conta",description:d.message})}},signOut:async()=>{try{Mt("Attempting to sign out");try{sessionStorage.clear(),Mt("Session storage cleared")}catch(o){za("Error clearing session storage",o)}const{error:i}=await Z.auth.signOut();i?(za("Logout error from Supabase",i.message),Mt("Proceeding with logout despite Supabase error")):Mt("Supabase logout successful"),setTimeout(()=>{e("/login"),tt({title:"Logout realizado com sucesso!"})},100)}catch(i){za("Logout error (catch)",i);try{sessionStorage.clear()}catch(o){za("Error clearing session storage in catch",o)}setTimeout(()=>{e("/login"),tt({title:"Logout realizado!",description:"Voc foi desconectado."})},100)}},createSuperAdmin:async()=>{throw new Error("SECURITY: Direct super admin creation disabled. Use database functions for admin account creation.")}}}function kT(e){return`login_attempts_${e.toLowerCase()}`}function Tee(e){const t=kT(e),r=Date.now();let n=[];try{const a=localStorage.getItem(t);n=a?JSON.parse(a):[],n=n.filter(i=>r-i<rN)}catch{n=[]}n.push(r),localStorage.setItem(t,JSON.stringify(n))}function Aee(e){localStorage.removeItem(kT(e))}function kee(e){const t=kT(e),r=Date.now();try{const n=localStorage.getItem(t);if(!n)return;const i=JSON.parse(n).filter(o=>r-o<rN);if(i.length>=Eee){const l=Math.min(...i)+rN,c=Math.ceil((l-r)/1e3);throw new Error(`Muitas tentativas de login. Por favor, aguarde ${c} segundos antes de tentar novamente.`)}localStorage.setItem(t,JSON.stringify(i))}catch(n){if(n.message&&n.message.includes("Muitas tentativas"))throw tt({variant:"destructive",title:"Acesso temporariamente bloqueado",description:n.message}),n;localStorage.removeItem(t)}}const hL="roomly-security-key-v1";function nN(e){try{const t=e.split("").map(i=>i.charCodeAt(0)),r=hL.split("").map(i=>i.charCodeAt(0)),n=t.map((i,o)=>i^r[o%r.length]),a=String.fromCharCode(...n);return btoa(a)}catch(t){return console.error("Encryption error:",t),""}}function mL(e){try{const r=atob(e).split("").map(i=>i.charCodeAt(0)),n=hL.split("").map(i=>i.charCodeAt(0)),a=r.map((i,o)=>i^n[o%n.length]);return String.fromCharCode(...a)}catch(t){return console.error("Decryption error:",t),""}}function j4(e,t){const r=nN(t);sessionStorage.setItem(e,r)}function S4(e){const t=sessionStorage.getItem(e);return t?mL(t):null}function Pee(){return{refreshUserClaims:_.useCallback(async()=>{var t,r;try{const{data:{session:n}}=await Z.auth.getSession();if(!(n!=null&&n.user)){Mt("No active session found, skipping claims refresh");return}const a=localStorage.getItem("last_claims_refresh"),i=a?parseInt(mL(a)):0,o=Date.now();if(i&&o-i<6e4){Mt("Claims were refreshed recently, skipping refresh");return}const{data:l,error:c}=await Z.from("profiles").select("role, branch_id").eq("id",n.user.id).single();if(c){za("Error fetching user profile for claims refresh",c);return}if(!(l!=null&&l.role)||!(l!=null&&l.branch_id)){Mt("No role or branch_id found in profile data, skipping claims update");return}const u=(t=n.user.user_metadata)==null?void 0:t.role,d=(r=n.user.user_metadata)==null?void 0:r.branch_id,f=l.role==="admin";if(u===l.role&&d===l.branch_id){Mt("User claims already up to date, skipping update"),localStorage.setItem("last_claims_refresh",nN(o.toString()));return}Mt("Updating user JWT claims to match profile role and branch_id",{role:l.role,branch_id:l.branch_id});const{data:h,error:m}=await Z.auth.updateUser({data:{role:l.role,branch_id:l.branch_id}});if(m){za("Error updating user claims",m),tt({variant:"destructive",title:"Erro de autenticao",description:"No foi possvel atualizar suas permisses. Por favor, tente novamente."});return}if(h!=null&&h.user){Mt("User claims updated successfully",h.user.user_metadata);const{error:v}=await Z.auth.refreshSession();v?za("Error refreshing session after claims update",v):(Mt("Session refreshed with new JWT claims"),localStorage.setItem("last_claims_refresh",nN(o.toString())))}}catch(n){za("Error in refreshUserClaims",n)}},[])}}const pL=_.createContext(void 0);function Oee({children:e}){const{user:t,session:r,loading:n}=wee(),{signIn:a,signUp:i,signOut:o,createSuperAdmin:l}=Cee(),{refreshUserClaims:c}=Pee(),u=async(f,h,m,v,p)=>{await i(f,h,m,v,p)};F.useEffect(()=>{console.log("AuthContext state changed:",{authenticated:!!t,userId:(t==null?void 0:t.id)||"none",loading:n})},[t,n]);const d={user:t,session:r,loading:n,signIn:a,signUp:u,signOut:o,createSuperAdmin:l,refreshUserClaims:c};return s.jsx(pL.Provider,{value:d,children:e})}const Gt=()=>{const e=_.useContext(pL);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Dee="https://fgiidcdsvmqxdkclgety.supabase.co",Ree="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnaWlkY2Rzdm1xeGRrY2xnZXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0NDY3NDksImV4cCI6MjA2MTAyMjc0OX0.Wwc-QQghL_Z7XE4S_VuweP01TCW6id07LZRht6gynAM",xu=AT(Dee,Ree),zc=()=>{const{user:e}=Gt(),{toast:t}=Pr(),r=Ni(),{data:n=[],isLoading:a,refetch:i}=it({queryKey:["cart",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];console.log("Buscando carrinho para usurio:",e.id);const{data:h,error:m}=await xu.rpc("get_cart",{p_user_id:e.id});if(m)throw console.error("Erro ao buscar carrinho:",m),m;return console.log("Dados do carrinho recebidos:",h),h},enabled:!!e}),o=Wr({mutationFn:async({itemType:h,itemId:m,quantity:v,metadata:p})=>{if(!e)throw new Error("Usurio no autenticado");console.log("Adicionando ao carrinho:",{itemType:h,itemId:m,quantity:v,metadata:p,userId:e.id});const g=p&&typeof p=="object"?p:{},{data:x,error:y}=await xu.rpc("add_to_cart",{p_user_id:e.id,p_item_type:h,p_item_id:m,p_quantity:v,p_metadata:g});if(y)throw console.error("Erro ao adicionar ao carrinho:",y),y;return console.log("Item adicionado ao carrinho com sucesso:",x),x},onSuccess:()=>{r.invalidateQueries({queryKey:["cart",e==null?void 0:e.id]}),t({title:"Item adicionado ao carrinho",description:"O item foi adicionado com sucesso ao seu carrinho."})},onError:h=>{console.error("Erro na mutation do carrinho:",h),t({variant:"destructive",title:"Erro ao adicionar item",description:h.message||"Erro desconhecido ao adicionar item ao carrinho"})}}),l=Wr({mutationFn:async h=>{console.log("Removendo item do carrinho:",h);const m=n.find(g=>g.id===h);console.log("Detalhes do item a ser removido:",m);const{data:v,error:p}=await xu.rpc("remove_from_cart",{p_id:h});if(p)throw console.error("Erro ao remover do carrinho:",p),console.error("Detalhes do erro:",{message:p.message,details:p.details,hint:p.hint,code:p.code}),p;return console.log("Resultado da remoo:",v),v},onSuccess:()=>{r.invalidateQueries({queryKey:["cart",e==null?void 0:e.id]}),t({title:"Item removido",description:"O item foi removido do seu carrinho."})},onError:h=>{console.error("Erro ao remover do carrinho:",h),t({variant:"destructive",title:"Erro ao remover item",description:h.message})}}),c=Wr({mutationFn:async({itemId:h,quantity:m})=>{console.log("Atualizando item do carrinho:",{itemId:h,quantity:m});const{data:v,error:p}=await xu.rpc("update_cart",{p_id:h,p_quantity:m});if(p)throw console.error("Erro ao atualizar carrinho:",p),p;return v},onSuccess:()=>{r.invalidateQueries({queryKey:["cart",e==null?void 0:e.id]})},onError:h=>{console.error("Erro ao atualizar carrinho:",h),t({variant:"destructive",title:"Erro ao atualizar item",description:h.message})}}),u=Wr({mutationFn:async()=>{if(!e)throw new Error("Usurio no autenticado");console.log("Limpando carrinho para usurio:",e.id);const{data:h,error:m}=await xu.rpc("clear_cart",{p_user_id:e.id});if(m)throw console.error("Erro ao limpar carrinho:",m),m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["cart",e==null?void 0:e.id]}),t({title:"Carrinho limpo",description:"Todos os itens foram removidos do seu carrinho."})},onError:h=>{console.error("Erro ao limpar carrinho:",h),t({variant:"destructive",title:"Erro ao limpar carrinho",description:h.message})}}),d=n.reduce((h,m)=>h+m.price*m.quantity,0),f=n.reduce((h,m)=>h+m.quantity,0);return{cartItems:n,cartTotal:d,cartCount:f,isLoading:a,addToCart:o.mutate,removeFromCart:l.mutate,updateCart:(h,m)=>c.mutate({itemId:h,quantity:m}),clearCart:u.mutate,refetch:i,isAddingToCart:o.isPending,isRemovingFromCart:l.isPending,isUpdatingCart:c.isPending,isClearingCart:u.isPending}},vL=_.createContext(void 0),Mee=({children:e})=>{const t=zc();return s.jsx(vL.Provider,{value:t,children:e})},gL=()=>{const e=_.useContext(vL);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};var N4=["light","dark"],Iee="(prefers-color-scheme: dark)",Fee=_.createContext(void 0),$ee={setTheme:e=>{},themes:[]},Lee=()=>{var e;return(e=_.useContext(Fee))!=null?e:$ee};_.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?N4.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,g=!0)=>{let x=o?o[v]:v,y=p?v+"|| ''":`'${x}'`,w="";return a&&g&&!p&&N4.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Iee}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Bee=e=>{switch(e){case"success":return zee;case"info":return Vee;case"warning":return Hee;case"error":return Wee;default:return null}},Uee=Array(12).fill(0),qee=({visible:e})=>F.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},F.createElement("div",{className:"sonner-spinner"},Uee.map((t,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zee=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Hee=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vee=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Wee=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gee=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},aN=1,Kee=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:aN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async i=>{if(Yee(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||aN++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},ii=new Kee,Xee=(e,t)=>{let r=(t==null?void 0:t.id)||aN++;return ii.addToast({title:e,...t,id:r}),r},Yee=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Qee=Xee,Zee=()=>ii.toasts,yn=Object.assign(Qee,{success:ii.success,info:ii.info,warning:ii.warning,error:ii.error,custom:ii.custom,message:ii.message,promise:ii.promise,dismiss:ii.dismiss,loading:ii.loading},{getHistory:Zee});function Jee(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Jee(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yg(e){return e.label!==void 0}var ete=3,tte="32px",rte=4e3,nte=356,ate=14,ite=20,ste=200;function ote(...e){return e.filter(Boolean).join(" ")}var lte=e=>{var t,r,n,a,i,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:p,visibleToasts:g,heights:x,index:y,toasts:w,expanded:b,removeToast:j,defaultRichColors:N,closeButton:S,style:E,cancelButtonStyle:C,actionButtonStyle:T,className:A="",descriptionClassName:k="",duration:P,position:L,gap:B,loadingIcon:M,expandByDefault:D,classNames:O,icons:W,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:ee,cn:I}=e,[X,Y]=F.useState(!1),[Q,ie]=F.useState(!1),[he,we]=F.useState(!1),[se,G]=F.useState(!1),[ye,ae]=F.useState(0),[et,Le]=F.useState(0),yt=F.useRef(null),rt=F.useRef(null),Te=y===0,K=y+1<=g,te=h.type,ce=h.dismissible!==!1,Pe=h.className||"",Ie=h.descriptionClassName||"",_e=F.useMemo(()=>x.findIndex(gt=>gt.toastId===h.id)||0,[x,h.id]),Ye=F.useMemo(()=>{var gt;return(gt=h.closeButton)!=null?gt:S},[h.closeButton,S]),vt=F.useMemo(()=>h.duration||P||rte,[h.duration,P]),pr=F.useRef(0),er=F.useRef(0),Sn=F.useRef(0),Is=F.useRef(null),[jo,El]=L.split("-"),ru=F.useMemo(()=>x.reduce((gt,dr,tr)=>tr>=_e?gt:gt+dr.height,0),[x,_e]),Cl=Gee(),Ad=h.invert||f,So=te==="loading";er.current=F.useMemo(()=>_e*B+ru,[_e,ru]),F.useEffect(()=>{Y(!0)},[]),F.useLayoutEffect(()=>{if(!X)return;let gt=rt.current,dr=gt.style.height;gt.style.height="auto";let tr=gt.getBoundingClientRect().height;gt.style.height=dr,Le(tr),p(Ei=>Ei.find(Ci=>Ci.toastId===h.id)?Ei.map(Ci=>Ci.toastId===h.id?{...Ci,height:tr}:Ci):[{toastId:h.id,height:tr,position:h.position},...Ei])},[X,h.title,h.description,p,h.id]);let Fs=F.useCallback(()=>{ie(!0),ae(er.current),p(gt=>gt.filter(dr=>dr.toastId!==h.id)),setTimeout(()=>{j(h)},ste)},[h,j,p,er]);F.useEffect(()=>{if(h.promise&&te==="loading"||h.duration===1/0||h.type==="loading")return;let gt,dr=vt;return b||v||ee&&Cl?(()=>{if(Sn.current<pr.current){let tr=new Date().getTime()-pr.current;dr=dr-tr}Sn.current=new Date().getTime()})():dr!==1/0&&(pr.current=new Date().getTime(),gt=setTimeout(()=>{var tr;(tr=h.onAutoClose)==null||tr.call(h,h),Fs()},dr)),()=>clearTimeout(gt)},[b,v,D,h,vt,Fs,h.promise,te,ee,Cl]),F.useEffect(()=>{let gt=rt.current;if(gt){let dr=gt.getBoundingClientRect().height;return Le(dr),p(tr=>[{toastId:h.id,height:dr,position:h.position},...tr]),()=>p(tr=>tr.filter(Ei=>Ei.toastId!==h.id))}},[p,h.id]),F.useEffect(()=>{h.delete&&Fs()},[Fs,h.delete]);function B_(){return W!=null&&W.loading?F.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},W.loading):M?F.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},M):F.createElement(qee,{visible:te==="loading"})}return F.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rt,className:I(A,Pe,O==null?void 0:O.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[te],(r=h==null?void 0:h.classNames)==null?void 0:r[te]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:N,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":X,"data-promise":!!h.promise,"data-removed":Q,"data-visible":K,"data-y-position":jo,"data-x-position":El,"data-index":y,"data-front":Te,"data-swiping":he,"data-dismissible":ce,"data-type":te,"data-invert":Ad,"data-swipe-out":se,"data-expanded":!!(b||D&&X),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${Q?ye:er.current}px`,"--initial-height":D?"auto":`${et}px`,...E,...h.style},onPointerDown:gt=>{So||!ce||(yt.current=new Date,ae(er.current),gt.target.setPointerCapture(gt.pointerId),gt.target.tagName!=="BUTTON"&&(we(!0),Is.current={x:gt.clientX,y:gt.clientY}))},onPointerUp:()=>{var gt,dr,tr,Ei;if(se||!ce)return;Is.current=null;let Ci=Number(((gt=rt.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),No=new Date().getTime()-((dr=yt.current)==null?void 0:dr.getTime()),U_=Math.abs(Ci)/No;if(Math.abs(Ci)>=ite||U_>.11){ae(er.current),(tr=h.onDismiss)==null||tr.call(h,h),Fs(),G(!0);return}(Ei=rt.current)==null||Ei.style.setProperty("--swipe-amount","0px"),we(!1)},onPointerMove:gt=>{var dr;if(!Is.current||!ce)return;let tr=gt.clientY-Is.current.y,Ei=gt.clientX-Is.current.x,Ci=(jo==="top"?Math.min:Math.max)(0,tr),No=gt.pointerType==="touch"?10:2;Math.abs(Ci)>No?(dr=rt.current)==null||dr.style.setProperty("--swipe-amount",`${tr}px`):Math.abs(Ei)>No&&(Is.current=null)}},Ye&&!h.jsx?F.createElement("button",{"aria-label":ne,"data-disabled":So,"data-close-button":!0,onClick:So||!ce?()=>{}:()=>{var gt;Fs(),(gt=h.onDismiss)==null||gt.call(h,h)},className:I(O==null?void 0:O.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||F.isValidElement(h.title)?h.jsx||h.title:F.createElement(F.Fragment,null,te||h.icon||h.promise?F.createElement("div",{"data-icon":"",className:I(O==null?void 0:O.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||B_():null,h.type!=="loading"?h.icon||(W==null?void 0:W[te])||Bee(te):null):null,F.createElement("div",{"data-content":"",className:I(O==null?void 0:O.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},F.createElement("div",{"data-title":"",className:I(O==null?void 0:O.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?F.createElement("div",{"data-description":"",className:I(k,Ie,O==null?void 0:O.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),F.isValidElement(h.cancel)?h.cancel:h.cancel&&Yg(h.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:gt=>{var dr,tr;Yg(h.cancel)&&ce&&((tr=(dr=h.cancel).onClick)==null||tr.call(dr,gt),Fs())},className:I(O==null?void 0:O.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,F.isValidElement(h.action)?h.action:h.action&&Yg(h.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:gt=>{var dr,tr;Yg(h.action)&&(gt.defaultPrevented||((tr=(dr=h.action).onClick)==null||tr.call(dr,gt),Fs()))},className:I(O==null?void 0:O.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function E4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var cte=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=ete,toastOptions:m,dir:v=E4(),gap:p=ate,loadingIcon:g,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=ote}=e,[j,N]=F.useState([]),S=F.useMemo(()=>Array.from(new Set([r].concat(j.filter(ee=>ee.position).map(ee=>ee.position)))),[j,r]),[E,C]=F.useState([]),[T,A]=F.useState(!1),[k,P]=F.useState(!1),[L,B]=F.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=F.useRef(null),D=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=F.useRef(null),W=F.useRef(!1),ne=F.useCallback(ee=>{var I;(I=j.find(X=>X.id===ee.id))!=null&&I.delete||ii.dismiss(ee.id),N(X=>X.filter(({id:Y})=>Y!==ee.id))},[j]);return F.useEffect(()=>ii.subscribe(ee=>{if(ee.dismiss){N(I=>I.map(X=>X.id===ee.id?{...X,delete:!0}:X));return}setTimeout(()=>{v5.flushSync(()=>{N(I=>{let X=I.findIndex(Y=>Y.id===ee.id);return X!==-1?[...I.slice(0,X),{...I[X],...ee},...I.slice(X+1)]:[ee,...I]})})})}),[]),F.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{B(ee?"dark":"light")})},[c]),F.useEffect(()=>{j.length<=1&&A(!1)},[j]),F.useEffect(()=>{let ee=I=>{var X,Y;n.every(Q=>I[Q]||I.code===Q)&&(A(!0),(X=M.current)==null||X.focus()),I.code==="Escape"&&(document.activeElement===M.current||(Y=M.current)!=null&&Y.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[n]),F.useEffect(()=>{if(M.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,W.current=!1)}},[M.current]),j.length?F.createElement("section",{"aria-label":`${y} ${D}`,tabIndex:-1},S.map((ee,I)=>{var X;let[Y,Q]=ee.split("-");return F.createElement("ol",{key:ee,dir:v==="auto"?E4():v,tabIndex:-1,ref:M,className:o,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":Y,"data-x-position":Q,style:{"--front-toast-height":`${((X=E[0])==null?void 0:X.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||tte,"--width":`${nte}px`,"--gap":`${p}px`,...f},onBlur:ie=>{W.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(W.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||W.current||(W.current=!0,O.current=ie.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{k||A(!1)},onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},j.filter(ie=>!ie.position&&I===0||ie.position===ee).map((ie,he)=>{var we,se;return F.createElement(lte,{key:ie.id,icons:x,index:he,toast:ie,defaultRichColors:u,duration:(we=m==null?void 0:m.duration)!=null?we:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(se=m==null?void 0:m.closeButton)!=null?se:i,interacting:k,position:ee,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ne,toasts:j.filter(G=>G.position==ie.position),heights:E.filter(G=>G.position==ie.position),setHeights:C,expandByDefault:a,gap:p,loadingIcon:g,expanded:T,pauseWhenPageIsHidden:w,cn:b})}))})):null};const ute=({...e})=>{const{theme:t="system"}=Lee();return s.jsx(cte,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function dte(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xL(...e){return t=>e.forEach(r=>dte(r,t))}function kt(...e){return _.useCallback(xL(...e),e)}var Ya=_.forwardRef((e,t)=>{const{children:r,...n}=e,a=_.Children.toArray(r),i=a.find(fte);if(i){const o=i.props.children,l=a.map(c=>c===i?_.Children.count(o)>1?_.Children.only(null):_.isValidElement(o)?o.props.children:null:c);return s.jsx(iN,{...n,ref:t,children:_.isValidElement(o)?_.cloneElement(o,void 0,l):null})}return s.jsx(iN,{...n,ref:t,children:r})});Ya.displayName="Slot";var iN=_.forwardRef((e,t)=>{const{children:r,...n}=e;if(_.isValidElement(r)){const a=mte(r);return _.cloneElement(r,{...hte(n,r.props),ref:t?xL(t,a):a})}return _.Children.count(r)>1?_.Children.only(null):null});iN.displayName="SlotClone";var PT=({children:e})=>s.jsx(s.Fragment,{children:e});function fte(e){return _.isValidElement(e)&&e.type===PT}function hte(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yL(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yL(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yL(e))&&(n&&(n+=" "),n+=t);return n}const C4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,T4=Tt,om=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return T4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=C4(d)||C4(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...u,f,h]:u},[]);return T4(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},OT="-",pte=e=>{const t=gte(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(OT);return l[0]===""&&l.length!==1&&l.shift(),bL(l,t)||vte(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},bL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?bL(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(OT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},A4=/^\[(.+)\]$/,vte=e=>{if(A4.test(e)){const t=A4.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gte=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return yte(Object.entries(e.classGroups),r).forEach(([i,o])=>{sN(o,n,i,t)}),n},sN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:k4(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(xte(a)){sN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{sN(o,k4(t,i),r,n)})})},k4=(e,t)=>{let r=e;return t.split(OT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xte=e=>e.isThemeGetter,yte=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,bte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},wL="!",wte=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let x=l[g];if(u===0){if(x===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(x==="/"){f=g;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(wL),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},_te=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},jte=e=>({cache:bte(e.cacheSize),parseClassName:wte(e),...pte(e)}),Ste=/\s+/,Nte=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Ste);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const g=_te(d).join(":"),x=f?g+wL:g,y=x+p;if(i.includes(y))continue;i.push(y);const w=a(p,v);for(let b=0;b<w.length;++b){const j=w[b];i.push(x+j)}l=u+(l.length>0?" "+l:l)}return l};function Ete(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_L(t))&&(n&&(n+=" "),n+=r);return n}const _L=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=_L(e[n]))&&(r&&(r+=" "),r+=t);return r};function Cte(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=jte(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Nte(c,r);return a(c,d),d}return function(){return i(Ete.apply(null,arguments))}}const _r=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},jL=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tte=/^\d+\/\d+$/,Ate=new Set(["px","full","screen"]),kte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Pte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ote=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Dte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Co=e=>Cf(e)||Ate.has(e)||Tte.test(e),Al=e=>lm(e,"length",qte),Cf=e=>!!e&&!Number.isNaN(Number(e)),Cj=e=>lm(e,"number",Cf),Xm=e=>!!e&&Number.isInteger(Number(e)),Mte=e=>e.endsWith("%")&&Cf(e.slice(0,-1)),jt=e=>jL.test(e),kl=e=>kte.test(e),Ite=new Set(["length","size","percentage"]),Fte=e=>lm(e,Ite,SL),$te=e=>lm(e,"position",SL),Lte=new Set(["image","url"]),Bte=e=>lm(e,Lte,Hte),Ute=e=>lm(e,"",zte),Ym=()=>!0,lm=(e,t,r)=>{const n=jL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},qte=e=>Pte.test(e)&&!Ote.test(e),SL=()=>!1,zte=e=>Dte.test(e),Hte=e=>Rte.test(e),Vte=()=>{const e=_r("colors"),t=_r("spacing"),r=_r("blur"),n=_r("brightness"),a=_r("borderColor"),i=_r("borderRadius"),o=_r("borderSpacing"),l=_r("borderWidth"),c=_r("contrast"),u=_r("grayscale"),d=_r("hueRotate"),f=_r("invert"),h=_r("gap"),m=_r("gradientColorStops"),v=_r("gradientColorStopPositions"),p=_r("inset"),g=_r("margin"),x=_r("opacity"),y=_r("padding"),w=_r("saturate"),b=_r("scale"),j=_r("sepia"),N=_r("skew"),S=_r("space"),E=_r("translate"),C=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",jt,t],k=()=>[jt,t],P=()=>["",Co,Al],L=()=>["auto",Cf,jt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",jt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Cf,jt];return{cacheSize:500,separator:":",theme:{colors:[Ym],spacing:[Co,Al],blur:["none","",kl,jt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",kl,jt],borderSpacing:k(),borderWidth:P(),contrast:ee(),grayscale:W(),hueRotate:ee(),invert:W(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[Mte,Al],inset:A(),margin:A(),opacity:ee(),padding:k(),saturate:ee(),scale:ee(),sepia:W(),skew:ee(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",jt]}],container:["container"],columns:[{columns:[kl]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),jt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xm,jt]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Xm,jt]}],"grid-cols":[{"grid-cols":[Ym]}],"col-start-end":[{col:["auto",{span:["full",Xm,jt]},jt]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ym]}],"row-start-end":[{row:["auto",{span:[Xm,jt]},jt]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jt,t]}],"min-w":[{"min-w":[jt,t,"min","max","fit"]}],"max-w":[{"max-w":[jt,t,"none","full","min","max","fit","prose",{screen:[kl]},kl]}],h:[{h:[jt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kl,Al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cj]}],"font-family":[{font:[Ym]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jt]}],"line-clamp":[{"line-clamp":["none",Cf,Cj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Co,jt]}],"list-image":[{"list-image":["none",jt]}],"list-style-type":[{list:["none","disc","decimal",jt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Co,Al]}],"underline-offset":[{"underline-offset":["auto",Co,jt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),$te]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bte]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Co,jt]}],"outline-w":[{outline:[Co,Al]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Co,Al]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kl,Ute]}],"shadow-color":[{shadow:[Ym]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kl,jt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",jt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",jt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Xm,jt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Co,Al,Cj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Wte=Cte(Vte);function xe(...e){return Wte(Tt(e))}const y0=om("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 transition-colors",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground transition-colors",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 transition-colors",ghost:"hover:bg-accent hover:text-accent-foreground transition-colors",link:"text-primary underline-offset-4 hover:underline",premium:"btn-3d bg-gradient-to-r from-primary to-accent text-primary-foreground hover:shadow-glow"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Ya:"button";return s.jsx(o,{className:xe(y0({variant:t,size:r,className:e})),ref:i,...a})});re.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NL=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...Kte,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:NL("lucide",a),...l},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(e,t)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(Xte,{ref:i,iconNode:t,className:NL(`lucide-${Gte(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ke("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ke("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=ke("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ke("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ke("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ke("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=ke("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=ke("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=ke("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=ke("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=ke("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=ke("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ke("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ke("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=ke("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=ke("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ke("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=ke("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ke("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=ke("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ke("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ke("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ke("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=ke("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=ke("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=ke("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),jre=()=>{const{cartCount:e}=zc();return s.jsx(re,{variant:"outline",size:"sm",asChild:!0,className:"relative",children:s.jsxs(wt,{to:"/cart",children:[s.jsx(hh,{className:"h-4 w-4"}),e>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-primary text-primary-foreground rounded-full text-xs w-5 h-5 flex items-center justify-center",children:e}),s.jsx("span",{className:"ml-2 hidden sm:inline",children:"Carrinho"})]})})},Sre=()=>{var h,m,v,p,g,x,y,w,b,j,N,S;const e=Qi(),t=Mn(),{user:r,signOut:n}=Gt(),[a,i]=_.useState(!1),[o,l]=_.useState(!1);_.useState(!1);const c=_.useRef(null),u=E=>e.pathname===E,d=r&&(((h=r.user_metadata)==null?void 0:h.is_admin)===!0||((m=r.user_metadata)==null?void 0:m.role)==="admin"||r.email==="admin@example.com"||r.email==="cpd@sapiens-psi.com.br"),f=((v=r==null?void 0:r.user_metadata)==null?void 0:v.avatar_url)||((p=r==null?void 0:r.user_metadata)==null?void 0:p.picture);return _.useEffect(()=>{function E(C){c.current&&!c.current.contains(C.target)&&i(!1)}return a?document.addEventListener("mousedown",E):document.removeEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[a]),s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16",children:[s.jsxs(wt,{to:"/",className:"flex items-center gap-2 md:gap-3 select-none group",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-gradient-to-br from-primary to-primary/70 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:s.jsx("span",{className:"text-white font-bold text-base md:text-lg",children:"P"})})}),s.jsx("span",{className:"font-extrabold text-xl md:text-2xl bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"PsicoFlex"})]}),s.jsxs("nav",{className:"hidden lg:flex flex-1 justify-center gap-6 xl:gap-8",children:[s.jsxs(wt,{to:"/rooms",className:`group relative px-4 xl:px-6 py-3 text-sm xl:text-base font-semibold tracking-wide transition-all duration-500 rounded-xl overflow-hidden ${u("/rooms")?"text-white bg-gradient-to-r from-primary to-primary/80 shadow-lg shadow-primary/30":"text-gray-700 hover:text-white hover:scale-105"}`,children:[s.jsx("span",{className:"relative z-10",children:"Salas"}),!u("/rooms")&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 to-accent/90 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),u("/rooms")&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white/80 rounded-full shadow-glow animate-pulse"})]}),s.jsxs(wt,{to:"/equipment",className:`group relative px-4 xl:px-6 py-3 text-sm xl:text-base font-semibold tracking-wide transition-all duration-500 rounded-xl overflow-hidden ${u("/equipment")?"text-white bg-gradient-to-r from-primary to-primary/80 shadow-lg shadow-primary/30":"text-gray-700 hover:text-white hover:scale-105"}`,children:[s.jsx("span",{className:"relative z-10",children:"Equipamentos"}),!u("/equipment")&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 to-accent/90 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),u("/equipment")&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white/80 rounded-full shadow-glow animate-pulse"})]}),s.jsxs(wt,{to:"/products",className:`group relative px-4 xl:px-6 py-3 text-sm xl:text-base font-semibold tracking-wide transition-all duration-500 rounded-xl overflow-hidden ${e.pathname.startsWith("/products")?"text-white bg-gradient-to-r from-primary to-primary/80 shadow-lg shadow-primary/30":"text-gray-700 hover:text-white hover:scale-105"}`,children:[s.jsx("span",{className:"relative z-10",children:"Produtos"}),!e.pathname.startsWith("/products")&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 to-accent/90 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),e.pathname.startsWith("/products")&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white/80 rounded-full shadow-glow animate-pulse"})]}),d&&s.jsxs(wt,{to:"/admin",className:`group relative px-4 xl:px-6 py-3 text-sm xl:text-base font-semibold tracking-wide transition-all duration-500 rounded-xl overflow-hidden ${e.pathname.startsWith("/admin")?"text-white bg-gradient-to-r from-primary to-primary/80 shadow-lg shadow-primary/30":"text-gray-700 hover:text-white hover:scale-105"}`,children:[s.jsx("span",{className:"relative z-10",children:"Painel Admin"}),!e.pathname.startsWith("/admin")&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/90 to-accent/90 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"}),e.pathname.startsWith("/admin")&&s.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-white/80 rounded-full shadow-glow animate-pulse"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(jre,{}),s.jsx(re,{variant:"ghost",size:"sm",className:"lg:hidden text-gray-600 hover:text-gray-800 p-2",onClick:()=>l(!o),children:o?s.jsx(Vn,{className:"h-5 w-5 md:h-6 md:w-6"}):s.jsx(dre,{className:"h-5 w-5 md:h-6 md:w-6"})}),r?s.jsxs("div",{className:"relative",ref:c,children:[s.jsx("button",{className:"focus:outline-none group",onClick:()=>i(E=>!E),"aria-label":"Abrir menu da conta",children:f?s.jsx("img",{src:f,alt:"Avatar",className:"w-9 h-9 rounded-full object-cover border-2 border-white/20 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110"}):s.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center font-bold text-sm text-white shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110",children:((x=(g=r.user_metadata)==null?void 0:g.first_name)==null?void 0:x[0])||((y=r.email)==null?void 0:y[0])||"U"})}),a&&s.jsxs("div",{className:"absolute right-0 mt-3 w-64 backdrop-blur-xl bg-white/90 rounded-2xl shadow-2xl border border-white/20 z-50 py-2 animate-fade-in",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/20",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:((w=r.user_metadata)==null?void 0:w.first_name)||r.email}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:r.email})]}),s.jsx("button",{className:"w-full text-left px-4 py-3 hover:bg-white/20 text-gray-800 text-sm transition-colors duration-200",onClick:()=>{i(!1),t("/profile")},children:"Minha Conta"}),s.jsx("button",{className:"w-full text-left px-4 py-3 hover:bg-white/20 text-gray-800 text-sm transition-colors duration-200",onClick:()=>{i(!1),t("/my-bookings")},children:"Minhas Reservas"}),s.jsx("div",{className:"border-t border-white/20 my-2"}),s.jsx("button",{className:"w-full text-left px-4 py-3 hover:bg-red-50 text-red-600 text-sm transition-colors duration-200",onClick:()=>{i(!1),n()},children:"Sair"})]})]}):s.jsx(re,{onClick:()=>t("/login"),className:"bg-primary hover:bg-primary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300",children:"Entrar"})]})]}),o&&s.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 backdrop-blur-xl bg-white/95 border-b border-white/20 shadow-lg animate-fade-in",children:s.jsxs("nav",{className:"container mx-auto px-6 py-4 space-y-2 max-h-screen overflow-y-auto",children:[s.jsx(wt,{to:"/rooms",className:`block px-4 py-3 rounded-lg transition-all duration-200 font-medium ${u("/rooms")?"text-primary bg-primary/10":"text-gray-700 hover:text-primary hover:bg-white/20"}`,onClick:()=>l(!1),children:"Salas"}),s.jsx(wt,{to:"/equipment",className:`block px-4 py-3 rounded-lg transition-all duration-200 font-medium ${u("/equipment")?"text-primary bg-primary/10":"text-gray-700 hover:text-primary hover:bg-white/20"}`,onClick:()=>l(!1),children:"Equipamentos"}),s.jsx(wt,{to:"/products",className:`block px-4 py-3 rounded-lg transition-all duration-200 font-medium ${e.pathname.startsWith("/products")?"text-primary bg-primary/10":"text-gray-700 hover:text-primary hover:bg-white/20"}`,onClick:()=>l(!1),children:"Produtos"}),d&&s.jsx(wt,{to:"/admin",className:`block px-4 py-3 rounded-lg transition-all duration-200 font-medium ${e.pathname.startsWith("/admin")?"text-primary bg-primary/10":"text-gray-700 hover:text-primary hover:bg-white/20"}`,onClick:()=>l(!1),children:"Painel Admin"}),s.jsx("div",{className:"pt-4 border-t border-white/20",children:r?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center px-4 py-3 bg-white/20 rounded-lg",children:[f?s.jsx("img",{src:f,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover mr-3"}):s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center font-bold text-sm text-white mr-3",children:((j=(b=r.user_metadata)==null?void 0:b.first_name)==null?void 0:j[0])||((N=r.email)==null?void 0:N[0])||"U"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 block truncate",children:((S=r.user_metadata)==null?void 0:S.first_name)||r.email}),s.jsx("span",{className:"text-xs text-gray-600 block truncate",children:r.email})]})]}),s.jsx(wt,{to:"/profile",className:"block px-4 py-3 text-gray-700 hover:text-primary hover:bg-white/20 rounded-lg transition-all duration-200 font-medium",onClick:()=>l(!1),children:"Minha Conta"}),s.jsx(wt,{to:"/my-bookings",className:"block px-4 py-3 text-gray-700 hover:text-primary hover:bg-white/20 rounded-lg transition-all duration-200 font-medium",onClick:()=>l(!1),children:"Minhas Reservas"}),s.jsx("button",{onClick:()=>{n(),l(!1)},className:"block w-full text-left px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 font-medium",children:"Sair"})]}):s.jsx(wt,{to:"/login",className:"block px-4 py-3 text-white bg-primary hover:bg-primary/90 rounded-lg transition-all duration-200 font-medium text-center",onClick:()=>l(!1),children:"Entrar"})})]})})]})})},Nre=()=>{const e=new Date().getFullYear();return s.jsx("footer",{className:"border-t bg-white py-6 md:py-8",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:gap-8 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-bold text-roomly-600",children:"Psico Flex"}),s.jsx("p",{className:"mt-2 text-xs md:text-sm text-gray-600",children:"Seu espao para atendimentos psicolgicos com toda estrutura necessria."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm md:text-md font-medium text-gray-900",children:"Links rpidos"}),s.jsxs("ul",{className:"mt-2 space-y-1 md:space-y-2 text-xs md:text-sm",children:[s.jsx("li",{children:s.jsx(wt,{to:"/",className:"text-gray-600 hover:text-roomly-600",children:"Incio"})}),s.jsx("li",{children:s.jsx(wt,{to:"/rooms",className:"text-gray-600 hover:text-roomly-600",children:"Salas"})}),s.jsx("li",{children:s.jsx(wt,{to:"/about",className:"text-gray-600 hover:text-roomly-600",children:"Sobre ns"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm md:text-md font-medium text-gray-900",children:"Contato"}),s.jsxs("ul",{className:"mt-2 space-y-1 md:space-y-2 text-xs md:text-sm text-gray-600",children:[s.jsx("li",{children:"suporte@psicoflex.com"}),s.jsx("li",{children:"+55 (11) 9999-9999"})]})]})]}),s.jsx("div",{className:"mt-6 md:mt-8 border-t border-gray-200 pt-4 md:pt-6 text-center text-xs md:text-sm text-gray-600",children:s.jsxs("p",{children:[" ",e," Psico Flex. Todos os direitos reservados."]})})]})})},Er=({children:e})=>s.jsxs("div",{className:"flex min-h-screen flex-col",children:[s.jsx(Sre,{}),s.jsx("main",{className:"flex-1 pt-14 sm:pt-16",children:e}),s.jsx(Nre,{})]}),Ere=({heroImageUrl:e})=>{const t=Mn();return s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-blue-400/20 to-purple-400/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-10 w-72 h-72 bg-gradient-to-r from-purple-400/20 to-pink-400/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute bottom-20 left-1/2 w-72 h-72 bg-gradient-to-r from-indigo-400/20 to-blue-400/20 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000"})]}),s.jsx("div",{className:"absolute inset-0 overflow-hidden",children:Array.from({length:20}).map((r,n)=>s.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`},children:s.jsx($L,{className:"w-4 h-4 text-primary/30"})},n))}),s.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:s.jsxs("div",{className:"grid items-center gap-8 lg:gap-12 lg:grid-cols-2",children:[s.jsxs("div",{className:"text-center lg:text-left space-y-6 md:space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 md:px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 shadow-lg",children:[s.jsx(um,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700",children:"Atendimento Psicolgico Simplificado"})]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight",children:[s.jsx("span",{className:"block bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 bg-clip-text text-transparent",children:"Psico"}),s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-primary via-primary/80 to-primary bg-clip-text text-transparent animate-pulse",children:"Flex"})]}),s.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:"Espaos completos para suas atividades relacionadas  psicologia com ambientes preparados e equipamentos profissionais de ltima gerao."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center lg:justify-start",children:[s.jsxs(re,{size:"lg",className:"group bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:scale-105 px-6 md:px-8 py-3 md:py-4 text-sm md:text-base",onClick:()=>t("/register"),children:["Comece Agora",s.jsx(Qte,{className:"ml-2 h-4 w-4 md:h-5 md:w-5 group-hover:translate-x-1 transition-transform duration-300"})]}),s.jsxs(re,{size:"lg",variant:"outline",className:"group border-2 border-primary/20 text-primary hover:bg-primary/5 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-500 transform hover:scale-105 px-6 md:px-8 py-3 md:py-4 text-sm md:text-base",onClick:()=>t("/rooms"),children:[s.jsx(Wn,{className:"mr-2 h-4 w-4 md:h-5 md:w-5"}),"Ver Disponibilidade"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-purple-400/20 rounded-3xl blur-2xl group-hover:blur-3xl transition-all duration-700 transform group-hover:scale-110"}),s.jsx("div",{className:"relative bg-white/10 backdrop-blur-sm rounded-3xl p-2 shadow-2xl border border-white/20 transform transition-all duration-700 hover:scale-105 hover:rotate-1",children:s.jsx("img",{src:e,alt:"Ambiente profissional para psiclogos",className:"w-full h-64 sm:h-80 md:h-96 lg:h-[500px] object-cover rounded-2xl shadow-xl"})})]}),s.jsx("div",{className:"absolute -top-6 md:-top-10 -left-6 md:-left-10 w-12 h-12 md:w-20 md:h-20 bg-gradient-to-br from-yellow-400/30 to-orange-400/30 rounded-full animate-bounce delay-1000"}),s.jsx("div",{className:"absolute -bottom-6 md:-bottom-10 -right-6 md:-right-10 w-10 h-10 md:w-16 md:h-16 bg-gradient-to-br from-green-400/30 to-blue-400/30 rounded-full animate-bounce delay-2000"})]})]})})]})},Cre=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState({locations:0,clients:0,rating:0,bookings:0}),a=_.useRef(null),i={locations:8,clients:1250,rating:4.9,bookings:5800};_.useEffect(()=>{const l=a.current,c=new IntersectionObserver(([u])=>{u.isIntersecting&&t(!0)},{threshold:.3});return l&&c.observe(l),()=>{l&&c.unobserve(l)}},[]),_.useEffect(()=>{if(e){let d=0;const f=setInterval(()=>{d++;const h=d/40,m=1-Math.pow(1-h,3);n({locations:Math.round(i.locations*m),clients:Math.round(i.clients*m),rating:Math.round(i.rating*m*10)/10,bookings:Math.round(i.bookings*m)}),d>=40&&(clearInterval(f),n(i))},50);return()=>clearInterval(f)}},[e]);const o=[{icon:s.jsx(xo,{className:"w-8 h-8"}),value:r.locations,label:"Filiais",suffix:"",color:"from-blue-500 to-blue-600"},{icon:s.jsx(il,{className:"w-8 h-8"}),value:r.clients,label:"Profissionais Atendidos",suffix:"+",color:"from-green-500 to-green-600"},{icon:s.jsx(LL,{className:"w-8 h-8"}),value:r.rating,label:"Avaliao Mdia",suffix:"/5",color:"from-yellow-500 to-yellow-600"},{icon:s.jsx(Ec,{className:"w-8 h-8"}),value:r.bookings,label:"Reservas Realizadas",suffix:"+",color:"from-purple-500 to-purple-600"}];return s.jsx("section",{ref:a,className:"py-16 bg-gradient-to-br from-background to-secondary/10",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map((l,c)=>s.jsxs("div",{className:"text-center p-6 rounded-lg bg-card border border-border/50 shadow-sm hover:shadow-md transition-all duration-300",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r ${l.color} text-white mb-4`,children:l.icon}),s.jsxs("div",{className:"text-3xl font-bold text-foreground mb-2",children:[l.value,l.suffix]}),s.jsx("div",{className:"text-muted-foreground",children:l.label})]},c))})})})},Tre=()=>{const e=Mn(),[t,r]=_.useState("/inicial.png");return _.useEffect(()=>{r("/inicial.png")},[]),s.jsxs(Er,{children:[s.jsx(Ere,{heroImageUrl:t}),s.jsx(Cre,{}),s.jsxs("section",{className:"py-12 md:py-20 bg-gradient-to-br from-background to-muted/30 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:[s.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 md:px-4 py-2 rounded-full bg-white/50 backdrop-blur-sm border border-white/60 shadow-lg mb-4 md:mb-6",children:[s.jsx($L,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),s.jsx("span",{className:"text-xs md:text-sm font-medium text-muted-foreground",children:"Nossos Servios"})]}),s.jsxs("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-foreground mb-3 md:mb-4 px-4",children:["Solues Completas para ",s.jsx("span",{className:"text-primary",children:"Psiclogos"})]}),s.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-2xl mx-auto px-4",children:"Oferecemos tudo o que voc precisa para realizar seus atendimentos com excelncia"})]}),s.jsx("div",{className:"grid gap-6 md:gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Salas Especializadas",description:"Ambientes climatizados e mobilirio adequado",icon:s.jsx(al,{className:"w-8 h-8"}),color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Materiais para Testes",description:"Biblioteca completa de testes psicolgicos e materiais",icon:s.jsx(Ss,{className:"w-8 h-8"}),color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Equipamentos",description:"Manuais e testes para uso do psiclogo",icon:s.jsx(I4,{className:"w-8 h-8"}),color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"},{title:"Agendamento Flexvel",description:"Sistema inteligente de reservas por hora",icon:s.jsx(Ir,{className:"w-8 h-8"}),color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100"}].map((n,a)=>s.jsxs("div",{className:"group relative animate-float",style:{animationDelay:`${a*.2}s`},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n.bgColor} rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-700 opacity-60 group-hover:opacity-80`}),s.jsxs("div",{className:"relative bg-white/70 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-700 border border-white/60 group-hover:border-white/80 h-full",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${n.color} text-white mb-4 shadow-lg group-hover:shadow-xl transition-all duration-500 group-hover:scale-110`,children:n.icon}),s.jsx("h3",{className:"text-xl font-bold text-foreground mb-3 group-hover:text-primary transition-colors duration-300",children:n.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed group-hover:text-foreground transition-colors duration-300",children:n.description}),s.jsx("div",{className:`mt-4 h-1 w-8 bg-gradient-to-r ${n.color} rounded-full transition-all duration-500 group-hover:w-12`})]})]},a))})]})]}),s.jsx("section",{className:"py-12 md:py-20 bg-white",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-foreground mb-3 md:mb-4 px-4",children:"Como Funciona"}),s.jsx("p",{className:"text-base md:text-lg lg:text-xl text-muted-foreground max-w-2xl mx-auto px-4",children:"Processo simples e rpido para voc focar no que realmente importa"})]}),s.jsx("div",{className:"grid gap-6 md:gap-8 sm:grid-cols-2 lg:grid-cols-4",children:[{step:"01",title:"Cadastre-se",description:"Crie sua conta gratuita em poucos minutos",icon:s.jsx(al,{className:"h-6 w-6"})},{step:"02",title:"Escolha uma sala",description:"Encontre o espao ideal para seu atendimento",icon:s.jsx(I4,{className:"h-6 w-6"})},{step:"03",title:"Reserve",description:"Selecione data, horrio e confirme sua reserva",icon:s.jsx(Ir,{className:"h-6 w-6"})},{step:"04",title:"Atenda",description:"Chegue e aproveite nosso espao preparado",icon:s.jsx(Ss,{className:"h-6 w-6"})}].map((n,a)=>s.jsxs("div",{className:"relative group",children:[a<3&&s.jsx("div",{className:"absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-primary to-transparent -z-10 hidden md:block"}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-primary to-primary/80 mb-6 shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110",children:s.jsx("span",{className:"text-xl font-bold text-white",children:n.step})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3 group-hover:text-primary transition-colors duration-300",children:n.title}),s.jsx("p",{className:"text-muted-foreground group-hover:text-foreground transition-colors duration-300",children:n.description})]})]},a))})]})}),s.jsxs("section",{className:"py-12 md:py-20 bg-gradient-to-r from-primary to-primary/90 text-primary-foreground relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center relative z-10",children:[s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold mb-3 md:mb-4 px-4",children:"Pronto para Comear?"}),s.jsx("p",{className:"text-base md:text-lg lg:text-xl opacity-90 max-w-2xl mx-auto mb-6 md:mb-10 px-4",children:"Cadastre-se agora e tenha acesso a espaos preparados para sua prtica profissional"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 md:gap-6 px-4",children:[s.jsx(re,{size:"lg",variant:"secondary",className:"bg-white text-primary hover:bg-white/90 transition-all duration-300 transform hover:scale-105 w-full sm:w-auto sm:min-w-[200px] shadow-lg",onClick:()=>e("/register"),children:"Criar uma Conta"}),s.jsx(re,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 transition-all duration-300 transform hover:scale-105 w-full sm:w-auto sm:min-w-[200px]",onClick:()=>e("/rooms"),children:"Ver Salas"})]})]})]})]})},dN=({showLoginButton:e=!1,showRegisterButton:t=!1})=>s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg",children:s.jsx("div",{className:"container mx-auto px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(wt,{to:"/",className:"flex items-center gap-3 select-none group",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary/70 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"P"})})}),s.jsx("span",{className:"font-extrabold text-2xl bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"PsicoFlex"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[e&&s.jsx(wt,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-primary transition-colors duration-200",children:"Entrar"}),t&&s.jsx(wt,{to:"/register",className:"px-4 py-2 text-sm font-medium bg-primary hover:bg-primary/90 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Cadastrar"})]})]})})}),Are=()=>{var h,m;const{signIn:e,user:t,loading:r}=Gt(),[n,a]=_.useState(""),[i,o]=_.useState(""),[l,c]=_.useState(!1),[u,d]=_.useState(null);if(_.useEffect(()=>{Mt("Login component - Auth state",{userId:(t==null?void 0:t.id)||null,loading:r,userEmail:(t==null?void 0:t.email)||null,userMeta:(t==null?void 0:t.user_metadata)||null})},[t,r]),r)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx(dN,{showRegisterButton:!0}),s.jsx("div",{className:"flex min-h-screen items-center justify-center pt-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Verificando autenticao..."})]})})]});if(t)return console.log("User is already logged in, checking role for redirect"),((h=t.user_metadata)==null?void 0:h.is_admin)===!0||((m=t.user_metadata)==null?void 0:m.role)==="admin"||t.email==="admin@example.com"||t.email==="cpd@sapiens-psi.com.br"?(console.log("Admin user detected, redirecting to /admin"),s.jsx(ch,{to:"/admin",replace:!0})):(console.log("Regular user detected, redirecting to /rooms"),s.jsx(ch,{to:"/rooms",replace:!0}));const f=async v=>{if(v.preventDefault(),d(null),!n||!i){tt({variant:"destructive",title:"Campos obrigatrios",description:"Por favor, preencha email e senha"});return}c(!0),console.log("Attempting login with email:",n);try{await e(n,i),console.log("Login successful in Login component")}catch(p){console.error("Login error in component:",p);let g="Ocorreu um erro ao tentar fazer login. Verifique suas credenciais.";p.message&&p.message.includes("Invalid login credentials")?(g="Credenciais invlidas. Verifique seu email e senha.",d(g)):p.message&&p.message.includes("Email not confirmed")?(g="Email no confirmado. Por favor, verifique seu email para ativar sua conta.",d(g)):d(p.message||g)}finally{c(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx(dN,{showRegisterButton:!0}),s.jsx("div",{className:"flex min-h-screen items-center justify-center pt-16 px-4",children:s.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-8 md:px-8 md:py-12 lg:px-12",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2 text-primary",children:"Bem-vindo de volta!"}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-6 md:mb-8",children:"Entre na sua conta"}),s.jsxs("form",{onSubmit:f,className:"space-y-4 md:space-y-6 mt-6",children:[u&&s.jsx("div",{className:"bg-red-100 text-red-700 rounded px-3 py-2 text-sm mb-2",children:u}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:n,onChange:v=>a(v.target.value),placeholder:"seu@email.com",required:!0,disabled:l,autoComplete:"email",className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-sm md:text-base"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),s.jsx("input",{id:"password",type:"password",value:i,onChange:v=>o(v.target.value),placeholder:"Sua senha",required:!0,disabled:l,autoComplete:"current-password",className:"w-full px-3 md:px-4 py-2 md:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200 text-sm md:text-base"})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs md:text-sm mb-2 md:mb-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),"Lembrar-me"]}),s.jsx(wt,{to:"/forgot-password",className:"text-primary hover:underline font-medium",children:"Esqueceu sua senha?"})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold text-sm md:text-base py-2 md:py-3 rounded-md transition-all duration-300 shadow-lg hover:shadow-xl",disabled:l,children:l?"Entrando...":"Login"}),s.jsxs("div",{className:"flex items-center my-3 md:my-4",children:[s.jsx("div",{className:"flex-1 h-px bg-gray-200"}),s.jsx("span",{className:"mx-3 text-gray-400 text-xs md:text-sm",children:"Ou"}),s.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),s.jsxs("div",{className:"text-center text-xs md:text-sm mt-3 md:mt-4",children:["No tem uma conta? ",s.jsx(wt,{to:"/register",className:"text-primary hover:underline font-medium",children:"Cadastre-se"})]})]})]}),s.jsx("div",{className:"hidden md:block md:w-1/2 bg-gradient-to-br from-primary to-primary/80 relative",children:s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center h-full w-full p-6 lg:p-8",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-3 lg:mb-4",children:"Gerencie seus espaos"}),s.jsx("p",{className:"text-white/80 mb-6 lg:mb-8 text-sm lg:text-base",children:"Reserve salas, equipamentos e produtos de forma simples e eficiente"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 lg:gap-4 max-w-xs mx-auto",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 text-center",children:[s.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-white/20 rounded-lg mx-auto mb-2 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 lg:w-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.84L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.84l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"})})}),s.jsx("span",{className:"text-xs font-medium",children:"Salas"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 text-center",children:[s.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-white/20 rounded-lg mx-auto mb-2 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 lg:w-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-xs font-medium",children:"Equipamentos"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 text-center",children:[s.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-white/20 rounded-lg mx-auto mb-2 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 lg:w-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),s.jsx("span",{className:"text-xs font-medium",children:"Produtos"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 text-center",children:[s.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-white/20 rounded-lg mx-auto mb-2 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 lg:w-4 lg:h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-xs font-medium",children:"Reservas"})]})]})]})})})]})})]})},kre=()=>{const[e,t]=_.useState({isValid:!1,errors:[],strength:"weak"});return{validation:e,validatePassword:n=>{const a=[];let i=0;n.length<8?a.push("Deve ter pelo menos 8 caracteres"):i+=1,/[A-Z]/.test(n)?i+=1:a.push("Deve conter pelo menos uma letra maiscula"),/[a-z]/.test(n)?i+=1:a.push("Deve conter pelo menos uma letra minscula"),/\d/.test(n)?i+=1:a.push("Deve conter pelo menos um nmero"),/[!@#$%^&*(),.?":{}|<>]/.test(n)?i+=1:a.push("Deve conter pelo menos um caractere especial"),["password","123456","admin","qwerty","abc123"].some(u=>n.toLowerCase().includes(u))&&(a.push("No pode conter palavras comuns"),i-=2);let l="weak";i>=4?l="strong":i>=2&&(l="medium");const c={isValid:a.length===0&&i>=4,errors:a,strength:l};return t(c),c}}},Pre=()=>{const{signUp:e,user:t}=Gt(),{validation:r,validatePassword:n}=kre(),[a,i]=_.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[o,l]=_.useState(!1),[c,u]=_.useState(!1);if(t)return s.jsx(ch,{to:"/rooms",replace:!0});const d=h=>{i(m=>({...m,password:h})),n(h),u(h.length>0)},f=async h=>{if(h.preventDefault(),!n(a.password).isValid){tt({title:"Senha invlida",description:"Por favor, corrija os problemas na senha antes de continuar.",variant:"destructive"});return}if(a.password!==a.confirmPassword){tt({title:"Senhas no coincidem",description:"Por favor, verifique se as senhas so idnticas.",variant:"destructive"});return}l(!0);try{await e(a.email,a.password,a.firstName,a.lastName,"64a43fed-587b-415c-aeac-0abfd7867566")}catch(v){console.error("Registration error:",v)}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx(dN,{showLoginButton:!0}),s.jsx("div",{className:"flex min-h-screen items-center justify-center pt-16 px-4 sm:px-6",children:s.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-xl md:rounded-2xl shadow-xl overflow-hidden flex flex-col md:flex-row",children:[s.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 py-8 sm:px-8 sm:py-12 md:px-12",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-2 text-primary",children:"Crie sua conta"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-6 md:mb-8",children:"Preencha os dados para comear"}),s.jsxs("form",{onSubmit:f,className:"space-y-3 md:space-y-4 mt-4 md:mt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-xs sm:text-sm font-medium mb-1",children:"Nome"}),s.jsx("input",{id:"firstName",value:a.firstName,onChange:h=>i(m=>({...m,firstName:h.target.value})),placeholder:"Nome",required:!0,className:"w-full rounded-md border border-gray-300 px-3 py-2 md:py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-xs sm:text-sm font-medium mb-1",children:"Sobrenome"}),s.jsx("input",{id:"lastName",value:a.lastName,onChange:h=>i(m=>({...m,lastName:h.target.value})),placeholder:"Sobrenome",required:!0,className:"w-full rounded-md border border-gray-300 px-3 py-2 md:py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-xs sm:text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:a.email,onChange:h=>i(m=>({...m,email:h.target.value})),placeholder:"Email",required:!0,className:"w-full rounded-md border border-gray-300 px-3 py-2 md:py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-xs sm:text-sm font-medium mb-1",children:"Senha"}),s.jsx("input",{id:"password",type:"password",value:a.password,onChange:h=>d(h.target.value),required:!0,className:"w-full rounded-md border border-gray-300 px-3 py-2 md:py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"}),c&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-full h-1 rounded-full ${r.strength==="weak"?"bg-red-200":r.strength==="medium"?"bg-yellow-200":"bg-green-200"}`,children:s.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${r.strength==="weak"?"w-1/3 bg-red-500":r.strength==="medium"?"w-2/3 bg-yellow-500":"w-full bg-green-500"}`})}),s.jsx("span",{className:`text-xs font-medium ${r.strength==="weak"?"text-red-600":r.strength==="medium"?"text-yellow-600":"text-green-600"}`,children:r.strength==="weak"?"Fraca":r.strength==="medium"?"Mdia":"Forte"})]}),r.errors.length>0&&s.jsx("ul",{className:"text-xs text-red-600 space-y-1",children:r.errors.map((h,m)=>s.jsxs("li",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-red-500",children:""}),h]},m))})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs sm:text-sm font-medium mb-1",children:"Confirmar senha"}),s.jsx("input",{id:"confirmPassword",type:"password",value:a.confirmPassword,onChange:h=>i(m=>({...m,confirmPassword:h.target.value})),required:!0,className:"w-full rounded-md border border-gray-300 px-3 py-2 md:py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]}),s.jsx("button",{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold text-sm md:text-base py-2.5 md:py-3 rounded-md transition-all duration-300 shadow-lg hover:shadow-xl",disabled:o,children:o?"Criando conta...":"Criar conta"}),s.jsxs("div",{className:"flex items-center my-3 md:my-4",children:[s.jsx("div",{className:"flex-1 h-px bg-gray-200"}),s.jsx("span",{className:"mx-3 text-gray-400 text-xs",children:"Ou"}),s.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),s.jsxs("div",{className:"text-center text-xs md:text-sm mt-3 md:mt-4",children:["J tem uma conta? ",s.jsx(wt,{to:"/login",className:"text-primary hover:underline font-medium",children:"Faa login"})]})]})]}),s.jsx("div",{className:"hidden md:block md:w-1/2 bg-gradient-to-br from-primary to-primary/80 relative",children:s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center h-full w-full p-6 lg:p-8",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-3 lg:mb-4",children:"Junte-se a ns"}),s.jsx("p",{className:"text-white/80 mb-6 lg:mb-8 text-sm lg:text-base",children:"Tenha acesso completo a todos os recursos da plataforma"}),s.jsxs("div",{className:"space-y-3 lg:space-y-4 max-w-xs mx-auto",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 flex items-center gap-2 lg:gap-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-xs lg:text-sm",children:"Reservas Ilimitadas"}),s.jsx("div",{className:"text-xs text-white/70",children:"Reserve quantas vezes precisar"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 flex items-center gap-2 lg:gap-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-xs lg:text-sm",children:"Histrico Completo"}),s.jsx("div",{className:"text-xs text-white/70",children:"Acompanhe todas suas atividades"})]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 lg:p-4 flex items-center gap-2 lg:gap-3",children:[s.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-white/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-xs lg:text-sm",children:"Suporte Prioritrio"}),s.jsx("div",{className:"text-xs text-white/70",children:"Atendimento especializado"})]})]})]})]})})})]})})]})};var Lv=e=>e.type==="checkbox",Eu=e=>e instanceof Date,ga=e=>e==null;const zL=e=>typeof e=="object";var Zr=e=>!ga(e)&&!Array.isArray(e)&&zL(e)&&!Eu(e),HL=e=>Zr(e)&&e.target?Lv(e.target)?e.target.checked:e.target.value:e,Ore=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,VL=(e,t)=>e.has(Ore(t)),Dre=e=>{const t=e.constructor&&e.constructor.prototype;return Zr(t)&&t.hasOwnProperty("isPrototypeOf")},$T=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fa(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($T&&(e instanceof Blob||e instanceof FileList))&&(r||Zr(e)))if(t=r?[]:{},!r&&!Dre(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Fa(e[n]));else return e;return t}var Vb=e=>Array.isArray(e)?e.filter(Boolean):[],qr=e=>e===void 0,qe=(e,t,r)=>{if(!t||!Zr(e))return r;const n=Vb(t.split(/[,[\].]+?/)).reduce((a,i)=>ga(a)?a:a[i],e);return qr(n)||n===e?qr(e[t])?r:e[t]:n},Mi=e=>typeof e=="boolean",LT=e=>/^\w*$/.test(e),WL=e=>Vb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Zt=(e,t,r)=>{let n=-1;const a=LT(t)?[t]:WL(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Zr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Ry={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},To={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GL=F.createContext(null),Wb=()=>F.useContext(GL),Rre=e=>{const{children:t,...r}=e;return F.createElement(GL.Provider,{value:r},t)};var KL=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ps.all&&(t._proxyFormState[o]=!n||ps.all),r&&(r[o]=!0),e[o]}});return a},Ba=e=>Zr(e)&&!Object.keys(e).length,XL=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ba(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ps.all))},Fp=e=>Array.isArray(e)?e:[e],YL=(e,t,r)=>!e||!t||e===t||Fp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function BT(e){const t=F.useRef(e);t.current=e,F.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Mre(e){const t=Wb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=F.useState(r._formState),c=F.useRef(!0),u=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=F.useRef(a);return d.current=a,BT({disabled:n,next:f=>c.current&&YL(d.current,f.name,i)&&XL(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),F.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),KL(o,r,u.current,!1)}var Js=e=>typeof e=="string",QL=(e,t,r,n,a)=>Js(e)?(n&&t.watch.add(e),qe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),qe(r,i))):(n&&(t.watchAll=!0),r);function Ire(e){const t=Wb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},l=F.useRef(n);l.current=n,BT({disabled:i,subject:r._subjects.values,next:d=>{YL(l.current,d.name,o)&&u(Fa(QL(l.current,r._names,d.values||r._formValues,!1,a)))}});const[c,u]=F.useState(r._getWatch(n,a));return F.useEffect(()=>r._removeUnmounted()),c}function Fre(e){const t=Wb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=VL(a._names.array,r),l=Ire({control:a,name:r,defaultValue:qe(a._formValues,r,qe(a._defaultValues,r,e.defaultValue)),exact:!0}),c=Mre({control:a,name:r,exact:!0}),u=F.useRef(a.register(r,{...e.rules,value:l,...Mi(e.disabled)?{disabled:e.disabled}:{}}));return F.useEffect(()=>{const d=a._options.shouldUnregister||i,f=(h,m)=>{const v=qe(a._fields,h);v&&v._f&&(v._f.mount=m)};if(f(r,!0),d){const h=Fa(qe(a._options.defaultValues,r));Zt(a._defaultValues,r,h),qr(qe(a._formValues,r))&&Zt(a._formValues,r,h)}return()=>{(o?d&&!a._state.action:d)?a.unregister(r):f(r,!1)}},[r,a,o,i]),F.useEffect(()=>{qe(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:qe(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:l,...Mi(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:F.useCallback(d=>u.current.onChange({target:{value:HL(d),name:r},type:Ry.CHANGE}),[r]),onBlur:F.useCallback(()=>u.current.onBlur({target:{value:qe(a._formValues,r),name:r},type:Ry.BLUR}),[r,a]),ref:F.useCallback(d=>{const f=qe(a._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!qe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!qe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!qe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!qe(c.validatingFields,r)},error:{enumerable:!0,get:()=>qe(c.errors,r)}})}}const $re=e=>e.render(Fre(e));var ZL=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},$4=e=>({isOnSubmit:!e||e===ps.onSubmit,isOnBlur:e===ps.onBlur,isOnChange:e===ps.onChange,isOnAll:e===ps.all,isOnTouch:e===ps.onTouched}),L4=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const $p=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=qe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if($p(l,t))break}else if(Zr(l)&&$p(l,t))break}}};var Lre=(e,t,r)=>{const n=Fp(qe(e,r));return Zt(n,"root",t[r]),Zt(e,r,n),e},UT=e=>e.type==="file",Bo=e=>typeof e=="function",My=e=>{if(!$T)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vx=e=>Js(e),qT=e=>e.type==="radio",Iy=e=>e instanceof RegExp;const B4={value:!1,isValid:!1},U4={value:!0,isValid:!0};var JL=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qr(e[0].attributes.value)?qr(e[0].value)||e[0].value===""?U4:{value:e[0].value,isValid:!0}:U4:B4}return B4};const q4={isValid:!1,value:null};var e8=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,q4):q4;function z4(e,t,r="validate"){if(Vx(e)||Array.isArray(e)&&e.every(Vx)||Mi(e)&&!e)return{type:r,message:Vx(e)?e:"",ref:t}}var Rd=e=>Zr(e)&&!Iy(e)?e:{value:e,message:""},H4=async(e,t,r,n,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:m,name:v,valueAsNumber:p,mount:g,disabled:x}=e._f,y=qe(t,v);if(!g||x)return{};const w=o?o[0]:i,b=k=>{n&&w.reportValidity&&(w.setCustomValidity(Mi(k)?"":k||""),w.reportValidity())},j={},N=qT(i),S=Lv(i),E=N||S,C=(p||UT(i))&&qr(i.value)&&qr(y)||My(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,T=ZL.bind(null,v,r,j),A=(k,P,L,B=To.maxLength,M=To.minLength)=>{const D=k?P:L;j[v]={type:k?B:M,message:D,ref:i,...T(k?B:M,D)}};if(a?!Array.isArray(y)||!y.length:l&&(!E&&(C||ga(y))||Mi(y)&&!y||S&&!JL(o).isValid||N&&!e8(o).isValid)){const{value:k,message:P}=Vx(l)?{value:!!l,message:l}:Rd(l);if(k&&(j[v]={type:To.required,message:P,ref:w,...T(To.required,P)},!r))return b(P),j}if(!C&&(!ga(d)||!ga(f))){let k,P;const L=Rd(f),B=Rd(d);if(!ga(y)&&!isNaN(y)){const M=i.valueAsNumber||y&&+y;ga(L.value)||(k=M>L.value),ga(B.value)||(P=M<B.value)}else{const M=i.valueAsDate||new Date(y),D=ne=>new Date(new Date().toDateString()+" "+ne),O=i.type=="time",W=i.type=="week";Js(L.value)&&y&&(k=O?D(y)>D(L.value):W?y>L.value:M>new Date(L.value)),Js(B.value)&&y&&(P=O?D(y)<D(B.value):W?y<B.value:M<new Date(B.value))}if((k||P)&&(A(!!k,L.message,B.message,To.max,To.min),!r))return b(j[v].message),j}if((c||u)&&!C&&(Js(y)||a&&Array.isArray(y))){const k=Rd(c),P=Rd(u),L=!ga(k.value)&&y.length>+k.value,B=!ga(P.value)&&y.length<+P.value;if((L||B)&&(A(L,k.message,P.message),!r))return b(j[v].message),j}if(h&&!C&&Js(y)){const{value:k,message:P}=Rd(h);if(Iy(k)&&!y.match(k)&&(j[v]={type:To.pattern,message:P,ref:i,...T(To.pattern,P)},!r))return b(P),j}if(m){if(Bo(m)){const k=await m(y,t),P=z4(k,w);if(P&&(j[v]={...P,...T(To.validate,P.message)},!r))return b(P.message),j}else if(Zr(m)){let k={};for(const P in m){if(!Ba(k)&&!r)break;const L=z4(await m[P](y,t),w,P);L&&(k={...L,...T(P,L.message)},b(L.message),r&&(j[v]=k))}if(!Ba(k)&&(j[v]={ref:w,...k},!r))return j}}return b(!0),j};function Bre(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=qr(e)?n++:e[t[n++]];return e}function Ure(e){for(const t in e)if(e.hasOwnProperty(t)&&!qr(e[t]))return!1;return!0}function mn(e,t){const r=Array.isArray(t)?t:LT(t)?[t]:WL(t),n=r.length===1?e:Bre(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Zr(n)&&Ba(n)||Array.isArray(n)&&Ure(n))&&mn(e,r.slice(0,-1)),e}var Aj=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},fN=e=>ga(e)||!zL(e);function Wl(e,t){if(fN(e)||fN(t))return e===t;if(Eu(e)&&Eu(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Eu(i)&&Eu(o)||Zr(i)&&Zr(o)||Array.isArray(i)&&Array.isArray(o)?!Wl(i,o):i!==o)return!1}}return!0}var t8=e=>e.type==="select-multiple",qre=e=>qT(e)||Lv(e),kj=e=>My(e)&&e.isConnected,r8=e=>{for(const t in e)if(Bo(e[t]))return!0;return!1};function Fy(e,t={}){const r=Array.isArray(e);if(Zr(e)||r)for(const n in e)Array.isArray(e[n])||Zr(e[n])&&!r8(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Fy(e[n],t[n])):ga(e[n])||(t[n]=!0);return t}function n8(e,t,r){const n=Array.isArray(e);if(Zr(e)||n)for(const a in e)Array.isArray(e[a])||Zr(e[a])&&!r8(e[a])?qr(t)||fN(r[a])?r[a]=Array.isArray(e[a])?Fy(e[a],[]):{...Fy(e[a])}:n8(e[a],ga(t)?{}:t[a],r[a]):r[a]=!Wl(e[a],t[a]);return r}var Qm=(e,t)=>n8(e,t,Fy(t)),a8=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>qr(e)?e:t?e===""?NaN:e&&+e:r&&Js(e)?new Date(e):n?n(e):e;function Pj(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return UT(t)?t.files:qT(t)?e8(e.refs).value:t8(t)?[...t.selectedOptions].map(({value:r})=>r):Lv(t)?JL(e.refs).value:a8(qr(t.value)?e.ref.value:t.value,e)}var zre=(e,t,r,n)=>{const a={};for(const i of e){const o=qe(t,i);o&&Zt(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Zm=e=>qr(e)?e:Iy(e)?e.source:Zr(e)?Iy(e.value)?e.value.source:e.value:e;const V4="AsyncFunction";var Hre=e=>(!e||!e.validate)&&!!(Bo(e.validate)&&e.validate.constructor.name===V4||Zr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===V4)),Vre=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function W4(e,t,r){const n=qe(e,r);if(n||LT(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=qe(t,i),l=qe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Wre=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Gre=(e,t)=>!Vb(qe(e,t)).length&&mn(e,t);const Kre={mode:ps.onSubmit,reValidateMode:ps.onChange,shouldFocusError:!0};function Xre(e={}){let t={...Kre,...e},r={submitCount:0,isDirty:!1,isLoading:Bo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Zr(t.defaultValues)||Zr(t.values)?Fa(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Fa(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Aj(),array:Aj(),state:Aj()},h=$4(t.mode),m=$4(t.reValidateMode),v=t.criteriaMode===ps.all,p=K=>te=>{clearTimeout(u),u=setTimeout(K,te)},g=async K=>{if(!e.disabled&&(d.isValid||K)){const te=t.resolver?Ba((await E()).errors):await T(n,!0);te!==r.isValid&&f.state.next({isValid:te})}},x=(K,te)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((K||Array.from(l.mount)).forEach(ce=>{ce&&(te?Zt(r.validatingFields,ce,te):mn(r.validatingFields,ce))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ba(r.validatingFields)}))},y=(K,te=[],ce,Pe,Ie=!0,_e=!0)=>{if(Pe&&ce&&!e.disabled){if(o.action=!0,_e&&Array.isArray(qe(n,K))){const Ye=ce(qe(n,K),Pe.argA,Pe.argB);Ie&&Zt(n,K,Ye)}if(_e&&Array.isArray(qe(r.errors,K))){const Ye=ce(qe(r.errors,K),Pe.argA,Pe.argB);Ie&&Zt(r.errors,K,Ye),Gre(r.errors,K)}if(d.touchedFields&&_e&&Array.isArray(qe(r.touchedFields,K))){const Ye=ce(qe(r.touchedFields,K),Pe.argA,Pe.argB);Ie&&Zt(r.touchedFields,K,Ye)}d.dirtyFields&&(r.dirtyFields=Qm(a,i)),f.state.next({name:K,isDirty:k(K,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Zt(i,K,te)},w=(K,te)=>{Zt(r.errors,K,te),f.state.next({errors:r.errors})},b=K=>{r.errors=K,f.state.next({errors:r.errors,isValid:!1})},j=(K,te,ce,Pe)=>{const Ie=qe(n,K);if(Ie){const _e=qe(i,K,qr(ce)?qe(a,K):ce);qr(_e)||Pe&&Pe.defaultChecked||te?Zt(i,K,te?_e:Pj(Ie._f)):B(K,_e),o.mount&&g()}},N=(K,te,ce,Pe,Ie)=>{let _e=!1,Ye=!1;const vt={name:K};if(!e.disabled){const pr=!!(qe(n,K)&&qe(n,K)._f&&qe(n,K)._f.disabled);if(!ce||Pe){d.isDirty&&(Ye=r.isDirty,r.isDirty=vt.isDirty=k(),_e=Ye!==vt.isDirty);const er=pr||Wl(qe(a,K),te);Ye=!!(!pr&&qe(r.dirtyFields,K)),er||pr?mn(r.dirtyFields,K):Zt(r.dirtyFields,K,!0),vt.dirtyFields=r.dirtyFields,_e=_e||d.dirtyFields&&Ye!==!er}if(ce){const er=qe(r.touchedFields,K);er||(Zt(r.touchedFields,K,ce),vt.touchedFields=r.touchedFields,_e=_e||d.touchedFields&&er!==ce)}_e&&Ie&&f.state.next(vt)}return _e?vt:{}},S=(K,te,ce,Pe)=>{const Ie=qe(r.errors,K),_e=d.isValid&&Mi(te)&&r.isValid!==te;if(e.delayError&&ce?(c=p(()=>w(K,ce)),c(e.delayError)):(clearTimeout(u),c=null,ce?Zt(r.errors,K,ce):mn(r.errors,K)),(ce?!Wl(Ie,ce):Ie)||!Ba(Pe)||_e){const Ye={...Pe,..._e&&Mi(te)?{isValid:te}:{},errors:r.errors,name:K};r={...r,...Ye},f.state.next(Ye)}},E=async K=>{x(K,!0);const te=await t.resolver(i,t.context,zre(K||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(K),te},C=async K=>{const{errors:te}=await E(K);if(K)for(const ce of K){const Pe=qe(te,ce);Pe?Zt(r.errors,ce,Pe):mn(r.errors,ce)}else r.errors=te;return te},T=async(K,te,ce={valid:!0})=>{for(const Pe in K){const Ie=K[Pe];if(Ie){const{_f:_e,...Ye}=Ie;if(_e){const vt=l.array.has(_e.name),pr=Ie._f&&Hre(Ie._f);pr&&d.validatingFields&&x([Pe],!0);const er=await H4(Ie,i,v,t.shouldUseNativeValidation&&!te,vt);if(pr&&d.validatingFields&&x([Pe]),er[_e.name]&&(ce.valid=!1,te))break;!te&&(qe(er,_e.name)?vt?Lre(r.errors,er,_e.name):Zt(r.errors,_e.name,er[_e.name]):mn(r.errors,_e.name))}!Ba(Ye)&&await T(Ye,te,ce)}}return ce.valid},A=()=>{for(const K of l.unMount){const te=qe(n,K);te&&(te._f.refs?te._f.refs.every(ce=>!kj(ce)):!kj(te._f.ref))&&ie(K)}l.unMount=new Set},k=(K,te)=>!e.disabled&&(K&&te&&Zt(i,K,te),!Wl(ee(),a)),P=(K,te,ce)=>QL(K,l,{...o.mount?i:qr(te)?a:Js(K)?{[K]:te}:te},ce,te),L=K=>Vb(qe(o.mount?i:a,K,e.shouldUnregister?qe(a,K,[]):[])),B=(K,te,ce={})=>{const Pe=qe(n,K);let Ie=te;if(Pe){const _e=Pe._f;_e&&(!_e.disabled&&Zt(i,K,a8(te,_e)),Ie=My(_e.ref)&&ga(te)?"":te,t8(_e.ref)?[..._e.ref.options].forEach(Ye=>Ye.selected=Ie.includes(Ye.value)):_e.refs?Lv(_e.ref)?_e.refs.length>1?_e.refs.forEach(Ye=>(!Ye.defaultChecked||!Ye.disabled)&&(Ye.checked=Array.isArray(Ie)?!!Ie.find(vt=>vt===Ye.value):Ie===Ye.value)):_e.refs[0]&&(_e.refs[0].checked=!!Ie):_e.refs.forEach(Ye=>Ye.checked=Ye.value===Ie):UT(_e.ref)?_e.ref.value="":(_e.ref.value=Ie,_e.ref.type||f.values.next({name:K,values:{...i}})))}(ce.shouldDirty||ce.shouldTouch)&&N(K,Ie,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&ne(K)},M=(K,te,ce)=>{for(const Pe in te){const Ie=te[Pe],_e=`${K}.${Pe}`,Ye=qe(n,_e);(l.array.has(K)||Zr(Ie)||Ye&&!Ye._f)&&!Eu(Ie)?M(_e,Ie,ce):B(_e,Ie,ce)}},D=(K,te,ce={})=>{const Pe=qe(n,K),Ie=l.array.has(K),_e=Fa(te);Zt(i,K,_e),Ie?(f.array.next({name:K,values:{...i}}),(d.isDirty||d.dirtyFields)&&ce.shouldDirty&&f.state.next({name:K,dirtyFields:Qm(a,i),isDirty:k(K,_e)})):Pe&&!Pe._f&&!ga(_e)?M(K,_e,ce):B(K,_e,ce),L4(K,l)&&f.state.next({...r}),f.values.next({name:o.mount?K:void 0,values:{...i}})},O=async K=>{o.mount=!0;const te=K.target;let ce=te.name,Pe=!0;const Ie=qe(n,ce),_e=()=>te.type?Pj(Ie._f):HL(K),Ye=vt=>{Pe=Number.isNaN(vt)||Eu(vt)&&isNaN(vt.getTime())||Wl(vt,qe(i,ce,vt))};if(Ie){let vt,pr;const er=_e(),Sn=K.type===Ry.BLUR||K.type===Ry.FOCUS_OUT,Is=!Vre(Ie._f)&&!t.resolver&&!qe(r.errors,ce)&&!Ie._f.deps||Wre(Sn,qe(r.touchedFields,ce),r.isSubmitted,m,h),jo=L4(ce,l,Sn);Zt(i,ce,er),Sn?(Ie._f.onBlur&&Ie._f.onBlur(K),c&&c(0)):Ie._f.onChange&&Ie._f.onChange(K);const El=N(ce,er,Sn,!1),ru=!Ba(El)||jo;if(!Sn&&f.values.next({name:ce,type:K.type,values:{...i}}),Is)return d.isValid&&(e.mode==="onBlur"?Sn&&g():g()),ru&&f.state.next({name:ce,...jo?{}:El});if(!Sn&&jo&&f.state.next({...r}),t.resolver){const{errors:Cl}=await E([ce]);if(Ye(er),Pe){const Ad=W4(r.errors,n,ce),So=W4(Cl,n,Ad.name||ce);vt=So.error,ce=So.name,pr=Ba(Cl)}}else x([ce],!0),vt=(await H4(Ie,i,v,t.shouldUseNativeValidation))[ce],x([ce]),Ye(er),Pe&&(vt?pr=!1:d.isValid&&(pr=await T(n,!0)));Pe&&(Ie._f.deps&&ne(Ie._f.deps),S(ce,pr,vt,El))}},W=(K,te)=>{if(qe(r.errors,te)&&K.focus)return K.focus(),1},ne=async(K,te={})=>{let ce,Pe;const Ie=Fp(K);if(t.resolver){const _e=await C(qr(K)?K:Ie);ce=Ba(_e),Pe=K?!Ie.some(Ye=>qe(_e,Ye)):ce}else K?(Pe=(await Promise.all(Ie.map(async _e=>{const Ye=qe(n,_e);return await T(Ye&&Ye._f?{[_e]:Ye}:Ye)}))).every(Boolean),!(!Pe&&!r.isValid)&&g()):Pe=ce=await T(n);return f.state.next({...!Js(K)||d.isValid&&ce!==r.isValid?{}:{name:K},...t.resolver||!K?{isValid:ce}:{},errors:r.errors}),te.shouldFocus&&!Pe&&$p(n,W,K?Ie:l.mount),Pe},ee=K=>{const te={...o.mount?i:a};return qr(K)?te:Js(K)?qe(te,K):K.map(ce=>qe(te,ce))},I=(K,te)=>({invalid:!!qe((te||r).errors,K),isDirty:!!qe((te||r).dirtyFields,K),error:qe((te||r).errors,K),isValidating:!!qe(r.validatingFields,K),isTouched:!!qe((te||r).touchedFields,K)}),X=K=>{K&&Fp(K).forEach(te=>mn(r.errors,te)),f.state.next({errors:K?r.errors:{}})},Y=(K,te,ce)=>{const Pe=(qe(n,K,{_f:{}})._f||{}).ref,Ie=qe(r.errors,K)||{},{ref:_e,message:Ye,type:vt,...pr}=Ie;Zt(r.errors,K,{...pr,...te,ref:Pe}),f.state.next({name:K,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&Pe&&Pe.focus&&Pe.focus()},Q=(K,te)=>Bo(K)?f.values.subscribe({next:ce=>K(P(void 0,te),ce)}):P(K,te,!0),ie=(K,te={})=>{for(const ce of K?Fp(K):l.mount)l.mount.delete(ce),l.array.delete(ce),te.keepValue||(mn(n,ce),mn(i,ce)),!te.keepError&&mn(r.errors,ce),!te.keepDirty&&mn(r.dirtyFields,ce),!te.keepTouched&&mn(r.touchedFields,ce),!te.keepIsValidating&&mn(r.validatingFields,ce),!t.shouldUnregister&&!te.keepDefaultValue&&mn(a,ce);f.values.next({values:{...i}}),f.state.next({...r,...te.keepDirty?{isDirty:k()}:{}}),!te.keepIsValid&&g()},he=({disabled:K,name:te,field:ce,fields:Pe,value:Ie})=>{if(Mi(K)&&o.mount||K){const _e=K?void 0:qr(Ie)?Pj(ce?ce._f:qe(Pe,te)._f):Ie;Zt(i,te,_e),N(te,_e,!1,!1,!0)}},we=(K,te={})=>{let ce=qe(n,K);const Pe=Mi(te.disabled)||Mi(e.disabled);return Zt(n,K,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:K}},name:K,mount:!0,...te}}),l.mount.add(K),ce?he({field:ce,disabled:Mi(te.disabled)?te.disabled:e.disabled,name:K,value:te.value}):j(K,!0,te.value),{...Pe?{disabled:te.disabled||e.disabled}:{},...t.progressive?{required:!!te.required,min:Zm(te.min),max:Zm(te.max),minLength:Zm(te.minLength),maxLength:Zm(te.maxLength),pattern:Zm(te.pattern)}:{},name:K,onChange:O,onBlur:O,ref:Ie=>{if(Ie){we(K,te),ce=qe(n,K);const _e=qr(Ie.value)&&Ie.querySelectorAll&&Ie.querySelectorAll("input,select,textarea")[0]||Ie,Ye=qre(_e),vt=ce._f.refs||[];if(Ye?vt.find(pr=>pr===_e):_e===ce._f.ref)return;Zt(n,K,{_f:{...ce._f,...Ye?{refs:[...vt.filter(kj),_e,...Array.isArray(qe(a,K))?[{}]:[]],ref:{type:_e.type,name:K}}:{ref:_e}}}),j(K,!1,void 0,_e)}else ce=qe(n,K,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||te.shouldUnregister)&&!(VL(l.array,K)&&o.action)&&l.unMount.add(K)}}},se=()=>t.shouldFocusError&&$p(n,W,l.mount),G=K=>{Mi(K)&&(f.state.next({disabled:K}),$p(n,(te,ce)=>{const Pe=qe(n,ce);Pe&&(te.disabled=Pe._f.disabled||K,Array.isArray(Pe._f.refs)&&Pe._f.refs.forEach(Ie=>{Ie.disabled=Pe._f.disabled||K}))},0,!1))},ye=(K,te)=>async ce=>{let Pe;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Ie=Fa(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:Ye}=await E();r.errors=_e,Ie=Ye}else await T(n);if(mn(r.errors,"root"),Ba(r.errors)){f.state.next({errors:{}});try{await K(Ie,ce)}catch(_e){Pe=_e}}else te&&await te({...r.errors},ce),se(),setTimeout(se);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ba(r.errors)&&!Pe,submitCount:r.submitCount+1,errors:r.errors}),Pe)throw Pe},ae=(K,te={})=>{qe(n,K)&&(qr(te.defaultValue)?D(K,Fa(qe(a,K))):(D(K,te.defaultValue),Zt(a,K,Fa(te.defaultValue))),te.keepTouched||mn(r.touchedFields,K),te.keepDirty||(mn(r.dirtyFields,K),r.isDirty=te.defaultValue?k(K,Fa(qe(a,K))):k()),te.keepError||(mn(r.errors,K),d.isValid&&g()),f.state.next({...r}))},et=(K,te={})=>{const ce=K?Fa(K):a,Pe=Fa(ce),Ie=Ba(K),_e=Ie?a:Pe;if(te.keepDefaultValues||(a=ce),!te.keepValues){if(te.keepDirtyValues){const Ye=new Set([...l.mount,...Object.keys(Qm(a,i))]);for(const vt of Array.from(Ye))qe(r.dirtyFields,vt)?Zt(_e,vt,qe(i,vt)):D(vt,qe(_e,vt))}else{if($T&&qr(K))for(const Ye of l.mount){const vt=qe(n,Ye);if(vt&&vt._f){const pr=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(My(pr)){const er=pr.closest("form");if(er){er.reset();break}}}}n={}}i=e.shouldUnregister?te.keepDefaultValues?Fa(a):{}:Fa(_e),f.array.next({values:{..._e}}),f.values.next({values:{..._e}})}l={mount:te.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!te.keepIsValid||!!te.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:Ie?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!Wl(K,a)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ie?{}:te.keepDirtyValues?te.keepDefaultValues&&i?Qm(a,i):r.dirtyFields:te.keepDefaultValues&&K?Qm(a,K):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(K,te)=>et(Bo(K)?K(i):K,te);return{control:{register:we,unregister:ie,getFieldState:I,handleSubmit:ye,setError:Y,_executeSchema:E,_getWatch:P,_getDirty:k,_updateValid:g,_removeUnmounted:A,_updateFieldArray:y,_updateDisabledField:he,_getFieldArray:L,_reset:et,_resetDefaultValues:()=>Bo(t.defaultValues)&&t.defaultValues().then(K=>{Le(K,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:K=>{r={...r,...K}},_disableForm:G,_subjects:f,_proxyFormState:d,_setErrors:b,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(K){o=K},get _defaultValues(){return a},get _names(){return l},set _names(K){l=K},get _formState(){return r},set _formState(K){r=K},get _options(){return t},set _options(K){t={...t,...K}}},trigger:ne,register:we,handleSubmit:ye,watch:Q,setValue:D,getValues:ee,reset:Le,resetField:ae,clearErrors:X,unregister:ie,setError:Y,setFocus:(K,te={})=>{const ce=qe(n,K),Pe=ce&&ce._f;if(Pe){const Ie=Pe.refs?Pe.refs[0]:Pe.ref;Ie.focus&&(Ie.focus(),te.shouldSelect&&Ie.select())}},getFieldState:I}}function i8(e={}){const t=F.useRef(),r=F.useRef(),[n,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:Bo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Bo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Xre(e),formState:n});const i=t.current.control;return i._options=e,BT({subject:i._subjects.state,next:o=>{XL(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),F.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),F.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),F.useEffect(()=>{e.values&&!Wl(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),F.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),F.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),F.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=KL(n,i),t.current}const G4=(e,t,r)=>{if(e&&"reportValidity"in e){const n=qe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},s8=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?G4(n.ref,r,e):n.refs&&n.refs.forEach(a=>G4(a,r,e))}},Yre=(e,t)=>{t.shouldUseNativeValidation&&s8(e,t);const r={};for(const n in e){const a=qe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Qre(t.names||Object.keys(e),n)){const o=Object.assign({},qe(r,n));Zt(o,"root",i),Zt(r,n,o)}else Zt(r,n,i)}return r},Qre=(e,t)=>e.some(r=>r.startsWith(t+"."));var Zre=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=ZL(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},o8=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&s8({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Yre(Zre(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ft;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ft||(Ft={}));var hN;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(hN||(hN={}));const Ke=Ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gl=e=>{switch(typeof e){case"undefined":return Ke.undefined;case"string":return Ke.string;case"number":return isNaN(e)?Ke.nan:Ke.number;case"boolean":return Ke.boolean;case"function":return Ke.function;case"bigint":return Ke.bigint;case"symbol":return Ke.symbol;case"object":return Array.isArray(e)?Ke.array:e===null?Ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ke.promise:typeof Map<"u"&&e instanceof Map?Ke.map:typeof Set<"u"&&e instanceof Set?Ke.set:typeof Date<"u"&&e instanceof Date?Ke.date:Ke.object;default:return Ke.unknown}},Ce=Ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Jre=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class vi extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof vi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vi.create=e=>new vi(e);const mh=(e,t)=>{let r;switch(e.code){case Ce.invalid_type:e.received===Ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ft.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ft.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:r="Invalid input";break;case Ce.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ft.joinValues(e.options)}`;break;case Ce.invalid_enum_value:r=`Invalid enum value. Expected ${Ft.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:r="Invalid function arguments";break;case Ce.invalid_return_type:r="Invalid function return type";break;case Ce.invalid_date:r="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ft.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ce.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ce.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ce.custom:r="Invalid input";break;case Ce.invalid_intersection_types:r="Intersection results could not be merged";break;case Ce.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ft.assertNever(e)}return{message:r}};let l8=mh;function ene(e){l8=e}function $y(){return l8}const Ly=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},tne=[];function He(e,t){const r=$y(),n=Ly({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===mh?void 0:mh].filter(a=>!!a)});e.common.issues.push(n)}class da{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return ft;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return da.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ft;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const ft=Object.freeze({status:"aborted"}),df=e=>({status:"dirty",value:e}),ka=e=>({status:"valid",value:e}),mN=e=>e.status==="aborted",pN=e=>e.status==="dirty",b0=e=>e.status==="valid",w0=e=>typeof Promise<"u"&&e instanceof Promise;function By(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function c8(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var at;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(at||(at={}));var xp,yp;class co{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const K4=(e,t)=>{if(b0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vi(e.common.issues);return this._error=r,this._error}}};function _t(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class At{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Gl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Gl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new da,ctx:{common:t.parent.common,data:t.data,parsedType:Gl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(w0(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gl(t)},i=this._parseSync({data:t,path:a.path,parent:a});return K4(a,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gl(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(w0(a)?a:Promise.resolve(a));return K4(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ce.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new ks({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ao.create(this,this._def)}nullable(){return kc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ns.create(this,this._def)}promise(){return vh.create(this,this._def)}or(t){return N0.create([this,t],this._def)}and(t){return E0.create(this,t,this._def)}transform(t){return new ks({..._t(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new P0({..._t(this._def),innerType:this,defaultValue:r,typeName:ct.ZodDefault})}brand(){return new zT({typeName:ct.ZodBranded,type:this,..._t(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new O0({..._t(this._def),innerType:this,catchValue:r,typeName:ct.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Bv.create(this,t)}readonly(){return D0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rne=/^c[^\s-]{8,}$/i,nne=/^[0-9a-z]+$/,ane=/^[0-9A-HJKMNP-TV-Z]{26}$/,ine=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sne=/^[a-z0-9_-]{21}$/i,one=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lne=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cne="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Oj;const une=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dne=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fne=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,u8="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hne=new RegExp(`^${u8}$`);function d8(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function mne(e){return new RegExp(`^${d8(e)}$`)}function f8(e){let t=`${u8}T${d8(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pne(e,t){return!!((t==="v4"||!t)&&une.test(e)||(t==="v6"||!t)&&dne.test(e))}class xs extends At{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ke.string){const i=this._getOrReturnCtx(t);return He(i,{code:Ce.invalid_type,expected:Ke.string,received:i.parsedType}),ft}const n=new da;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?He(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&He(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")lne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"email",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Oj||(Oj=new RegExp(cne,"u")),Oj.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"emoji",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")ine.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"uuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")sne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"nanoid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")rne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"cuid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")nne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"cuid2",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")ane.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"ulid",code:Ce.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),He(a,{validation:"url",code:Ce.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"regex",code:Ce.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?f8(i).test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?hne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?mne(i).test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?one.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"duration",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?pne(t.data,i.version)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"ip",code:Ce.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?fne.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"base64",code:Ce.invalid_string,message:i.message}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ce.invalid_string,...at.errToObj(n)})}_addCheck(t){return new xs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...at.errToObj(t)})}url(t){return this._addCheck({kind:"url",...at.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...at.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...at.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...at.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...at.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...at.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...at.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...at.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...at.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...at.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...at.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...at.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...at.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...at.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...at.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...at.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...at.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...at.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...at.errToObj(r)})}nonempty(t){return this.min(1,at.errToObj(t))}trim(){return new xs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xs.create=e=>{var t;return new xs({checks:[],typeName:ct.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._t(e)})};function vne(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Cc extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ke.number){const i=this._getOrReturnCtx(t);return He(i,{code:Ce.invalid_type,expected:Ke.number,received:i.parsedType}),ft}let n;const a=new da;for(const i of this._def.checks)i.kind==="int"?Ft.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?vne(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.not_finite,message:i.message}),a.dirty()):Ft.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,at.toString(r))}gt(t,r){return this.setLimit("min",t,!1,at.toString(r))}lte(t,r){return this.setLimit("max",t,!0,at.toString(r))}lt(t,r){return this.setLimit("max",t,!1,at.toString(r))}setLimit(t,r,n,a){return new Cc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:at.toString(a)}]})}_addCheck(t){return new Cc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:at.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:at.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:at.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:at.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:at.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:at.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:at.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:at.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:at.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ft.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Cc.create=e=>new Cc({checks:[],typeName:ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,..._t(e)});class Tc extends At{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Ke.bigint){const i=this._getOrReturnCtx(t);return He(i,{code:Ce.invalid_type,expected:Ke.bigint,received:i.parsedType}),ft}let n;const a=new da;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ft.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,at.toString(r))}gt(t,r){return this.setLimit("min",t,!1,at.toString(r))}lte(t,r){return this.setLimit("max",t,!0,at.toString(r))}lt(t,r){return this.setLimit("max",t,!1,at.toString(r))}setLimit(t,r,n,a){return new Tc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:at.toString(a)}]})}_addCheck(t){return new Tc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:at.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:at.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:at.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:at.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:at.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Tc.create=e=>{var t;return new Tc({checks:[],typeName:ct.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._t(e)})};class _0 extends At{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ke.boolean){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.boolean,received:n.parsedType}),ft}return ka(t.data)}}_0.create=e=>new _0({typeName:ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,..._t(e)});class td extends At{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ke.date){const i=this._getOrReturnCtx(t);return He(i,{code:Ce.invalid_type,expected:Ke.date,received:i.parsedType}),ft}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return He(i,{code:Ce.invalid_date}),ft}const n=new da;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ft.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new td({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:at.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:at.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}td.create=e=>new td({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ct.ZodDate,..._t(e)});class Uy extends At{_parse(t){if(this._getType(t)!==Ke.symbol){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.symbol,received:n.parsedType}),ft}return ka(t.data)}}Uy.create=e=>new Uy({typeName:ct.ZodSymbol,..._t(e)});class j0 extends At{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.undefined,received:n.parsedType}),ft}return ka(t.data)}}j0.create=e=>new j0({typeName:ct.ZodUndefined,..._t(e)});class S0 extends At{_parse(t){if(this._getType(t)!==Ke.null){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.null,received:n.parsedType}),ft}return ka(t.data)}}S0.create=e=>new S0({typeName:ct.ZodNull,..._t(e)});class ph extends At{constructor(){super(...arguments),this._any=!0}_parse(t){return ka(t.data)}}ph.create=e=>new ph({typeName:ct.ZodAny,..._t(e)});class Uu extends At{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ka(t.data)}}Uu.create=e=>new Uu({typeName:ct.ZodUnknown,..._t(e)});class sl extends At{_parse(t){const r=this._getOrReturnCtx(t);return He(r,{code:Ce.invalid_type,expected:Ke.never,received:r.parsedType}),ft}}sl.create=e=>new sl({typeName:ct.ZodNever,..._t(e)});class qy extends At{_parse(t){if(this._getType(t)!==Ke.undefined){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.void,received:n.parsedType}),ft}return ka(t.data)}}qy.create=e=>new qy({typeName:ct.ZodVoid,..._t(e)});class Ns extends At{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ke.array)return He(r,{code:Ce.invalid_type,expected:Ke.array,received:r.parsedType}),ft;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(He(r,{code:o?Ce.too_big:Ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(He(r,{code:Ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(He(r,{code:Ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new co(r,o,r.path,l)))).then(o=>da.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new co(r,o,r.path,l)));return da.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ns({...this._def,minLength:{value:t,message:at.toString(r)}})}max(t,r){return new Ns({...this._def,maxLength:{value:t,message:at.toString(r)}})}length(t,r){return new Ns({...this._def,exactLength:{value:t,message:at.toString(r)}})}nonempty(t){return this.min(1,t)}}Ns.create=(e,t)=>new Ns({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,..._t(t)});function Wd(e){if(e instanceof Rr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ao.create(Wd(n))}return new Rr({...e._def,shape:()=>t})}else return e instanceof Ns?new Ns({...e._def,type:Wd(e.element)}):e instanceof ao?ao.create(Wd(e.unwrap())):e instanceof kc?kc.create(Wd(e.unwrap())):e instanceof uo?uo.create(e.items.map(t=>Wd(t))):e}class Rr extends At{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ft.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ke.object){const u=this._getOrReturnCtx(t);return He(u,{code:Ce.invalid_type,expected:Ke.object,received:u.parsedType}),ft}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof sl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new co(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof sl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(He(a,{code:Ce.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new co(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>da.mergeObjectSync(n,u)):da.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return at.errToObj,new Rr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=at.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Rr({...this._def,unknownKeys:"strip"})}passthrough(){return new Rr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Rr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Rr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ct.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Rr({...this._def,catchall:t})}pick(t){const r={};return Ft.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Rr({...this._def,shape:()=>r})}omit(t){const r={};return Ft.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Rr({...this._def,shape:()=>r})}deepPartial(){return Wd(this)}partial(t){const r={};return Ft.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Rr({...this._def,shape:()=>r})}required(t){const r={};return Ft.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ao;)i=i._def.innerType;r[n]=i}}),new Rr({...this._def,shape:()=>r})}keyof(){return h8(Ft.objectKeys(this.shape))}}Rr.create=(e,t)=>new Rr({shape:()=>e,unknownKeys:"strip",catchall:sl.create(),typeName:ct.ZodObject,..._t(t)});Rr.strictCreate=(e,t)=>new Rr({shape:()=>e,unknownKeys:"strict",catchall:sl.create(),typeName:ct.ZodObject,..._t(t)});Rr.lazycreate=(e,t)=>new Rr({shape:e,unknownKeys:"strip",catchall:sl.create(),typeName:ct.ZodObject,..._t(t)});class N0 extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new vi(l.ctx.common.issues));return He(r,{code:Ce.invalid_union,unionErrors:o}),ft}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new vi(c));return He(r,{code:Ce.invalid_union,unionErrors:l}),ft}}get options(){return this._def.options}}N0.create=(e,t)=>new N0({options:e,typeName:ct.ZodUnion,..._t(t)});const Oo=e=>e instanceof T0?Oo(e.schema):e instanceof ks?Oo(e.innerType()):e instanceof A0?[e.value]:e instanceof Ac?e.options:e instanceof k0?Ft.objectValues(e.enum):e instanceof P0?Oo(e._def.innerType):e instanceof j0?[void 0]:e instanceof S0?[null]:e instanceof ao?[void 0,...Oo(e.unwrap())]:e instanceof kc?[null,...Oo(e.unwrap())]:e instanceof zT||e instanceof D0?Oo(e.unwrap()):e instanceof O0?Oo(e._def.innerType):[];class Gb extends At{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.object)return He(r,{code:Ce.invalid_type,expected:Ke.object,received:r.parsedType}),ft;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(He(r,{code:Ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ft)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Oo(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Gb({typeName:ct.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,..._t(n)})}}function vN(e,t){const r=Gl(e),n=Gl(t);if(e===t)return{valid:!0,data:e};if(r===Ke.object&&n===Ke.object){const a=Ft.objectKeys(t),i=Ft.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=vN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ke.array&&n===Ke.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=vN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ke.date&&n===Ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class E0 extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(mN(i)||mN(o))return ft;const l=vN(i.value,o.value);return l.valid?((pN(i)||pN(o))&&r.dirty(),{status:r.value,value:l.data}):(He(n,{code:Ce.invalid_intersection_types}),ft)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}E0.create=(e,t,r)=>new E0({left:e,right:t,typeName:ct.ZodIntersection,..._t(r)});class uo extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.array)return He(n,{code:Ce.invalid_type,expected:Ke.array,received:n.parsedType}),ft;if(n.data.length<this._def.items.length)return He(n,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ft;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new co(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>da.mergeArray(r,o)):da.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new uo({...this._def,rest:t})}}uo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uo({items:e,typeName:ct.ZodTuple,rest:null,..._t(t)})};class C0 extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.object)return He(n,{code:Ce.invalid_type,expected:Ke.object,received:n.parsedType}),ft;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new co(n,l,n.path,l)),value:o._parse(new co(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?da.mergeObjectAsync(r,a):da.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof At?new C0({keyType:t,valueType:r,typeName:ct.ZodRecord,..._t(n)}):new C0({keyType:xs.create(),valueType:t,typeName:ct.ZodRecord,..._t(r)})}}class zy extends At{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.map)return He(n,{code:Ce.invalid_type,expected:Ke.map,received:n.parsedType}),ft;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new co(n,l,n.path,[u,"key"])),value:i._parse(new co(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ft;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ft;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}zy.create=(e,t,r)=>new zy({valueType:t,keyType:e,typeName:ct.ZodMap,..._t(r)});class rd extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ke.set)return He(n,{code:Ce.invalid_type,expected:Ke.set,received:n.parsedType}),ft;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(He(n,{code:Ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(He(n,{code:Ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ft;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new co(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new rd({...this._def,minSize:{value:t,message:at.toString(r)}})}max(t,r){return new rd({...this._def,maxSize:{value:t,message:at.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}rd.create=(e,t)=>new rd({valueType:e,minSize:null,maxSize:null,typeName:ct.ZodSet,..._t(t)});class Tf extends At{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.function)return He(r,{code:Ce.invalid_type,expected:Ke.function,received:r.parsedType}),ft;function n(l,c){return Ly({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$y(),mh].filter(u=>!!u),issueData:{code:Ce.invalid_arguments,argumentsError:c}})}function a(l,c){return Ly({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$y(),mh].filter(u=>!!u),issueData:{code:Ce.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof vh){const l=this;return ka(async function(...c){const u=new vi([]),d=await l._def.args.parseAsync(c,i).catch(m=>{throw u.addIssue(n(c,m)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw u.addIssue(a(f,m)),u})})}else{const l=this;return ka(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new vi([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new vi([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Tf({...this._def,args:uo.create(t).rest(Uu.create())})}returns(t){return new Tf({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Tf({args:t||uo.create([]).rest(Uu.create()),returns:r||Uu.create(),typeName:ct.ZodFunction,..._t(n)})}}class T0 extends At{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}T0.create=(e,t)=>new T0({getter:e,typeName:ct.ZodLazy,..._t(t)});class A0 extends At{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return He(r,{received:r.data,code:Ce.invalid_literal,expected:this._def.value}),ft}return{status:"valid",value:t.data}}get value(){return this._def.value}}A0.create=(e,t)=>new A0({value:e,typeName:ct.ZodLiteral,..._t(t)});function h8(e,t){return new Ac({values:e,typeName:ct.ZodEnum,..._t(t)})}class Ac extends At{constructor(){super(...arguments),xp.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return He(r,{expected:Ft.joinValues(n),received:r.parsedType,code:Ce.invalid_type}),ft}if(By(this,xp)||c8(this,xp,new Set(this._def.values)),!By(this,xp).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return He(r,{received:r.data,code:Ce.invalid_enum_value,options:n}),ft}return ka(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ac.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ac.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}xp=new WeakMap;Ac.create=h8;class k0 extends At{constructor(){super(...arguments),yp.set(this,void 0)}_parse(t){const r=Ft.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ke.string&&n.parsedType!==Ke.number){const a=Ft.objectValues(r);return He(n,{expected:Ft.joinValues(a),received:n.parsedType,code:Ce.invalid_type}),ft}if(By(this,yp)||c8(this,yp,new Set(Ft.getValidEnumValues(this._def.values))),!By(this,yp).has(t.data)){const a=Ft.objectValues(r);return He(n,{received:n.data,code:Ce.invalid_enum_value,options:a}),ft}return ka(t.data)}get enum(){return this._def.values}}yp=new WeakMap;k0.create=(e,t)=>new k0({values:e,typeName:ct.ZodNativeEnum,..._t(t)});class vh extends At{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ke.promise&&r.common.async===!1)return He(r,{code:Ce.invalid_type,expected:Ke.promise,received:r.parsedType}),ft;const n=r.parsedType===Ke.promise?r.data:Promise.resolve(r.data);return ka(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vh.create=(e,t)=>new vh({type:e,typeName:ct.ZodPromise,..._t(t)});class ks extends At{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{He(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return ft;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ft:c.status==="dirty"||r.value==="dirty"?df(c.value):c});{if(r.value==="aborted")return ft;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ft:l.status==="dirty"||r.value==="dirty"?df(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ft:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ft:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!b0(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>b0(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);Ft.assertNever(a)}}ks.create=(e,t,r)=>new ks({schema:e,typeName:ct.ZodEffects,effect:t,..._t(r)});ks.createWithPreprocess=(e,t,r)=>new ks({schema:t,effect:{type:"preprocess",transform:e},typeName:ct.ZodEffects,..._t(r)});class ao extends At{_parse(t){return this._getType(t)===Ke.undefined?ka(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ao.create=(e,t)=>new ao({innerType:e,typeName:ct.ZodOptional,..._t(t)});class kc extends At{_parse(t){return this._getType(t)===Ke.null?ka(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}kc.create=(e,t)=>new kc({innerType:e,typeName:ct.ZodNullable,..._t(t)});class P0 extends At{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}P0.create=(e,t)=>new P0({innerType:e,typeName:ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,..._t(t)});class O0 extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w0(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}O0.create=(e,t)=>new O0({innerType:e,typeName:ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,..._t(t)});class Hy extends At{_parse(t){if(this._getType(t)!==Ke.nan){const n=this._getOrReturnCtx(t);return He(n,{code:Ce.invalid_type,expected:Ke.nan,received:n.parsedType}),ft}return{status:"valid",value:t.data}}}Hy.create=e=>new Hy({typeName:ct.ZodNaN,..._t(e)});const gne=Symbol("zod_brand");class zT extends At{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Bv extends At{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ft:i.status==="dirty"?(r.dirty(),df(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ft:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Bv({in:t,out:r,typeName:ct.ZodPipeline})}}class D0 extends At{_parse(t){const r=this._def.innerType._parse(t),n=a=>(b0(a)&&(a.value=Object.freeze(a.value)),a);return w0(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}D0.create=(e,t)=>new D0({innerType:e,typeName:ct.ZodReadonly,..._t(t)});function m8(e,t={},r){return e?ph.create().superRefine((n,a)=>{var i,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(i=l.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...u,fatal:c})}}):ph.create()}const xne={object:Rr.lazycreate};var ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ct||(ct={}));const yne=(e,t={message:`Input not instance of ${e.name}`})=>m8(r=>r instanceof e,t),ff=xs.create,p8=Cc.create,bne=Hy.create,wne=Tc.create,v8=_0.create,_ne=td.create,jne=Uy.create,Sne=j0.create,Nne=S0.create,Ene=ph.create,Cne=Uu.create,Tne=sl.create,Ane=qy.create,kne=Ns.create,g8=Rr.create,Pne=Rr.strictCreate,One=N0.create,Dne=Gb.create,Rne=E0.create,Mne=uo.create,Ine=C0.create,Fne=zy.create,$ne=rd.create,Lne=Tf.create,Bne=T0.create,Une=A0.create,qne=Ac.create,zne=k0.create,Hne=vh.create,X4=ks.create,Vne=ao.create,Wne=kc.create,Gne=ks.createWithPreprocess,Kne=Bv.create,Xne=()=>ff().optional(),Yne=()=>p8().optional(),Qne=()=>v8().optional(),gN={string:e=>xs.create({...e,coerce:!0}),number:e=>Cc.create({...e,coerce:!0}),boolean:e=>_0.create({...e,coerce:!0}),bigint:e=>Tc.create({...e,coerce:!0}),date:e=>td.create({...e,coerce:!0})},Zne=ft;var fa=Object.freeze({__proto__:null,defaultErrorMap:mh,setErrorMap:ene,getErrorMap:$y,makeIssue:Ly,EMPTY_PATH:tne,addIssueToContext:He,ParseStatus:da,INVALID:ft,DIRTY:df,OK:ka,isAborted:mN,isDirty:pN,isValid:b0,isAsync:w0,get util(){return Ft},get objectUtil(){return hN},ZodParsedType:Ke,getParsedType:Gl,ZodType:At,datetimeRegex:f8,ZodString:xs,ZodNumber:Cc,ZodBigInt:Tc,ZodBoolean:_0,ZodDate:td,ZodSymbol:Uy,ZodUndefined:j0,ZodNull:S0,ZodAny:ph,ZodUnknown:Uu,ZodNever:sl,ZodVoid:qy,ZodArray:Ns,ZodObject:Rr,ZodUnion:N0,ZodDiscriminatedUnion:Gb,ZodIntersection:E0,ZodTuple:uo,ZodRecord:C0,ZodMap:zy,ZodSet:rd,ZodFunction:Tf,ZodLazy:T0,ZodLiteral:A0,ZodEnum:Ac,ZodNativeEnum:k0,ZodPromise:vh,ZodEffects:ks,ZodTransformer:ks,ZodOptional:ao,ZodNullable:kc,ZodDefault:P0,ZodCatch:O0,ZodNaN:Hy,BRAND:gne,ZodBranded:zT,ZodPipeline:Bv,ZodReadonly:D0,custom:m8,Schema:At,ZodSchema:At,late:xne,get ZodFirstPartyTypeKind(){return ct},coerce:gN,any:Ene,array:kne,bigint:wne,boolean:v8,date:_ne,discriminatedUnion:Dne,effect:X4,enum:qne,function:Lne,instanceof:yne,intersection:Rne,lazy:Bne,literal:Une,map:Fne,nan:bne,nativeEnum:zne,never:Tne,null:Nne,nullable:Wne,number:p8,object:g8,oboolean:Qne,onumber:Yne,optional:Vne,ostring:Xne,pipeline:Kne,preprocess:Gne,promise:Hne,record:Ine,set:$ne,strictObject:Pne,string:ff,symbol:jne,transformer:X4,tuple:Mne,undefined:Sne,union:One,unknown:Cne,void:Ane,NEVER:Zne,ZodIssueCode:Ce,quotelessJson:Jre,ZodError:vi});const Jne=fa.object({first_name:fa.string().min(2,"Nome deve ter pelo menos 2 caracteres"),last_name:fa.string().min(2,"Sobrenome deve ter pelo menos 2 caracteres"),phone:fa.string().min(10,"Telefone invlido"),crp:fa.string().optional(),specialty:fa.string().min(2,"Especialidade deve ter pelo menos 2 caracteres"),cpf:fa.string().nullable().optional(),cnpj:fa.string().nullable().optional(),cep:fa.string().min(8,"CEP invlido").max(9,"CEP invlido"),state:fa.string().min(2,"Estado invlido"),city:fa.string().min(2,"Cidade invlida"),neighborhood:fa.string().min(2,"Bairro invlido"),street:fa.string().min(2,"Rua invlida"),house_number:fa.string().min(1,"Nmero invlido"),complemento:fa.string().optional()}).refine(e=>!e.cpf||!e.cnpj,{message:"Voc deve preencher apenas CPF ou CNPJ, no ambos",path:["cpf"]}),eae=()=>{const{user:e}=Gt(),t=i8({resolver:o8(Jne),defaultValues:{first_name:"",last_name:"",phone:"",crp:"",specialty:"",cpf:"",cnpj:"",cep:"",state:"",city:"",neighborhood:"",street:"",house_number:"",complemento:""}});return F.useEffect(()=>{(async()=>{if(e)try{const{data:a,error:i}=await xu.from("profiles").select("*").eq("id",e.id).single();if(i){console.error("Erro ao buscar perfil:",i);return}t.reset({first_name:(a==null?void 0:a.first_name)||"",last_name:(a==null?void 0:a.last_name)||"",phone:(a==null?void 0:a.phone)||"",crp:(a==null?void 0:a.crp)||"",specialty:(a==null?void 0:a.specialty)||"",cpf:(a==null?void 0:a.cpf)||"",cnpj:(a==null?void 0:a.cnpj)||"",cep:(a==null?void 0:a.cep)||"",state:(a==null?void 0:a.state)||"",city:(a==null?void 0:a.city)||"",neighborhood:(a==null?void 0:a.neighborhood)||"",street:(a==null?void 0:a.street)||"",house_number:(a==null?void 0:a.house_number)||"",complemento:(a==null?void 0:a.complemento)||""})}catch(a){console.error("Erro ao buscar dados do perfil:",a),tt({variant:"destructive",title:"Erro ao carregar perfil",description:"No foi possvel carregar suas informaes. Tente novamente mais tarde."})}})()},[e,t]),{form:t,onSubmit:async n=>{if(!e){tt({variant:"destructive",title:"Erro de autenticao",description:"Voc precisa estar logado para atualizar seu perfil."});return}try{console.log("Enviando dados para atualizao:",n);const a={first_name:n.first_name,last_name:n.last_name,phone:n.phone,crp:n.crp===""?null:n.crp,specialty:n.specialty,cpf:n.cpf===""?null:n.cpf,cnpj:n.cnpj===""?null:n.cnpj,cep:n.cep,state:n.state,city:n.city,neighborhood:n.neighborhood,street:n.street,house_number:n.house_number},{error:i}=await xu.from("profiles").update(a).eq("id",e.id);if(i)throw console.error("Erro detalhado ao atualizar perfil:",i),i;tt({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})}catch(a){console.error("Erro ao atualizar perfil:",a),tt({variant:"destructive",title:"Erro ao atualizar perfil",description:a.message||"Ocorreu um erro ao atualizar suas informaes."})}}}},tae=()=>{const[e,t]=_.useState(!1);return{searchCep:async n=>{const a=n.replace(/\D/g,"");if(a.length!==8)return tt({variant:"destructive",title:"CEP invlido",description:"O CEP deve conter 8 dgitos."}),null;t(!0);try{const i=await fetch(`https://viacep.com.br/ws/${a}/json/`);if(!i.ok)throw new Error("Erro na consulta do CEP");const o=await i.json();return o.erro?(tt({variant:"destructive",title:"CEP no encontrado",description:"O CEP informado no foi encontrado."}),null):o}catch(i){return console.error("Erro ao buscar CEP:",i),tt({variant:"destructive",title:"Erro ao buscar CEP",description:"No foi possvel consultar o CEP. Tente novamente."}),null}finally{t(!1)}},isLoading:e}},Oe=_.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Oe.displayName="Input";var rae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lt=rae.reduce((e,t)=>{const r=_.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?Ya:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nae(e,t){e&&em.flushSync(()=>e.dispatchEvent(t))}var aae="Label",x8=_.forwardRef((e,t)=>s.jsx(lt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));x8.displayName=aae;var y8=x8;const iae=om("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=_.forwardRef(({className:e,...t},r)=>s.jsx(y8,{ref:r,className:xe(iae(),e),...t}));De.displayName=y8.displayName;const b8=Rre,w8=_.createContext({}),vn=({...e})=>s.jsx(w8.Provider,{value:{name:e.name},children:s.jsx($re,{...e})}),Kb=()=>{const e=_.useContext(w8),t=_.useContext(_8),{getFieldState:r,formState:n}=Wb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},_8=_.createContext({}),tn=_.forwardRef(({className:e,...t},r)=>{const n=_.useId();return s.jsx(_8.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:xe("space-y-2",e),...t})})});tn.displayName="FormItem";const rn=_.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Kb();return s.jsx(De,{ref:r,className:xe(n&&"text-destructive",e),htmlFor:a,...t})});rn.displayName="FormLabel";const nn=_.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Kb();return s.jsx(Ya,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});nn.displayName="FormControl";const xN=_.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Kb();return s.jsx("p",{ref:r,id:n,className:xe("text-sm text-muted-foreground",e),...t})});xN.displayName="FormDescription";const an=_.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Kb(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:xe("text-sm font-medium text-destructive",e),...r,children:o}):null});an.displayName="FormMessage";var sae="Separator",Y4="horizontal",oae=["horizontal","vertical"],j8=_.forwardRef((e,t)=>{const{decorative:r,orientation:n=Y4,...a}=e,i=lae(n)?n:Y4,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(lt.div,{"data-orientation":i,...l,...a,ref:t})});j8.displayName=sae;function lae(e){return oae.includes(e)}var S8=j8;const Fr=_.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(S8,{ref:a,decorative:r,orientation:t,className:xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Fr.displayName=S8.displayName;function cae(){const{form:e,onSubmit:t}=eae(),{searchCep:r,isLoading:n}=tae(),a=l=>{const c=l.replace(/\D/g,"");return c.length<=5?c:`${c.slice(0,5)}-${c.slice(5,8)}`},i=async()=>{const l=e.getValues("cep");if(!l)return;const c=await r(l);c&&(e.setValue("state",c.uf),e.setValue("city",c.localidade),e.setValue("neighborhood",c.bairro),e.setValue("street",c.logradouro))},o=l=>{l.key==="Enter"&&(l.preventDefault(),i())};return s.jsx(b8,{...e,children:s.jsxs("form",{onSubmit:e.handleSubmit(t),className:"space-y-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(vn,{control:e.control,name:"first_name",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Nome"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Seu nome",...l})}),s.jsx(an,{})]})}),s.jsx(vn,{control:e.control,name:"last_name",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Sobrenome"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Seu sobrenome",...l})}),s.jsx(an,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(vn,{control:e.control,name:"phone",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Telefone"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"(00) 00000-0000",...l})}),s.jsx(an,{})]})}),s.jsx(vn,{control:e.control,name:"specialty",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Especialidade"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Sua especialidade",...l})}),s.jsx(an,{})]})})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:s.jsx(vn,{control:e.control,name:"crp",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"CRP (opcional)"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Seu nmero de CRP",...l})}),s.jsx(an,{})]})})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(vn,{control:e.control,name:"cpf",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"CPF (opcional)"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"000.000.000-00",...l,value:l.value||""})}),s.jsx(xN,{children:"Preencha apenas um: CPF ou CNPJ"}),s.jsx(an,{})]})}),s.jsx(vn,{control:e.control,name:"cnpj",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"CNPJ (opcional)"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"00.000.000/0000-00",...l,value:l.value||""})}),s.jsx(an,{})]})})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1",children:s.jsx("h3",{className:"text-lg font-medium",children:"Endereo"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(vn,{control:e.control,name:"cep",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"CEP"}),s.jsx(nn,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{placeholder:"00000-000",...l,value:a(l.value||""),onChange:c=>{const u=a(c.target.value);l.onChange(u)},onKeyPress:o,maxLength:9}),s.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:i,disabled:n||!l.value,className:"shrink-0",children:s.jsx(xl,{className:`h-4 w-4 ${n?"animate-spin":""}`})})]})}),s.jsx(xN,{children:"Digite o CEP e pressione Enter ou clique na lupa para buscar automaticamente"}),s.jsx(an,{})]})}),s.jsx(vn,{control:e.control,name:"state",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Estado"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"SP",...l})}),s.jsx(an,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(vn,{control:e.control,name:"city",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Cidade"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"So Paulo",...l})}),s.jsx(an,{})]})}),s.jsx(vn,{control:e.control,name:"neighborhood",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Bairro"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Centro",...l})}),s.jsx(an,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[s.jsx("div",{className:"sm:col-span-2",children:s.jsx(vn,{control:e.control,name:"street",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Rua"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Av. Paulista",...l})}),s.jsx(an,{})]})})}),s.jsx(vn,{control:e.control,name:"house_number",render:({field:l})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Nmero"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"123",...l})}),s.jsx(an,{})]})})]})]}),s.jsx(re,{type:"submit",className:"bg-roomly-600 hover:bg-roomly-700 text-white",disabled:e.formState.isSubmitting,children:e.formState.isSubmitting?"Salvando...":"Salvar alteraes"})]})})}const fm=({title:e,description:t,children:r})=>s.jsxs("div",{className:"relative mb-6 md:mb-8",children:[s.jsx("div",{className:"absolute inset-0 glass-intense rounded-xl md:rounded-2xl shadow-3d hover:shadow-3d-hover transition-all duration-500 -z-10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/3 via-accent/8 to-secondary/5 rounded-xl md:rounded-2xl -z-20"}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 md:gap-4 p-4 sm:p-6 md:p-8",children:[s.jsxs("div",{className:"space-y-2 md:space-y-3",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:e}),t&&s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base md:text-lg font-medium",children:t})]}),r&&s.jsx("div",{className:"flex-shrink-0",children:r})]})]}),de=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));de.displayName="Card";const Se=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const $e=_.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));$e.displayName="CardTitle";const Vr=_.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Vr.displayName="CardDescription";const me=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));me.displayName="CardContent";const yN=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));yN.displayName="CardFooter";function uae(e,t){const r=_.createContext(t),n=i=>{const{children:o,...l}=i,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Zi(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];const u=f=>{var x;const{scope:h,children:m,...v}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,g=_.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=_.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,dae(a,...t)]}function dae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function An(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Rn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},HT="Avatar",[fae,zze]=Zi(HT),[hae,N8]=fae(HT),E8=_.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=_.useState("idle");return s.jsx(hae,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(lt.span,{...n,ref:t})})});E8.displayName=HT;var C8="AvatarImage",T8=_.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=N8(C8,r),l=mae(n,i.referrerPolicy),c=An(u=>{a(u),o.onImageLoadingStatusChange(u)});return Rn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(lt.img,{...i,ref:t,src:n}):null});T8.displayName=C8;var A8="AvatarFallback",k8=_.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=N8(A8,r),[o,l]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(lt.span,{...a,ref:t}):null});k8.displayName=A8;function mae(e,t){const[r,n]=_.useState("idle");return Rn(()=>{if(!e){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var P8=E8,O8=T8,D8=k8;const R8=_.forwardRef(({className:e,...t},r)=>s.jsx(P8,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));R8.displayName=P8.displayName;const M8=_.forwardRef(({className:e,...t},r)=>s.jsx(O8,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));M8.displayName=O8.displayName;const I8=_.forwardRef(({className:e,...t},r)=>s.jsx(D8,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));I8.displayName=D8.displayName;const pae=om("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:e,variant:t,...r}){return s.jsx("div",{className:xe(pae({variant:t}),e),...r})}const vae=om("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gh=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:xe(vae({variant:t}),e),...r}));gh.displayName="Alert";const F8=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));F8.displayName="AlertTitle";const xh=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));xh.displayName="AlertDescription";const gae=()=>{var a,i,o,l,c,u,d,f;const{user:e}=Gt(),t=Qi(),r=(a=t.state)==null?void 0:a.isFirstLogin,n=(i=t.state)==null?void 0:i.message;return s.jsx(Er,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx(fm,{title:"Minha Conta",description:"Gerencie suas informaes pessoais e preferncias"}),r&&n&&s.jsxs(gh,{className:"mb-6 border-orange-200 bg-orange-50",children:[s.jsx(Zu,{className:"h-4 w-4 text-orange-600"}),s.jsxs(xh,{className:"text-orange-800",children:[s.jsx("strong",{children:"Bem-vindo ao Roomly!"})," ",n]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:[s.jsxs(de,{className:"lg:col-span-1 border-border/50",children:[s.jsx(Se,{className:"text-center pb-4",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs(R8,{className:"h-24 w-24",children:[s.jsx(M8,{src:(o=e==null?void 0:e.user_metadata)==null?void 0:o.avatar_url}),s.jsx(I8,{className:"bg-primary text-white text-xl font-bold",children:((c=(l=e==null?void 0:e.user_metadata)==null?void 0:l.first_name)==null?void 0:c[0])||((u=e==null?void 0:e.email)==null?void 0:u[0])||"U"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground",children:[(d=e==null?void 0:e.user_metadata)==null?void 0:d.first_name," ",(f=e==null?void 0:e.user_metadata)==null?void 0:f.last_name]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e==null?void 0:e.email}),s.jsxs(Re,{variant:"secondary",children:[s.jsx(um,{className:"h-3 w-3 mr-1"}),"Conta Verificada"]})]})]})}),s.jsx(me,{className:"space-y-4",children:s.jsx("div",{className:"bg-muted/30 rounded-lg p-4 space-y-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(al,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Status da Conta"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Ativa desde ",new Date().getFullYear()]})]})]})})})]}),s.jsxs(de,{className:"lg:col-span-2 border-border/50",children:[s.jsx(Se,{className:"border-b border-border/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Vl,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Informaes Pessoais"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Atualize seus dados pessoais e informaes de contato"})]})]})}),s.jsx(me,{className:"p-8",children:s.jsx(cae,{})})]})]})]})})};function Ut(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xa(e,t){const r=Ut(e);return isNaN(t)?wi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Xi(e,t){const r=Ut(e);if(isNaN(t))return wi(e,NaN);if(!t)return r;const n=r.getDate(),a=wi(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const VT=6048e5,xae=864e5,$8=6e4,L8=36e5;let yae={};function Uv(){return yae}function fo(e,t){var l,c,u,d;const r=Uv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ut(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function nd(e){return fo(e,{weekStartsOn:1})}function B8(e){const t=Ut(e),r=t.getFullYear(),n=wi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=nd(n),i=wi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=nd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ad(e){const t=Ut(e);return t.setHours(0,0,0,0),t}function Vy(e){const t=Ut(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function eo(e,t){const r=ad(e),n=ad(t),a=+r-Vy(r),i=+n-Vy(n);return Math.round((a-i)/xae)}function bae(e){const t=B8(e),r=wi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),nd(r)}function bN(e,t){const r=t*7;return xa(e,r)}function wae(e,t){return Xi(e,t*12)}function _ae(e){let t;return e.forEach(function(r){const n=Ut(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function jae(e){let t;return e.forEach(r=>{const n=Ut(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function ja(e,t){const r=ad(e),n=ad(t);return+r==+n}function WT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sae(e){if(!WT(e)&&typeof e!="number")return!1;const t=Ut(e);return!isNaN(Number(t))}function R0(e,t){const r=Ut(e),n=Ut(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Nae(e,t,r){const n=fo(e,r),a=fo(t,r),i=+n-Vy(n),o=+a-Vy(a);return Math.round((i-o)/VT)}function Eae(e){const t=Ut(e);return t.setHours(23,59,59,999),t}function Gs(e){const t=Ut(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yr(e){const t=Ut(e);return t.setDate(1),t.setHours(0,0,0,0),t}function U8(e){const t=Ut(e),r=wi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function GT(e,t){var l,c,u,d;const r=Uv(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ut(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function q8(e){return GT(e,{weekStartsOn:1})}const Cae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tae=(e,t,r)=>{let n;const a=Cae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Af(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Aae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Oae={date:Af({formats:Aae,defaultWidth:"full"}),time:Af({formats:kae,defaultWidth:"full"}),dateTime:Af({formats:Pae,defaultWidth:"full"})},Dae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rae=(e,t,r,n)=>Dae[e];function Ys(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Mae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Fae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$ae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uae=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},qae={ordinalNumber:Uae,era:Ys({values:Mae,defaultWidth:"wide"}),quarter:Ys({values:Iae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:Fae,defaultWidth:"wide"}),day:Ys({values:$ae,defaultWidth:"wide"}),dayPeriod:Ys({values:Lae,defaultWidth:"wide",formattingValues:Bae,defaultFormattingWidth:"wide"})};function Qs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Hae(l,f=>f.test(o)):zae(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function zae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Hae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function z8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Vae=/^(\d+)(th|st|nd|rd)?/i,Wae=/\d+/i,Gae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kae={any:[/^b/i,/^(a|c)/i]},Xae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yae={any:[/1/i,/2/i,/3/i,/4/i]},Qae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nie={ordinalNumber:z8({matchPattern:Vae,parsePattern:Wae,valueCallback:e=>parseInt(e,10)}),era:Qs({matchPatterns:Gae,defaultMatchWidth:"wide",parsePatterns:Kae,defaultParseWidth:"any"}),quarter:Qs({matchPatterns:Xae,defaultMatchWidth:"wide",parsePatterns:Yae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qs({matchPatterns:Qae,defaultMatchWidth:"wide",parsePatterns:Zae,defaultParseWidth:"any"}),day:Qs({matchPatterns:Jae,defaultMatchWidth:"wide",parsePatterns:eie,defaultParseWidth:"any"}),dayPeriod:Qs({matchPatterns:tie,defaultMatchWidth:"any",parsePatterns:rie,defaultParseWidth:"any"})},H8={code:"en-US",formatDistance:Tae,formatLong:Oae,formatRelative:Rae,localize:qae,match:nie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aie(e){const t=Ut(e);return eo(t,U8(t))+1}function V8(e){const t=Ut(e),r=+nd(t)-+bae(t);return Math.round(r/VT)+1}function W8(e,t){var d,f,h,m;const r=Ut(e),n=r.getFullYear(),a=Uv(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=wi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=fo(o,t),c=wi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=fo(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function iie(e,t){var l,c,u,d;const r=Uv(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=W8(e,t),i=wi(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),fo(i,t)}function G8(e,t){const r=Ut(e),n=+fo(r,t)-+iie(r,t);return Math.round(n/VT)+1}function nr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Pl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return nr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):nr(r+1,2)},d(e,t){return nr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return nr(e.getHours()%12||12,t.length)},H(e,t){return nr(e.getHours(),t.length)},m(e,t){return nr(e.getMinutes(),t.length)},s(e,t){return nr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return nr(a,t.length)}},Md={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q4={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pl.y(e,t)},Y:function(e,t,r,n){const a=W8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return nr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):nr(i,t.length)},R:function(e,t){const r=B8(e);return nr(r,t.length)},u:function(e,t){const r=e.getFullYear();return nr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Pl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=G8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):nr(a,t.length)},I:function(e,t,r){const n=V8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):nr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pl.d(e,t)},D:function(e,t,r){const n=aie(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):nr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return nr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return nr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return nr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Md.noon:n===0?a=Md.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Md.evening:n>=12?a=Md.afternoon:n>=4?a=Md.morning:a=Md.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pl.s(e,t)},S:function(e,t){return Pl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return J4(n);case"XXXX":case"XX":return du(n);case"XXXXX":case"XXX":default:return du(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return J4(n);case"xxxx":case"xx":return du(n);case"xxxxx":case"xxx":default:return du(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z4(n,":");case"OOOO":default:return"GMT"+du(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z4(n,":");case"zzzz":default:return"GMT"+du(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return nr(n,t.length)},T:function(e,t,r){const n=e.getTime();return nr(n,t.length)}};function Z4(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+nr(i,2)}function J4(e,t){return e%60===0?(e>0?"-":"+")+nr(Math.abs(e)/60,2):du(e,t)}function du(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=nr(Math.trunc(n/60),2),i=nr(n%60,2);return r+a+t+i}const e3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},K8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sie=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return e3(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",e3(n,t)).replace("{{time}}",K8(a,t))},oie={p:K8,P:sie},lie=/^D+$/,cie=/^Y+$/,uie=["D","DD","YY","YYYY"];function die(e){return lie.test(e)}function fie(e){return cie.test(e)}function hie(e,t,r){const n=mie(e,t,r);if(console.warn(n),uie.includes(e))throw new RangeError(n)}function mie(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gie=/^'([^]*?)'?$/,xie=/''/g,yie=/[a-zA-Z]/;function We(e,t,r){var d,f,h,m,v,p,g,x;const n=Uv(),a=(r==null?void 0:r.locale)??n.locale??H8,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,l=Ut(e);if(!Sae(l))throw new RangeError("Invalid time value");let c=t.match(vie).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=oie[w];return b(y,a.formatLong)}return y}).join("").match(pie).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:bie(y)};if(Q4[w])return{isToken:!0,value:y};if(w.match(yie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&fie(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&die(w))&&hie(w,t,String(e));const b=Q4[w[0]];return b(l,w,a.localize,u)}).join("")}function bie(e){const t=e.match(gie);return t?t[1].replace(xie,"'"):e}function wie(e){const t=Ut(e),r=t.getFullYear(),n=t.getMonth(),a=wi(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function _ie(e){return Math.trunc(+Ut(e)/1e3)}function jie(e){const t=Ut(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Sie(e,t){return Nae(jie(e),Yr(e),t)+1}function wN(e,t){const r=Ut(e),n=Ut(t);return r.getTime()>n.getTime()}function X8(e,t){const r=Ut(e),n=Ut(t);return+r<+n}function KT(e,t){const r=Ut(e),n=Ut(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Nie(e,t){const r=Ut(e),n=Ut(t);return r.getFullYear()===n.getFullYear()}function Wx(e,t){return xa(e,-t)}function t3(e,t){const n=Aie(e);let a;if(n.date){const c=kie(n.date,2);a=Pie(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=Oie(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Die(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Qg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Eie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Cie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Aie(e){const t={},r=e.split(Qg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Qg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Qg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function kie(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Pie(e,t){if(t===null)return new Date(NaN);const r=e.match(Eie);if(!r)return new Date(NaN);const n=!!r[4],a=Jm(r[1]),i=Jm(r[2])-1,o=Jm(r[3]),l=Jm(r[4]),c=Jm(r[5])-1;if(n)return $ie(t,l,c)?Rie(t,l,c):new Date(NaN);{const u=new Date(0);return!Iie(t,i,o)||!Fie(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Jm(e){return e?parseInt(e):1}function Oie(e){const t=e.match(Cie);if(!t)return NaN;const r=Dj(t[1]),n=Dj(t[2]),a=Dj(t[3]);return Lie(r,n,a)?r*L8+n*$8+a*1e3:NaN}function Dj(e){return e&&parseFloat(e.replace(",","."))||0}function Die(e){if(e==="Z")return 0;const t=e.match(Tie);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Bie(n,a)?r*(n*L8+a*$8):NaN}function Rie(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Mie=[31,null,31,30,31,30,31,31,30,31,30,31];function Y8(e){return e%400===0||e%4===0&&e%100!==0}function Iie(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Mie[t]||(Y8(e)?29:28))}function Fie(e,t){return t>=1&&t<=(Y8(e)?366:365)}function $ie(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Lie(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Bie(e,t){return t>=0&&t<=59}function Rj(e,t){const r=Ut(e),n=r.getFullYear(),a=r.getDate(),i=wi(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=wie(i);return r.setMonth(t,Math.min(a,o)),r}function r3(e,t){const r=Ut(e);return isNaN(+r)?wi(e,NaN):(r.setFullYear(t),r)}function Mj(e,t){return Xi(e,-t)}const Uie={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qie=(e,t,r)=>{let n;const a=Uie[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},zie={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Hie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Vie={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wie={date:Af({formats:zie,defaultWidth:"full"}),time:Af({formats:Hie,defaultWidth:"full"}),dateTime:Af({formats:Vie,defaultWidth:"full"})},Gie={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Kie=(e,t,r,n)=>{const a=Gie[e];return typeof a=="function"?a(t):a},Xie={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Yie={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Qie={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Zie={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Jie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ese={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},tse=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},rse={ordinalNumber:tse,era:Ys({values:Xie,defaultWidth:"wide"}),quarter:Ys({values:Yie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:Qie,defaultWidth:"wide"}),day:Ys({values:Zie,defaultWidth:"wide"}),dayPeriod:Ys({values:Jie,defaultWidth:"wide",formattingValues:ese,defaultFormattingWidth:"wide"})},nse=/^(\d+)[o]?/i,ase=/\d+/i,ise={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},sse={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},ose={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},lse={any:[/1/i,/2/i,/3/i,/4/i]},cse={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},use={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},dse={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},fse={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},hse={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},mse={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},pse={ordinalNumber:z8({matchPattern:nse,parsePattern:ase,valueCallback:e=>parseInt(e,10)}),era:Qs({matchPatterns:ise,defaultMatchWidth:"wide",parsePatterns:sse,defaultParseWidth:"any"}),quarter:Qs({matchPatterns:ose,defaultMatchWidth:"wide",parsePatterns:lse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qs({matchPatterns:cse,defaultMatchWidth:"wide",parsePatterns:use,defaultParseWidth:"any"}),day:Qs({matchPatterns:dse,defaultMatchWidth:"wide",parsePatterns:fse,defaultParseWidth:"any"}),dayPeriod:Qs({matchPatterns:hse,defaultMatchWidth:"any",parsePatterns:mse,defaultParseWidth:"any"})},ir={code:"pt-BR",formatDistance:qie,formatLong:Wie,formatRelative:Kie,localize:rse,match:pse,options:{weekStartsOn:0,firstWeekContainsDate:1}};var dt=function(){return dt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},dt.apply(this,arguments)};function vse(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Q8(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function qv(e){return e.mode==="multiple"}function zv(e){return e.mode==="range"}function Xb(e){return e.mode==="single"}var gse={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function xse(e,t){return We(e,"LLLL y",t)}function yse(e,t){return We(e,"d",t)}function bse(e,t){return We(e,"LLLL",t)}function wse(e){return"".concat(e)}function _se(e,t){return We(e,"cccccc",t)}function jse(e,t){return We(e,"yyyy",t)}var Sse=Object.freeze({__proto__:null,formatCaption:xse,formatDay:yse,formatMonthCaption:bse,formatWeekNumber:wse,formatWeekdayName:_se,formatYearCaption:jse}),Nse=function(e,t,r){return We(e,"do MMMM (EEEE)",r)},Ese=function(){return"Month: "},Cse=function(){return"Go to next month"},Tse=function(){return"Go to previous month"},Ase=function(e,t){return We(e,"cccc",t)},kse=function(e){return"Week n. ".concat(e)},Pse=function(){return"Year: "},Ose=Object.freeze({__proto__:null,labelDay:Nse,labelMonthDropdown:Ese,labelNext:Cse,labelPrevious:Tse,labelWeekNumber:kse,labelWeekday:Ase,labelYearDropdown:Pse});function Dse(){var e="buttons",t=gse,r=H8,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Sse,labels:Ose,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Rse(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Yr(n):t&&(i=new Date(t,0,1)),a?o=Gs(a):r&&(o=new Date(r,11,31)),{fromDate:i?ad(i):void 0,toDate:o?ad(o):void 0}}var Z8=_.createContext(void 0);function Mse(e){var t,r=e.initialProps,n=Dse(),a=Rse(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Xb(r)||qv(r)||zv(r))&&(c=r.onSelect);var u=dt(dt(dt({},n),r),{captionLayout:l,classNames:dt(dt({},n.classNames),r.classNames),components:dt({},r.components),formatters:dt(dt({},n.formatters),r.formatters),fromDate:i,labels:dt(dt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:dt(dt({},n.modifiers),r.modifiers),modifiersClassNames:dt(dt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:dt(dt({},n.styles),r.styles),toDate:o});return s.jsx(Z8.Provider,{value:u,children:e.children})}function wr(){var e=_.useContext(Z8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function J8(e){var t=wr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Ise(e){return s.jsx("svg",dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eB(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=wr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Ise;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Fse(e){var t,r=wr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(Nie(n,a))for(var h=Yr(n),m=n.getMonth();m<=a.getMonth();m++)f.push(Rj(h,m));else for(var h=Yr(new Date),m=0;m<=11;m++)f.push(Rj(h,m));var v=function(g){var x=Number(g.target.value),y=Rj(Yr(e.displayMonth),x);e.onChange(y)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:eB;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function $se(e){var t,r=e.displayMonth,n=wr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),v=i.getFullYear(),p=m;p<=v;p++)h.push(r3(U8(new Date),p));var g=function(y){var w=r3(Yr(r),Number(y.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:eB;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:d(y,{locale:o})},y.getFullYear())})})}function Lse(e,t){var r=_.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Bse(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&R0(i,a)<0){var u=-1*(c-1);a=Xi(i,u)}return o&&R0(a,o)<0&&(a=o),Yr(a)}function Use(){var e=wr(),t=Bse(e),r=Lse(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Yr(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function qse(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Yr(e),i=Yr(Xi(a,n)),o=R0(i,a),l=[],c=0;c<o;c++){var u=Xi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function zse(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Yr(e);if(!r)return Xi(l,o);var c=R0(r,e);if(!(c<i))return Xi(l,o)}}function Hse(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Yr(e);if(!r)return Xi(l,-o);var c=R0(l,r);if(!(c<=0))return Xi(l,-o)}}var tB=_.createContext(void 0);function Vse(e){var t=wr(),r=Use(),n=r[0],a=r[1],i=qse(n,t),o=zse(n,t),l=Hse(n,t),c=function(f){return i.some(function(h){return KT(f,h)})},u=function(f,h){c(f)||(h&&X8(f,h)?a(Xi(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(tB.Provider,{value:d,children:e.children})}function Hv(){var e=_.useContext(tB);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function n3(e){var t,r=wr(),n=r.classNames,a=r.styles,i=r.components,o=Hv().goToMonth,l=function(d){o(Xi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:J8,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(Fse,{onChange:l,displayMonth:e.displayMonth}),s.jsx($se,{onChange:l,displayMonth:e.displayMonth})]})}function Wse(e){return s.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Gse(e){return s.jsx("svg",dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Wy=_.forwardRef(function(e,t){var r=wr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=dt(dt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",dt({},e,{ref:t,type:"button",className:o,style:l}))});function Kse(e){var t,r,n=wr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Gse,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Wse;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Wy,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Wy,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function a3(e){var t=wr().numberOfMonths,r=Hv(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(v){return KT(e.displayMonth,v)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(Kse,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function Xse(e){var t,r=wr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:J8,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(n3,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(n3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(a3,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(a3,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function Yse(e){var t=wr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Qse(e,t,r){for(var n=r?nd(new Date):fo(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=xa(n,i);a.push(o)}return a}function Zse(){var e=wr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Qse(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Jse(){var e,t=wr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Zse;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function eoe(e){var t=wr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var XT=_.createContext(void 0);function toe(e){if(!qv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(XT.Provider,{value:t,children:e.children})}return s.jsx(roe,{initialProps:e.initialProps,children:e.children})}function roe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var g=n?Q8([],n):[];if(d.selected){var x=g.findIndex(function(y){return ja(u,y)});g.splice(x,1)}else g.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,g,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return ja(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(XT.Provider,{value:c,children:r})}function YT(){var e=_.useContext(XT);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function noe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?ja(a,e)&&ja(n,e)?void 0:ja(a,e)?{from:a,to:void 0}:ja(n,e)?void 0:wN(n,e)?{from:e,to:a}:{from:n,to:e}:a?wN(e,a)?{from:a,to:e}:{from:e,to:a}:n?X8(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var QT=_.createContext(void 0);function aoe(e){if(!zv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(QT.Provider,{value:t,children:e.children})}return s.jsx(ioe,{initialProps:e.initialProps,children:e.children})}function ioe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,v,p){var g,x;(g=t.onDayClick)===null||g===void 0||g.call(t,m,v,p);var y=noe(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,y,m,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],ja(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Wx(i,l-1),before:xa(i,l-1)}),i&&o&&d.disabled.push({after:i,before:xa(i,l-1)}),!i&&o&&d.disabled.push({after:Wx(o,l-1),before:xa(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:xa(i,-c+1)}),d.disabled.push({after:xa(i,c-1)})),i&&o){var f=eo(o,i)+1,h=c-f;d.disabled.push({before:Wx(i,h)}),d.disabled.push({after:xa(o,h)})}!i&&o&&(d.disabled.push({before:xa(o,-c+1)}),d.disabled.push({after:xa(o,c-1)}))}return s.jsx(QT.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function ZT(){var e=_.useContext(QT);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Gx(e){return Array.isArray(e)?Q8([],e):e!==void 0?[e]:[]}function soe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Gx(a)}),t}var Ps;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ps||(Ps={}));var ooe=Ps.Selected,Ao=Ps.Disabled,loe=Ps.Hidden,coe=Ps.Today,Ij=Ps.RangeEnd,Fj=Ps.RangeMiddle,$j=Ps.RangeStart,uoe=Ps.Outside;function doe(e,t,r){var n,a=(n={},n[ooe]=Gx(e.selected),n[Ao]=Gx(e.disabled),n[loe]=Gx(e.hidden),n[coe]=[e.today],n[Ij]=[],n[Fj]=[],n[$j]=[],n[uoe]=[],n);return e.fromDate&&a[Ao].push({before:e.fromDate}),e.toDate&&a[Ao].push({after:e.toDate}),qv(e)?a[Ao]=a[Ao].concat(t.modifiers[Ao]):zv(e)&&(a[Ao]=a[Ao].concat(r.modifiers[Ao]),a[$j]=r.modifiers[$j],a[Fj]=r.modifiers[Fj],a[Ij]=r.modifiers[Ij]),a}var rB=_.createContext(void 0);function foe(e){var t=wr(),r=YT(),n=ZT(),a=doe(t,r,n),i=soe(t.modifiers),o=dt(dt({},a),i);return s.jsx(rB.Provider,{value:o,children:e.children})}function nB(){var e=_.useContext(rB);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function hoe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function moe(e){return!!(e&&typeof e=="object"&&"from"in e)}function poe(e){return!!(e&&typeof e=="object"&&"after"in e)}function voe(e){return!!(e&&typeof e=="object"&&"before"in e)}function goe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function xoe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=eo(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=eo(e,n)>=0&&eo(a,e)>=0;return o}return a?ja(a,e):n?ja(n,e):!1}function yoe(e){return WT(e)}function boe(e){return Array.isArray(e)&&e.every(WT)}function woe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(yoe(r))return ja(e,r);if(boe(r))return r.includes(e);if(moe(r))return xoe(e,r);if(goe(r))return r.dayOfWeek.includes(e.getDay());if(hoe(r)){var n=eo(r.before,e),a=eo(r.after,e),i=n>0,o=a<0,l=wN(r.before,r.after);return l?o&&i:i||o}return poe(r)?eo(e,r.after)>0:voe(r)?eo(r.before,e)>0:typeof r=="function"?r(e):!1})}function JT(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return woe(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!KT(e,r)&&(a.outside=!0),a}function _oe(e,t){for(var r=Yr(e[0]),n=Gs(e[e.length-1]),a,i,o=r;o<=n;){var l=JT(o,t),c=!l.disabled&&!l.hidden;if(!c){o=xa(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=xa(o,1)}return i||a}var joe=365;function aB(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:xa,week:bN,month:Xi,year:wae,startOfWeek:function(g){return a.ISOWeek?nd(g):fo(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?q8(g):GT(g,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=_ae([u,m]):n==="after"&&d&&(m=jae([d,m]));var v=!0;if(i){var p=JT(m,i);v=!p.disabled&&!p.hidden}return v?m:l.count>joe?l.lastFocused:aB(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:dt(dt({},l),{count:l.count+1})})}var iB=_.createContext(void 0);function Soe(e){var t=Hv(),r=nB(),n=_.useState(),a=n[0],i=n[1],o=_.useState(),l=o[0],c=o[1],u=_oe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(g){i(g)},m=wr(),v=function(g,x){if(a){var y=aB(a,{moveBy:g,direction:x,context:m,modifiers:r});ja(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(iB.Provider,{value:p,children:e.children})}function eA(){var e=_.useContext(iB);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Noe(e,t){var r=nB(),n=JT(e,r,t);return n}var tA=_.createContext(void 0);function Eoe(e){if(!Xb(e.initialProps)){var t={selected:void 0};return s.jsx(tA.Provider,{value:t,children:e.children})}return s.jsx(Coe,{initialProps:e.initialProps,children:e.children})}function Coe(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(tA.Provider,{value:a,children:r})}function sB(){var e=_.useContext(tA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Toe(e,t){var r=wr(),n=sB(),a=YT(),i=ZT(),o=eA(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,v=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,x=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(D){var O,W,ne,ee;Xb(r)?(O=n.onDayClick)===null||O===void 0||O.call(n,e,t,D):qv(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,e,t,D):zv(r)?(ne=i.onDayClick)===null||ne===void 0||ne.call(i,e,t,D):(ee=r.onDayClick)===null||ee===void 0||ee.call(r,e,t,D)},b=function(D){var O;h(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,D)},j=function(D){var O;f(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,D)},N=function(D){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,D)},S=function(D){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,D)},E=function(D){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,D)},C=function(D){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,D)},T=function(D){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,D)},A=function(D){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,D)},k=function(D){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,D)},P=function(D){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,D)},L=function(D){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,D)},B=function(D){var O;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),u();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),d();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?p():m();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():v();break;case"Home":D.preventDefault(),D.stopPropagation(),x();break;case"End":D.preventDefault(),D.stopPropagation(),y();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,D)},M={onClick:w,onFocus:b,onBlur:j,onKeyDown:B,onKeyUp:L,onMouseEnter:N,onMouseLeave:S,onPointerEnter:E,onPointerLeave:C,onTouchCancel:T,onTouchEnd:A,onTouchMove:k,onTouchStart:P};return M}function Aoe(){var e=wr(),t=sB(),r=YT(),n=ZT(),a=Xb(e)?t.selected:qv(e)?r.selected:zv(e)?n.selected:void 0;return a}function koe(e){return Object.values(Ps).includes(e)}function Poe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(koe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Ooe(e,t){var r=dt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=dt(dt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Doe(e,t,r){var n,a,i,o=wr(),l=eA(),c=Noe(e,t),u=Toe(e,c),d=Aoe(),f=!!(o.onDayClick||o.mode!=="default");_.useEffect(function(){var N;c.outside||l.focusedDay&&f&&ja(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Poe(o,c).join(" "),m=Ooe(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:eoe,g=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:g,role:"gridcell"},y=l.focusTarget&&ja(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&ja(l.focusedDay,e),b=dt(dt(dt({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),j={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:b,divProps:x};return j}function Roe(e){var t=_.useRef(null),r=Doe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Wy,dt({name:"day",ref:t},r.buttonProps)):s.jsx("div",dt({},r.divProps))}function Moe(e){var t=e.number,r=e.dates,n=wr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Wy,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Ioe(e){var t,r,n=wr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Roe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Moe,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},_ie(f))})]})}function i3(e,t,r){for(var n=r!=null&&r.ISOWeek?q8(t):GT(t,r),a=r!=null&&r.ISOWeek?nd(e):fo(e,r),i=eo(n,a),o=[],l=0;l<=i;l++)o.push(xa(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?V8(d):G8(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Foe(e,t){var r=i3(Yr(e),Gs(e),t);if(t!=null&&t.useFixedWeeks){var n=Sie(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=bN(i,6-n),l=i3(bN(i,1),o,t);r.push.apply(r,l)}}return r}function $oe(e){var t,r,n,a=wr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,v=Foe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Jse,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Ioe,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Yse;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(y){return s.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function Loe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Boe=Loe()?_.useLayoutEffect:_.useEffect,Lj=!1,Uoe=0;function s3(){return"react-day-picker-".concat(++Uoe)}function qoe(e){var t,r=e??(Lj?s3():null),n=_.useState(r),a=n[0],i=n[1];return Boe(function(){a===null&&i(s3())},[]),_.useEffect(function(){Lj===!1&&(Lj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function zoe(e){var t,r,n=wr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Hv().displayMonths,u=qoe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,p=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(i.caption_start),h=dt(dt({},h),o.caption_start)),v&&(f.push(i.caption_end),h=dt(dt({},h),o.caption_end)),p&&(f.push(i.caption_between),h=dt(dt({},h),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Xse;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx($oe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Hoe(e){var t=wr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function Voe(e){var t,r,n=e.initialProps,a=wr(),i=eA(),o=Hv(),l=_.useState(!1),c=l[0],u=l[1];_.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=dt(dt({},a.styles.root),a.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var g;return dt(dt({},v),(g={},g[p]=n[p],g))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Hoe;return s.jsx("div",dt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(v,p){return s.jsx(zoe,{displayIndex:p,displayMonth:v},p)})})}))}function Woe(e){var t=e.children,r=vse(e,["children"]);return s.jsx(Mse,{initialProps:r,children:s.jsx(Vse,{children:s.jsx(Eoe,{initialProps:r,children:s.jsx(toe,{initialProps:r,children:s.jsx(aoe,{initialProps:r,children:s.jsx(foe,{children:s.jsx(Soe,{children:t})})})})})})})}function Goe(e){return s.jsx(Woe,dt({},e,{children:s.jsx(Voe,{initialProps:e})}))}function Hc({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Goe,{showOutsideDays:r,className:xe("p-3 pointer-events-auto",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(y0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(y0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(zb,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(MT,{className:"h-4 w-4"})},locale:ir,...n})}Hc.displayName="Calendar";function nt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Koe(e,t=globalThis==null?void 0:globalThis.document){const r=An(e);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Xoe="DismissableLayer",_N="dismissableLayer.update",Yoe="dismissableLayer.pointerDownOutside",Qoe="dismissableLayer.focusOutside",o3,oB=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vv=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=_.useContext(oB),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),v=kt(t,S=>f(S)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(g),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=y>=x,j=ele(S=>{const E=S.target,C=[...u.branches].some(T=>T.contains(E));!b||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=tle(S=>{const E=S.target;[...u.branches].some(T=>T.contains(E))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return Koe(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(o3=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),l3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=o3)}},[d,h,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),l3())},[d,u]),_.useEffect(()=>{const S=()=>m({});return document.addEventListener(_N,S),()=>document.removeEventListener(_N,S)},[]),s.jsx(lt.div,{...c,ref:v,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:nt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:nt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:nt(e.onPointerDownCapture,j.onPointerDownCapture)})});Vv.displayName=Xoe;var Zoe="DismissableLayerBranch",Joe=_.forwardRef((e,t)=>{const r=_.useContext(oB),n=_.useRef(null),a=kt(t,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(lt.div,{...e,ref:a})});Joe.displayName=Zoe;function ele(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){lB(Yoe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tle(e,t=globalThis==null?void 0:globalThis.document){const r=An(e),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&lB(Qoe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function l3(){const e=new CustomEvent(_N);document.dispatchEvent(e)}function lB(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?nae(a,i):a.dispatchEvent(i)}var Bj=0;function rA(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??c3()),document.body.insertAdjacentElement("beforeend",e[1]??c3()),Bj++,()=>{Bj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Bj--}},[])}function c3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uj="focusScope.autoFocusOnMount",qj="focusScope.autoFocusOnUnmount",u3={bubbles:!1,cancelable:!0},rle="FocusScope",Yb=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=_.useState(null),u=An(a),d=An(i),f=_.useRef(null),h=kt(t,p=>c(p)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Il(f.current,{select:!0})},g=function(w){if(m.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Il(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Il(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,m.paused]),_.useEffect(()=>{if(l){f3.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(Uj,u3);l.addEventListener(Uj,u),l.dispatchEvent(x),x.defaultPrevented||(nle(lle(cB(l)),{select:!0}),document.activeElement===p&&Il(l))}return()=>{l.removeEventListener(Uj,u),setTimeout(()=>{const x=new CustomEvent(qj,u3);l.addEventListener(qj,d),l.dispatchEvent(x),x.defaultPrevented||Il(p??document.body,{select:!0}),l.removeEventListener(qj,d),f3.remove(m)},0)}}},[l,u,d,m]);const v=_.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(g&&x){const y=p.currentTarget,[w,b]=ale(y);w&&b?!p.shiftKey&&x===b?(p.preventDefault(),r&&Il(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&Il(b,{select:!0})):x===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(lt.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Yb.displayName=rle;function nle(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Il(n,{select:t}),document.activeElement!==r)return}function ale(e){const t=cB(e),r=d3(t,e),n=d3(t.reverse(),e);return[r,n]}function cB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function d3(e,t){for(const r of e)if(!ile(r,{upTo:t}))return r}function ile(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sle(e){return e instanceof HTMLInputElement&&"select"in e}function Il(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&sle(e)&&t&&e.select()}}var f3=ole();function ole(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=h3(e,t),e.unshift(t)},remove(t){var r;e=h3(e,t),(r=e[0])==null||r.resume()}}}function h3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lle(e){return e.filter(t=>t.tagName!=="A")}var cle=h$.useId||(()=>{}),ule=0;function io(e){const[t,r]=_.useState(cle());return Rn(()=>{r(n=>n??String(ule++))},[e]),t?`radix-${t}`:""}const dle=["top","right","bottom","left"],Pc=Math.min,ui=Math.max,Gy=Math.round,Zg=Math.floor,Oc=e=>({x:e,y:e}),fle={left:"right",right:"left",bottom:"top",top:"bottom"},hle={start:"end",end:"start"};function jN(e,t,r){return ui(e,Pc(t,r))}function ol(e,t){return typeof e=="function"?e(t):e}function ll(e){return e.split("-")[0]}function hm(e){return e.split("-")[1]}function nA(e){return e==="x"?"y":"x"}function aA(e){return e==="y"?"height":"width"}function Dc(e){return["top","bottom"].includes(ll(e))?"y":"x"}function iA(e){return nA(Dc(e))}function mle(e,t,r){r===void 0&&(r=!1);const n=hm(e),a=iA(e),i=aA(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ky(o)),[o,Ky(o)]}function ple(e){const t=Ky(e);return[SN(e),t,SN(t)]}function SN(e){return e.replace(/start|end/g,t=>hle[t])}function vle(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function gle(e,t,r,n){const a=hm(e);let i=vle(ll(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(SN)))),i}function Ky(e){return e.replace(/left|right|bottom|top/g,t=>fle[t])}function xle(e){return{top:0,right:0,bottom:0,left:0,...e}}function uB(e){return typeof e!="number"?xle(e):{top:e,right:e,bottom:e,left:e}}function Xy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function m3(e,t,r){let{reference:n,floating:a}=e;const i=Dc(t),o=iA(t),l=aA(o),c=ll(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(hm(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const yle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=m3(u,n,c),h=n,m={},v=0;for(let p=0;p<l.length;p++){const{name:g,fn:x}=l[p],{x:y,y:w,data:b,reset:j}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[g]:{...m[g],...b}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=m3(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function M0(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ol(t,e),v=uB(m),g=l[h?f==="floating"?"reference":"floating":f],x=Xy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Xy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-j.top+v.top)/b.y,bottom:(j.bottom-x.bottom+v.bottom)/b.y,left:(x.left-j.left+v.left)/b.x,right:(j.right-x.right+v.right)/b.x}}const ble=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ol(e,t)||{};if(u==null)return{};const f=uB(d),h={x:r,y:n},m=iA(a),v=aA(m),p=await o.getDimensions(u),g=m==="y",x=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[v]+i.reference[m]-h[m]-i.floating[v],j=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[w]||i.floating[v]);const E=b/2-j/2,C=S/2-p[v]/2-1,T=Pc(f[x],C),A=Pc(f[y],C),k=T,P=S-p[v]-A,L=S/2-p[v]/2+E,B=jN(k,L,P),M=!c.arrow&&hm(a)!=null&&L!==B&&i.reference[v]/2-(L<k?T:A)-p[v]/2<0,D=M?L<k?L-k:L-P:0;return{[m]:h[m]+D,data:{[m]:B,centerOffset:L-B-D,...M&&{alignmentOffset:D}},reset:M}}}),wle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=ol(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=ll(a),y=Dc(l),w=ll(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Ky(l)]:ple(l)),N=v!=="none";!h&&N&&j.push(...gle(l,p,v,b));const S=[l,...j],E=await M0(t,g),C=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(E[x]),f){const L=mle(a,o,b);C.push(E[L[0]],E[L[1]])}if(T=[...T,{placement:a,overflows:C}],!C.every(L=>L<=0)){var A,k;const L=(((A=i.flip)==null?void 0:A.index)||0)+1,B=S[L];if(B)return{data:{index:L,overflows:T},reset:{placement:B}};let M=(k=T.filter(D=>D.overflows[0]<=0).sort((D,O)=>D.overflows[1]-O.overflows[1])[0])==null?void 0:k.placement;if(!M)switch(m){case"bestFit":{var P;const D=(P=T.filter(O=>{if(N){const W=Dc(O.placement);return W===y||W==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(W=>W>0).reduce((W,ne)=>W+ne,0)]).sort((O,W)=>O[1]-W[1])[0])==null?void 0:P[0];D&&(M=D);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function p3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v3(e){return dle.some(t=>e[t]>=0)}const _le=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ol(e,t);switch(n){case"referenceHidden":{const i=await M0(t,{...a,elementContext:"reference"}),o=p3(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:v3(o)}}}case"escaped":{const i=await M0(t,{...a,altBoundary:!0}),o=p3(i,r.floating);return{data:{escapedOffsets:o,escaped:v3(o)}}}default:return{}}}}};async function jle(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=ll(r),l=hm(r),c=Dc(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=ol(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Sle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await jle(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Nle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x,y}=g;return{x,y}}},...c}=ol(e,t),u={x:r,y:n},d=await M0(t,c),f=Dc(ll(a)),h=nA(f);let m=u[h],v=u[f];if(i){const g=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[g],w=m-d[x];m=jN(y,m,w)}if(o){const g=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[g],w=v-d[x];v=jN(y,v,w)}const p=l.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},Ele=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ol(e,t),d={x:r,y:n},f=Dc(a),h=nA(f);let m=d[h],v=d[f];const p=ol(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",b=i.reference[h]-i.floating[w]+g.mainAxis,j=i.reference[h]+i.reference[w]-g.mainAxis;m<b?m=b:m>j&&(m=j)}if(u){var x,y;const w=h==="y"?"width":"height",b=["top","left"].includes(ll(a)),j=i.reference[f]-i.floating[w]+(b&&((x=o.offset)==null?void 0:x[f])||0)+(b?0:g.crossAxis),N=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);v<j?v=j:v>N&&(v=N)}return{[h]:m,[f]:v}}}},Cle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=ol(e,t),d=await M0(t,u),f=ll(a),h=hm(a),m=Dc(a)==="y",{width:v,height:p}=i.floating;let g,x;f==="top"||f==="bottom"?(g=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,g=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=v-d.left-d.right,b=Pc(p-d[g],y),j=Pc(v-d[x],w),N=!t.middlewareData.shift;let S=b,E=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),N&&!h){const T=ui(d.left,0),A=ui(d.right,0),k=ui(d.top,0),P=ui(d.bottom,0);m?E=v-2*(T!==0||A!==0?T+A:ui(d.left,d.right)):S=p-2*(k!==0||P!==0?k+P:ui(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:S});const C=await o.getDimensions(l.floating);return v!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Qb(){return typeof window<"u"}function mm(e){return dB(e)?(e.nodeName||"").toLowerCase():"#document"}function gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yo(e){var t;return(t=(dB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dB(e){return Qb()?e instanceof Node||e instanceof gi(e).Node:!1}function Os(e){return Qb()?e instanceof Element||e instanceof gi(e).Element:!1}function ho(e){return Qb()?e instanceof HTMLElement||e instanceof gi(e).HTMLElement:!1}function g3(e){return!Qb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gi(e).ShadowRoot}function Wv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Tle(e){return["table","td","th"].includes(mm(e))}function Zb(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function sA(e){const t=oA(),r=Os(e)?Ds(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ale(e){let t=Rc(e);for(;ho(t)&&!yh(t);){if(sA(t))return t;if(Zb(t))return null;t=Rc(t)}return null}function oA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yh(e){return["html","body","#document"].includes(mm(e))}function Ds(e){return gi(e).getComputedStyle(e)}function Jb(e){return Os(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Rc(e){if(mm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||g3(e)&&e.host||yo(e);return g3(t)?t.host:t}function fB(e){const t=Rc(e);return yh(t)?e.ownerDocument?e.ownerDocument.body:e.body:ho(t)&&Wv(t)?t:fB(t)}function I0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=fB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=gi(a);if(i){const l=NN(o);return t.concat(o,o.visualViewport||[],Wv(a)?a:[],l&&r?I0(l):[])}return t.concat(a,I0(a,[],r))}function NN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hB(e){const t=Ds(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ho(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Gy(r)!==i||Gy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function lA(e){return Os(e)?e:e.contextElement}function kf(e){const t=lA(e);if(!ho(t))return Oc(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=hB(t);let o=(i?Gy(r.width):r.width)/n,l=(i?Gy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const kle=Oc(0);function mB(e){const t=gi(e);return!oA()||!t.visualViewport?kle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ple(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==gi(e)?!1:t}function id(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=lA(e);let o=Oc(1);t&&(n?Os(n)&&(o=kf(n)):o=kf(e));const l=Ple(i,r,n)?mB(i):Oc(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=gi(i),m=n&&Os(n)?gi(n):n;let v=h,p=NN(v);for(;p&&n&&m!==v;){const g=kf(p),x=p.getBoundingClientRect(),y=Ds(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=x.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=w,u+=b,v=gi(p),p=NN(v)}}return Xy({width:d,height:f,x:c,y:u})}function Ole(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=yo(n),l=t?Zb(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Oc(1);const d=Oc(0),f=ho(n);if((f||!f&&!i)&&((mm(n)!=="body"||Wv(o))&&(c=Jb(n)),ho(n))){const h=id(n);u=kf(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function Dle(e){return Array.from(e.getClientRects())}function EN(e,t){const r=Jb(e).scrollLeft;return t?t.left+r:id(yo(e)).left+r}function Rle(e){const t=yo(e),r=Jb(e),n=e.ownerDocument.body,a=ui(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ui(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+EN(e);const l=-r.scrollTop;return Ds(n).direction==="rtl"&&(o+=ui(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Mle(e,t){const r=gi(e),n=yo(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=oA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Ile(e,t){const r=id(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ho(e)?kf(e):Oc(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function x3(e,t,r){let n;if(t==="viewport")n=Mle(e,r);else if(t==="document")n=Rle(yo(e));else if(Os(t))n=Ile(t,r);else{const a=mB(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return Xy(n)}function pB(e,t){const r=Rc(e);return r===t||!Os(r)||yh(r)?!1:Ds(r).position==="fixed"||pB(r,t)}function Fle(e,t){const r=t.get(e);if(r)return r;let n=I0(e,[],!1).filter(l=>Os(l)&&mm(l)!=="body"),a=null;const i=Ds(e).position==="fixed";let o=i?Rc(e):e;for(;Os(o)&&!yh(o);){const l=Ds(o),c=sA(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Wv(o)&&!c&&pB(e,o))?n=n.filter(d=>d!==o):a=l,o=Rc(o)}return t.set(e,n),n}function $le(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Zb(t)?[]:Fle(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=x3(t,d,a);return u.top=ui(f.top,u.top),u.right=Pc(f.right,u.right),u.bottom=Pc(f.bottom,u.bottom),u.left=ui(f.left,u.left),u},x3(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lle(e){const{width:t,height:r}=hB(e);return{width:t,height:r}}function Ble(e,t,r){const n=ho(t),a=yo(t),i=r==="fixed",o=id(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Oc(0);if(n||!n&&!i)if((mm(t)!=="body"||Wv(a))&&(l=Jb(t)),n){const m=id(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=EN(a));let u=0,d=0;if(a&&!n&&!i){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-EN(a,m)}const f=o.left+l.scrollLeft-c.x-u,h=o.top+l.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function zj(e){return Ds(e).position==="static"}function y3(e,t){if(!ho(e)||Ds(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return yo(e)===r&&(r=r.ownerDocument.body),r}function vB(e,t){const r=gi(e);if(Zb(e))return r;if(!ho(e)){let a=Rc(e);for(;a&&!yh(a);){if(Os(a)&&!zj(a))return a;a=Rc(a)}return r}let n=y3(e,t);for(;n&&Tle(n)&&zj(n);)n=y3(n,t);return n&&yh(n)&&zj(n)&&!sA(n)?r:n||Ale(e)||r}const Ule=async function(e){const t=this.getOffsetParent||vB,r=this.getDimensions,n=await r(e.floating);return{reference:Ble(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qle(e){return Ds(e).direction==="rtl"}const zle={convertOffsetParentRelativeRectToViewportRelativeRect:Ole,getDocumentElement:yo,getClippingRect:$le,getOffsetParent:vB,getElementRects:Ule,getClientRects:Dle,getDimensions:Lle,getScale:kf,isElement:Os,isRTL:qle};function Hle(e,t){let r=null,n;const a=yo(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Zg(d),v=Zg(a.clientWidth-(u+f)),p=Zg(a.clientHeight-(d+h)),g=Zg(u),y={rootMargin:-m+"px "+-v+"px "+-p+"px "+-g+"px",threshold:ui(0,Pc(1,c))||1};let w=!0;function b(j){const N=j[0].intersectionRatio;if(N!==c){if(!w)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function Vle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=lA(e),d=a||i?[...u?I0(u):[],...I0(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?Hle(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?id(e):null;c&&g();function g(){const x=id(e);p&&(x.x!==p.x||x.y!==p.y||x.width!==p.width||x.height!==p.height)&&r(),p=x,v=requestAnimationFrame(g)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const Wle=Sle,Gle=Nle,Kle=wle,Xle=Cle,Yle=_le,b3=ble,Qle=Ele,Zle=(e,t,r)=>{const n=new Map,a={platform:zle,...r},i={...a.platform,_c:n};return yle(e,t,{...a,platform:i})};var Kx=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Yy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Yy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Yy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function gB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function w3(e,t){const r=gB(e);return Math.round(t*r)/r}function Hj(e){const t=_.useRef(e);return Kx(()=>{t.current=e}),t}function Jle(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=_.useState(n);Yy(h,n)||m(n);const[v,p]=_.useState(null),[g,x]=_.useState(null),y=_.useCallback(O=>{O!==N.current&&(N.current=O,p(O))},[]),w=_.useCallback(O=>{O!==S.current&&(S.current=O,x(O))},[]),b=i||v,j=o||g,N=_.useRef(null),S=_.useRef(null),E=_.useRef(d),C=c!=null,T=Hj(c),A=Hj(a),k=Hj(u),P=_.useCallback(()=>{if(!N.current||!S.current)return;const O={placement:t,strategy:r,middleware:h};A.current&&(O.platform=A.current),Zle(N.current,S.current,O).then(W=>{const ne={...W,isPositioned:k.current!==!1};L.current&&!Yy(E.current,ne)&&(E.current=ne,em.flushSync(()=>{f(ne)}))})},[h,t,r,A,k]);Kx(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const L=_.useRef(!1);Kx(()=>(L.current=!0,()=>{L.current=!1}),[]),Kx(()=>{if(b&&(N.current=b),j&&(S.current=j),b&&j){if(T.current)return T.current(b,j,P);P()}},[b,j,P,T,C]);const B=_.useMemo(()=>({reference:N,floating:S,setReference:y,setFloating:w}),[y,w]),M=_.useMemo(()=>({reference:b,floating:j}),[b,j]),D=_.useMemo(()=>{const O={position:r,left:0,top:0};if(!M.floating)return O;const W=w3(M.floating,d.x),ne=w3(M.floating,d.y);return l?{...O,transform:"translate("+W+"px, "+ne+"px)",...gB(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:ne}},[r,l,M.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:P,refs:B,elements:M,floatingStyles:D}),[d,P,B,M,D])}const ece=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?b3({element:n.current,padding:a}).fn(r):{}:n?b3({element:n,padding:a}).fn(r):{}}}},tce=(e,t)=>({...Wle(e),options:[e,t]}),rce=(e,t)=>({...Gle(e),options:[e,t]}),nce=(e,t)=>({...Qle(e),options:[e,t]}),ace=(e,t)=>({...Kle(e),options:[e,t]}),ice=(e,t)=>({...Xle(e),options:[e,t]}),sce=(e,t)=>({...Yle(e),options:[e,t]}),oce=(e,t)=>({...ece(e),options:[e,t]});var lce="Arrow",xB=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(lt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});xB.displayName=lce;var cce=xB;function uce(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=_.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=_.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,dce(a,...t)]}function dce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function ew(e){const[t,r]=_.useState(void 0);return Rn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var cA="Popper",[yB,pm]=uce(cA),[fce,bB]=yB(cA),wB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=_.useState(null);return s.jsx(fce,{scope:t,anchor:n,onAnchorChange:a,children:r})};wB.displayName=cA;var _B="PopperAnchor",jB=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=bB(_B,r),o=_.useRef(null),l=kt(t,o);return _.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(lt.div,{...a,ref:l})});jB.displayName=_B;var uA="PopperContent",[hce,mce]=yB(uA),SB=_.forwardRef((e,t)=>{var he,we,se,G,ye,ae;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=bB(uA,r),[x,y]=_.useState(null),w=kt(t,et=>y(et)),[b,j]=_.useState(null),N=ew(b),S=(N==null?void 0:N.width)??0,E=(N==null?void 0:N.height)??0,C=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],k=A.length>0,P={padding:T,boundary:A.filter(vce),altBoundary:k},{refs:L,floatingStyles:B,placement:M,isPositioned:D,middlewareData:O}=Jle({strategy:"fixed",placement:C,whileElementsMounted:(...et)=>Vle(...et,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[tce({mainAxis:a+E,alignmentAxis:o}),c&&rce({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nce():void 0,...P}),c&&ace({...P}),ice({...P,apply:({elements:et,rects:Le,availableWidth:yt,availableHeight:rt})=>{const{width:Te,height:K}=Le.reference,te=et.floating.style;te.setProperty("--radix-popper-available-width",`${yt}px`),te.setProperty("--radix-popper-available-height",`${rt}px`),te.setProperty("--radix-popper-anchor-width",`${Te}px`),te.setProperty("--radix-popper-anchor-height",`${K}px`)}}),b&&oce({element:b,padding:l}),gce({arrowWidth:S,arrowHeight:E}),h&&sce({strategy:"referenceHidden",...P})]}),[W,ne]=CB(M),ee=An(v);Rn(()=>{D&&(ee==null||ee())},[D,ee]);const I=(he=O.arrow)==null?void 0:he.x,X=(we=O.arrow)==null?void 0:we.y,Y=((se=O.arrow)==null?void 0:se.centerOffset)!==0,[Q,ie]=_.useState();return Rn(()=>{x&&ie(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:D?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(G=O.transformOrigin)==null?void 0:G.x,(ye=O.transformOrigin)==null?void 0:ye.y].join(" "),...((ae=O.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(hce,{scope:r,placedSide:W,onArrowChange:j,arrowX:I,arrowY:X,shouldHideArrow:Y,children:s.jsx(lt.div,{"data-side":W,"data-align":ne,...p,ref:w,style:{...p.style,animation:D?void 0:"none"}})})})});SB.displayName=uA;var NB="PopperArrow",pce={top:"bottom",right:"left",bottom:"top",left:"right"},EB=_.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=mce(NB,n),o=pce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(cce,{...a,ref:r,style:{...a.style,display:"block"}})})});EB.displayName=NB;function vce(e){return e!==null}var gce=e=>({name:"transformOrigin",options:e,fn(t){var g,x,y;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=CB(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=o?f:`${h}px`,p=`${-c}px`):u==="top"?(v=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:v,y:p}}}});function CB(e){const[t,r="center"]=e.split("-");return[t,r]}var dA=wB,tw=jB,fA=SB,hA=EB,xce="Portal",rw=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=_.useState(!1);Rn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?v5.createPortal(s.jsx(lt.div,{...n,ref:t}),o):null});rw.displayName=xce;function yce(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var ei=e=>{const{present:t,children:r}=e,n=bce(t),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=kt(n.ref,wce(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};ei.displayName="Presence";function bce(e){const[t,r]=_.useState(),n=_.useRef({}),a=_.useRef(e),i=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Jg(n.current);i.current=l==="mounted"?u:"none"},[l]),Rn(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=Jg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Rn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Jg(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Jg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Jg(e){return(e==null?void 0:e.animationName)||"none"}function wce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=_ce({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=An(r),c=_.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function _ce({defaultProp:e,onChange:t}){const r=_.useState(e),[n]=r,a=_.useRef(n),i=An(t);return _.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var jce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Id=new WeakMap,ex=new WeakMap,tx={},Vj=0,TB=function(e){return e&&(e.host||TB(e.parentNode))},Sce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=TB(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Nce=function(e,t,r,n){var a=Sce(t,Array.isArray(e)?e:[e]);tx[r]||(tx[r]=new WeakMap);var i=tx[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(Id.get(h)||0)+1,g=(i.get(h)||0)+1;Id.set(h,p),i.set(h,g),o.push(h),p===1&&v&&ex.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Vj++,function(){o.forEach(function(f){var h=Id.get(f)-1,m=i.get(f)-1;Id.set(f,h),i.set(f,m),h||(ex.has(f)||f.removeAttribute(n),ex.delete(f)),m||f.removeAttribute(r)}),Vj--,Vj||(Id=new WeakMap,Id=new WeakMap,ex=new WeakMap,tx={})}},mA=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=jce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Nce(n,a,r,"aria-hidden")):function(){return null}},Zs=function(){return Zs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zs.apply(this,arguments)};function AB(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Ece(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Xx="right-scroll-bar-position",Yx="width-before-scroll-bar",Cce="with-scroll-bars-hidden",Tce="--removed-body-scroll-bar-size";function Wj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ace(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var kce=typeof window<"u"?_.useLayoutEffect:_.useEffect,_3=new WeakMap;function Pce(e,t){var r=Ace(null,function(n){return e.forEach(function(a){return Wj(a,n)})});return kce(function(){var n=_3.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Wj(l,null)}),i.forEach(function(l){a.has(l)||Wj(l,o)})}_3.set(r,e)},[e]),r}function Oce(e){return e}function Dce(e,t){t===void 0&&(t=Oce);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Rce(e){e===void 0&&(e={});var t=Dce(null);return t.options=Zs({async:!0,ssr:!1},e),t}var kB=function(e){var t=e.sideCar,r=AB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Zs({},r))};kB.isSideCarExport=!0;function Mce(e,t){return e.useMedium(t),kB}var PB=Rce(),Gj=function(){},nw=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:Gj,onWheelCapture:Gj,onTouchMoveCapture:Gj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,y=e.gapMode,w=AB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,j=Pce([r,t]),N=Zs(Zs({},w),a);return _.createElement(_.Fragment,null,d&&_.createElement(b,{sideCar:PB,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?_.cloneElement(_.Children.only(l),Zs(Zs({},N),{ref:j})):_.createElement(x,Zs({},N,{className:c,ref:j}),l))});nw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nw.classNames={fullWidth:Yx,zeroRight:Xx};var Ice=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ice();return t&&e.setAttribute("nonce",t),e}function $ce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Lce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Bce=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Fce())&&($ce(t,r),Lce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Uce=function(){var e=Bce();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},OB=function(){var e=Uce(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},qce={left:0,top:0,right:0,gap:0},Kj=function(e){return parseInt(e||"",10)||0},zce=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Kj(r),Kj(n),Kj(a)]},Hce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qce;var t=zce(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Vce=OB(),Pf="data-scroll-locked",Wce=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Cce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Pf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xx," .").concat(Xx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Yx," .").concat(Yx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Pf,`] {
    `).concat(Tce,": ").concat(l,`px;
  }
`)},j3=function(){var e=parseInt(document.body.getAttribute(Pf)||"0",10);return isFinite(e)?e:0},Gce=function(){_.useEffect(function(){return document.body.setAttribute(Pf,(j3()+1).toString()),function(){var e=j3()-1;e<=0?document.body.removeAttribute(Pf):document.body.setAttribute(Pf,e.toString())}},[])},Kce=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Gce();var i=_.useMemo(function(){return Hce(a)},[a]);return _.createElement(Vce,{styles:Wce(i,!t,a,r?"":"!important")})},CN=!1;if(typeof window<"u")try{var rx=Object.defineProperty({},"passive",{get:function(){return CN=!0,!0}});window.addEventListener("test",rx,rx),window.removeEventListener("test",rx,rx)}catch{CN=!1}var Fd=CN?{passive:!1}:!1,Xce=function(e){return e.tagName==="TEXTAREA"},DB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Xce(e)&&r[t]==="visible")},Yce=function(e){return DB(e,"overflowY")},Qce=function(e){return DB(e,"overflowX")},S3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=RB(e,n);if(a){var i=MB(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zce=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Jce=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RB=function(e,t){return e==="v"?Yce(t):Qce(t)},MB=function(e,t){return e==="v"?Zce(t):Jce(t)},eue=function(e,t){return e==="h"&&t==="rtl"?-1:1},tue=function(e,t,r,n,a){var i=eue(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var m=MB(e,l),v=m[0],p=m[1],g=m[2],x=p-g-i*v;(v||x)&&RB(e,l)&&(f+=x,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},nx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},N3=function(e){return[e.deltaX,e.deltaY]},E3=function(e){return e&&"current"in e?e.current:e},rue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aue=0,$d=[];function iue(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(aue++)[0],i=_.useState(OB)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Ece([e.lockRef.current],(e.shards||[]).map(E3),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=nx(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-x[0],b="deltaY"in p?p.deltaY:y[1]-x[1],j,N=p.target,S=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&S==="h"&&N.type==="range")return!1;var E=S3(S,N);if(!E)return!0;if(E?j=S:(j=S==="v"?"h":"v",E=S3(S,N)),!E)return!1;if(!n.current&&"changedTouches"in p&&(w||b)&&(n.current=j),!j)return!0;var C=n.current||j;return tue(C,g,p,C==="h"?w:b,!0)},[]),c=_.useCallback(function(p){var g=p;if(!(!$d.length||$d[$d.length-1]!==i)){var x="deltaY"in g?N3(g):nx(g),y=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&rue(j.delta,x)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(E3).filter(Boolean).filter(function(j){return j.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),u=_.useCallback(function(p,g,x,y){var w={name:p,delta:g,target:x,should:y,shadowParent:sue(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=_.useCallback(function(p){r.current=nx(p),n.current=void 0},[]),f=_.useCallback(function(p){u(p.type,N3(p),p.target,l(p,e.lockRef.current))},[]),h=_.useCallback(function(p){u(p.type,nx(p),p.target,l(p,e.lockRef.current))},[]);_.useEffect(function(){return $d.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fd),document.addEventListener("touchmove",c,Fd),document.addEventListener("touchstart",d,Fd),function(){$d=$d.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Fd),document.removeEventListener("touchmove",c,Fd),document.removeEventListener("touchstart",d,Fd)}},[]);var m=e.removeScrollBar,v=e.inert;return _.createElement(_.Fragment,null,v?_.createElement(i,{styles:nue(a)}):null,m?_.createElement(Kce,{gapMode:e.gapMode}):null)}function sue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const oue=Mce(PB,iue);var aw=_.forwardRef(function(e,t){return _.createElement(nw,Zs({},e,{ref:t,sideCar:oue}))});aw.classNames=nw.classNames;var pA="Popover",[IB,Hze]=Zi(pA,[pm]),Gv=pm(),[lue,Vc]=IB(pA),FB=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Gv(t),c=_.useRef(null),[u,d]=_.useState(!1),[f=!1,h]=mo({prop:n,defaultProp:a,onChange:i});return s.jsx(dA,{...l,children:s.jsx(lue,{scope:t,contentId:io(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:_.useCallback(()=>d(!0),[]),onCustomAnchorRemove:_.useCallback(()=>d(!1),[]),modal:o,children:r})})};FB.displayName=pA;var $B="PopoverAnchor",cue=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vc($B,r),i=Gv(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return _.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(tw,{...i,...n,ref:t})});cue.displayName=$B;var LB="PopoverTrigger",BB=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vc(LB,r),i=Gv(r),o=kt(t,a.triggerRef),l=s.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":VB(a.open),...n,ref:o,onClick:nt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(tw,{asChild:!0,...i,children:l})});BB.displayName=LB;var vA="PopoverPortal",[uue,due]=IB(vA,{forceMount:void 0}),UB=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Vc(vA,t);return s.jsx(uue,{scope:t,forceMount:r,children:s.jsx(ei,{present:r||i.open,children:s.jsx(rw,{asChild:!0,container:a,children:n})})})};UB.displayName=vA;var bh="PopoverContent",qB=_.forwardRef((e,t)=>{const r=due(bh,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Vc(bh,e.__scopePopover);return s.jsx(ei,{present:n||i.open,children:i.modal?s.jsx(fue,{...a,ref:t}):s.jsx(hue,{...a,ref:t})})});qB.displayName=bh;var fue=_.forwardRef((e,t)=>{const r=Vc(bh,e.__scopePopover),n=_.useRef(null),a=kt(t,n),i=_.useRef(!1);return _.useEffect(()=>{const o=n.current;if(o)return mA(o)},[]),s.jsx(aw,{as:Ya,allowPinchZoom:!0,children:s.jsx(zB,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:nt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hue=_.forwardRef((e,t)=>{const r=Vc(bh,e.__scopePopover),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(zB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zB=_.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Vc(bh,r),m=Gv(r);return rA(),s.jsx(Yb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(fA,{"data-state":VB(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),HB="PopoverClose",mue=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vc(HB,r);return s.jsx(lt.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,()=>a.onOpenChange(!1))})});mue.displayName=HB;var pue="PopoverArrow",vue=_.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Gv(r);return s.jsx(hA,{...a,...n,ref:t})});vue.displayName=pue;function VB(e){return e?"open":"closed"}var gue=FB,xue=BB,yue=UB,WB=qB;const gA=gue,xA=xue,iw=_.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(yue,{children:s.jsx(WB,{ref:a,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));iw.displayName=WB.displayName;function TN(e,[t,r]){return Math.min(r,Math.max(t,e))}function bue(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=_.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=_.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,wue(a,...t)]}function wue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function GB(e){const t=e+"CollectionProvider",[r,n]=bue(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:v,children:p}=m,g=F.useRef(null),x=F.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:x,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=F.forwardRef((m,v)=>{const{scope:p,children:g}=m,x=i(l,p),y=kt(v,x.collectionRef);return s.jsx(Ya,{ref:y,children:g})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=F.forwardRef((m,v)=>{const{scope:p,children:g,...x}=m,y=F.useRef(null),w=kt(v,y),b=i(u,p);return F.useEffect(()=>(b.itemMap.set(y,{ref:y,...x}),()=>void b.itemMap.delete(y))),s.jsx(Ya,{[d]:"",ref:w,children:g})});f.displayName=u;function h(m){const v=i(e+"CollectionConsumer",m);return F.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((b,j)=>x.indexOf(b.ref.current)-x.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}var _ue=_.createContext(void 0);function Kv(e){const t=_.useContext(_ue);return e||t||"ltr"}function sw(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jue="VisuallyHidden",ow=_.forwardRef((e,t)=>s.jsx(lt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ow.displayName=jue;var Sue=ow,Nue=[" ","Enter","ArrowUp","ArrowDown"],Eue=[" ","Enter"],Xv="Select",[lw,cw,Cue]=GB(Xv),[vm,Vze]=Zi(Xv,[Cue,pm]),uw=pm(),[Tue,Wc]=vm(Xv),[Aue,kue]=vm(Xv),KB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=uw(t),[g,x]=_.useState(null),[y,w]=_.useState(null),[b,j]=_.useState(!1),N=Kv(u),[S=!1,E]=mo({prop:n,defaultProp:a,onChange:i}),[C,T]=mo({prop:o,defaultProp:l,onChange:c}),A=_.useRef(null),k=g?v||!!g.closest("form"):!0,[P,L]=_.useState(new Set),B=Array.from(P).map(M=>M.props.value).join(";");return s.jsx(dA,{...p,children:s.jsxs(Tue,{required:m,scope:t,trigger:g,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:j,contentId:io(),value:C,onValueChange:T,open:S,onOpenChange:E,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(lw.Provider,{scope:t,children:s.jsx(Aue,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(M=>{L(D=>new Set(D).add(M))},[]),onNativeOptionRemove:_.useCallback(M=>{L(D=>{const O=new Set(D);return O.delete(M),O})},[]),children:r})}),k?s.jsxs(y9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:M=>T(M.target.value),disabled:h,form:v,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(P)]},B):null]})})};KB.displayName=Xv;var XB="SelectTrigger",YB=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=uw(r),o=Wc(XB,r),l=o.disabled||n,c=kt(t,o.onTriggerChange),u=cw(r),d=_.useRef("touch"),[f,h,m]=b9(p=>{const g=u().filter(w=>!w.disabled),x=g.find(w=>w.value===o.value),y=w9(g,p,x);y!==void 0&&o.onValueChange(y.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(tw,{asChild:!0,...i,children:s.jsx(lt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":x9(o.value)?"":void 0,...a,ref:c,onClick:nt(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:nt(a.onPointerDown,p=>{d.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:nt(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&Nue.includes(p.key)&&(v(),p.preventDefault())})})})});YB.displayName=XB;var QB="SelectValue",ZB=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Wc(QB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=kt(t,c.onValueNodeChange);return Rn(()=>{u(d)},[u,d]),s.jsx(lt.span,{...l,ref:f,style:{pointerEvents:"none"},children:x9(c.value)?s.jsx(s.Fragment,{children:o}):i})});ZB.displayName=QB;var Pue="SelectIcon",JB=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(lt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});JB.displayName=Pue;var Oue="SelectPortal",e9=e=>s.jsx(rw,{asChild:!0,...e});e9.displayName=Oue;var sd="SelectContent",t9=_.forwardRef((e,t)=>{const r=Wc(sd,e.__scopeSelect),[n,a]=_.useState();if(Rn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?em.createPortal(s.jsx(r9,{scope:e.__scopeSelect,children:s.jsx(lw.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(n9,{...e,ref:t})});t9.displayName=sd;var os=10,[r9,Gc]=vm(sd),Due="SelectContentImpl",n9=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g,...x}=e,y=Wc(sd,r),[w,b]=_.useState(null),[j,N]=_.useState(null),S=kt(t,he=>b(he)),[E,C]=_.useState(null),[T,A]=_.useState(null),k=cw(r),[P,L]=_.useState(!1),B=_.useRef(!1);_.useEffect(()=>{if(w)return mA(w)},[w]),rA();const M=_.useCallback(he=>{const[we,...se]=k().map(ae=>ae.ref.current),[G]=se.slice(-1),ye=document.activeElement;for(const ae of he)if(ae===ye||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===we&&j&&(j.scrollTop=0),ae===G&&j&&(j.scrollTop=j.scrollHeight),ae==null||ae.focus(),document.activeElement!==ye))return},[k,j]),D=_.useCallback(()=>M([E,w]),[M,E,w]);_.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:O,triggerPointerDownPosRef:W}=y;_.useEffect(()=>{if(w){let he={x:0,y:0};const we=G=>{var ye,ae;he={x:Math.abs(Math.round(G.pageX)-(((ye=W.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(G.pageY)-(((ae=W.current)==null?void 0:ae.y)??0))}},se=G=>{he.x<=10&&he.y<=10?G.preventDefault():w.contains(G.target)||O(!1),document.removeEventListener("pointermove",we),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,O,W]),_.useEffect(()=>{const he=()=>O(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[O]);const[ne,ee]=b9(he=>{const we=k().filter(ye=>!ye.disabled),se=we.find(ye=>ye.ref.current===document.activeElement),G=w9(we,he,se);G&&setTimeout(()=>G.ref.current.focus())}),I=_.useCallback((he,we,se)=>{const G=!B.current&&!se;(y.value!==void 0&&y.value===we||G)&&(C(he),G&&(B.current=!0))},[y.value]),X=_.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=_.useCallback((he,we,se)=>{const G=!B.current&&!se;(y.value!==void 0&&y.value===we||G)&&A(he)},[y.value]),Q=n==="popper"?AN:a9,ie=Q===AN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return s.jsx(r9,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:I,selectedItem:E,onItemLeave:X,itemTextRefCallback:Y,focusSelectedItem:D,selectedItemText:T,position:n,isPositioned:P,searchRef:ne,children:s.jsx(aw,{as:Ya,allowPinchZoom:!0,children:s.jsx(Yb,{asChild:!0,trapped:y.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:nt(a,he=>{var we;(we=y.trigger)==null||we.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(Vv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:he=>he.preventDefault(),...x,...ie,onPlaced:()=>L(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:nt(x.onKeyDown,he=>{const we=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!we&&he.key.length===1&&ee(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let G=k().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(he.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ye=he.target,ae=G.indexOf(ye);G=G.slice(ae+1)}setTimeout(()=>M(G)),he.preventDefault()}})})})})})})});n9.displayName=Due;var Rue="SelectItemAlignedPosition",a9=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Wc(sd,r),o=Gc(sd,r),[l,c]=_.useState(null),[u,d]=_.useState(null),f=kt(t,S=>d(S)),h=cw(r),m=_.useRef(!1),v=_.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:x,focusSelectedItem:y}=o,w=_.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&g&&x){const S=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const ye=T.left-E.left,ae=C.left-ye,et=S.left-ae,Le=S.width+et,yt=Math.max(Le,E.width),rt=window.innerWidth-os,Te=TN(ae,[os,Math.max(os,rt-yt)]);l.style.minWidth=Le+"px",l.style.left=Te+"px"}else{const ye=E.right-T.right,ae=window.innerWidth-C.right-ye,et=window.innerWidth-S.right-ae,Le=S.width+et,yt=Math.max(Le,E.width),rt=window.innerWidth-os,Te=TN(ae,[os,Math.max(os,rt-yt)]);l.style.minWidth=Le+"px",l.style.right=Te+"px"}const A=h(),k=window.innerHeight-os*2,P=p.scrollHeight,L=window.getComputedStyle(u),B=parseInt(L.borderTopWidth,10),M=parseInt(L.paddingTop,10),D=parseInt(L.borderBottomWidth,10),O=parseInt(L.paddingBottom,10),W=B+M+P+O+D,ne=Math.min(g.offsetHeight*5,W),ee=window.getComputedStyle(p),I=parseInt(ee.paddingTop,10),X=parseInt(ee.paddingBottom,10),Y=S.top+S.height/2-os,Q=k-Y,ie=g.offsetHeight/2,he=g.offsetTop+ie,we=B+M+he,se=W-we;if(we<=Y){const ye=A.length>0&&g===A[A.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-p.offsetTop-p.offsetHeight,et=Math.max(Q,ie+(ye?X:0)+ae+D),Le=we+et;l.style.height=Le+"px"}else{const ye=A.length>0&&g===A[0].ref.current;l.style.top="0px";const et=Math.max(Y,B+p.offsetTop+(ye?I:0)+ie)+se;l.style.height=et+"px",p.scrollTop=we-Y+p.offsetTop}l.style.margin=`${os}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,g,x,i.dir,n]);Rn(()=>w(),[w]);const[b,j]=_.useState();Rn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=_.useCallback(S=>{S&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return s.jsx(Iue,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(lt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});a9.displayName=Rue;var Mue="SelectPopperPosition",AN=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=os,...i}=e,o=uw(r);return s.jsx(fA,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});AN.displayName=Mue;var[Iue,yA]=vm(sd,{}),kN="SelectViewport",i9=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Gc(kN,r),o=yA(kN,r),l=kt(t,i.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(lw.Slot,{scope:r,children:s.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:nt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-os*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),x=Math.max(p,g);if(x<v){const y=x+m,w=Math.min(v,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});i9.displayName=kN;var s9="SelectGroup",[Fue,$ue]=vm(s9),Lue=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=io();return s.jsx(Fue,{scope:r,id:a,children:s.jsx(lt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Lue.displayName=s9;var o9="SelectLabel",l9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=$ue(o9,r);return s.jsx(lt.div,{id:a.id,...n,ref:t})});l9.displayName=o9;var Qy="SelectItem",[Bue,c9]=vm(Qy),u9=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Wc(Qy,r),c=Gc(Qy,r),u=l.value===n,[d,f]=_.useState(i??""),[h,m]=_.useState(!1),v=kt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=io(),g=_.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Bue,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:_.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(lw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(lt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:nt(o.onFocus,()=>m(!0)),onBlur:nt(o.onBlur,()=>m(!1)),onClick:nt(o.onClick,()=>{g.current!=="mouse"&&x()}),onPointerUp:nt(o.onPointerUp,()=>{g.current==="mouse"&&x()}),onPointerDown:nt(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:nt(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:nt(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:nt(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(Eue.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});u9.displayName=Qy;var bp="SelectItemText",d9=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Wc(bp,r),l=Gc(bp,r),c=c9(bp,r),u=kue(bp,r),[d,f]=_.useState(null),h=kt(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return Rn(()=>(p(v),()=>g(v)),[p,g,v]),s.jsxs(s.Fragment,{children:[s.jsx(lt.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?em.createPortal(i.children,o.valueNode):null]})});d9.displayName=bp;var f9="SelectItemIndicator",h9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return c9(f9,r).isSelected?s.jsx(lt.span,{"aria-hidden":!0,...n,ref:t}):null});h9.displayName=f9;var PN="SelectScrollUpButton",m9=_.forwardRef((e,t)=>{const r=Gc(PN,e.__scopeSelect),n=yA(PN,e.__scopeSelect),[a,i]=_.useState(!1),o=kt(t,n.onScrollButtonChange);return Rn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(v9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});m9.displayName=PN;var ON="SelectScrollDownButton",p9=_.forwardRef((e,t)=>{const r=Gc(ON,e.__scopeSelect),n=yA(ON,e.__scopeSelect),[a,i]=_.useState(!1),o=kt(t,n.onScrollButtonChange);return Rn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(v9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});p9.displayName=ON;var v9=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Gc("SelectScrollButton",r),o=_.useRef(null),l=cw(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Rn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(lt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:nt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:nt(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:nt(a.onPointerLeave,()=>{c()})})}),Uue="SelectSeparator",g9=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(lt.div,{"aria-hidden":!0,...n,ref:t})});g9.displayName=Uue;var DN="SelectArrow",que=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=uw(r),i=Wc(DN,r),o=Gc(DN,r);return i.open&&o.position==="popper"?s.jsx(hA,{...a,...n,ref:t}):null});que.displayName=DN;function x9(e){return e===""||e===void 0}var y9=_.forwardRef((e,t)=>{const{value:r,...n}=e,a=_.useRef(null),i=kt(t,a),o=sw(r);return _.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(ow,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});y9.displayName="BubbleSelect";function b9(e){const t=An(e),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function w9(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=zue(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function zue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Hue=KB,_9=YB,Vue=ZB,Wue=JB,Gue=e9,j9=t9,Kue=i9,S9=l9,N9=u9,Xue=d9,Yue=h9,E9=m9,C9=p9,T9=g9;const zt=Hue,Ht=Vue,$t=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(_9,{ref:n,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Wue,{asChild:!0,children:s.jsx(AL,{className:"h-4 w-4 opacity-50"})})]}));$t.displayName=_9.displayName;const A9=_.forwardRef(({className:e,...t},r)=>s.jsx(E9,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ere,{className:"h-4 w-4"})}));A9.displayName=E9.displayName;const k9=_.forwardRef(({className:e,...t},r)=>s.jsx(C9,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(AL,{className:"h-4 w-4"})}));k9.displayName=C9.displayName;const Lt=_.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Gue,{children:s.jsxs(j9,{ref:a,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(A9,{}),s.jsx(Kue,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(k9,{})]})}));Lt.displayName=j9.displayName;const Que=_.forwardRef(({className:e,...t},r)=>s.jsx(S9,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Que.displayName=S9.displayName;const Xe=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(N9,{ref:n,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Yue,{children:s.jsx(fh,{className:"h-4 w-4"})})}),s.jsx(Xue,{children:t})]}));Xe.displayName=N9.displayName;const Zue=_.forwardRef(({className:e,...t},r)=>s.jsx(T9,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));Zue.displayName=T9.displayName;const P9=({selectedCity:e,onCityChange:t,placeholder:r="Todas as cidades"})=>{const{data:n=[]}=it({queryKey:["branch-cities"],queryFn:async()=>{console.log("Buscando cidades das filiais...");const{data:a,error:i}=await Z.from("branches").select("city").order("city");if(i)throw console.error("Erro ao buscar cidades das filiais:",i),i;return console.log("Cidades das filiais encontradas:",a),[...new Set(a.map(l=>l.city))].filter(Boolean)}});return s.jsxs(zt,{value:e,onValueChange:t,children:[s.jsx($t,{className:"w-[200px] h-11 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",children:s.jsx(Ht,{placeholder:r})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as cidades"}),n.map(a=>s.jsx(Xe,{value:a,children:a},a))]})]})},C3=["07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"],O9=({searchTerm:e="",onSearchChange:t,filters:r={},onFiltersChange:n,onFilter:a,onClear:i,showDateTimeFilters:o=!1,showLocationFilter:l=!1,showPriceFilter:c=!1,showCategoryFilter:u=!1,categories:d=[],placeholder:f="Buscar...",className:h})=>{const m=!!(r.date||r.startTime||r.endTime||r.city||r.category||r.priceRange),v=[r.date,r.startTime,r.endTime,r.city,r.category,r.priceRange].filter(Boolean).length,p=(x,y)=>{n&&n({...r,[x]:y})},g=()=>{n&&n({}),i&&i()};return s.jsx(de,{className:xe("mb-8 card-3d bg-white/90 backdrop-blur-sm border-primary/20 shadow-3d hover:shadow-3d-hover transition-all duration-300",h),children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:f,value:e,onChange:x=>t==null?void 0:t(x.target.value),className:"pl-10 h-11 text-base bg-white/80 backdrop-blur-sm border-secondary/30 focus:border-primary/50 focus:shadow-soft focus:bg-white transition-all duration-200 placeholder:text-muted-foreground/70"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4 items-end",children:[l&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2 text-primary",children:[s.jsx(xo,{className:"h-3 w-3"}),"Cidade"]}),s.jsx(P9,{selectedCity:r.city||"all",onCityChange:x=>p("city",x==="all"?null:x),placeholder:"Todas as cidades"})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-primary",children:"Data"}),s.jsxs(gA,{children:[s.jsx(xA,{asChild:!0,children:s.jsxs(re,{variant:"outline",className:xe("w-full justify-start text-left font-normal h-11 bg-white/80 border-secondary/40 hover:bg-secondary/10 hover:border-primary/50 transition-all duration-200",!r.date&&"text-muted-foreground"),children:[s.jsx(Ir,{className:"mr-2 h-4 w-4"}),r.date?We(r.date,"dd/MM/yyyy",{locale:ir}):s.jsx("span",{children:"Selecionar data"})]})}),s.jsx(iw,{className:"w-auto p-0",align:"start",children:s.jsx(Hc,{mode:"single",selected:r.date||void 0,onSelect:x=>p("date",x),disabled:x=>x<new Date,initialFocus:!0,className:"pointer-events-auto"})})]})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-primary",children:"Incio"}),s.jsxs(zt,{value:r.startTime||"",onValueChange:x=>p("startTime",x||null),children:[s.jsxs($t,{className:"h-11 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),s.jsx(Ht,{placeholder:"Horrio"})]}),s.jsx(Lt,{children:C3.map(x=>s.jsx(Xe,{value:x,children:x},x))})]})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-primary",children:"Fim"}),s.jsxs(zt,{value:r.endTime||"",onValueChange:x=>p("endTime",x||null),disabled:!r.startTime,children:[s.jsxs($t,{className:"h-11 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",children:[s.jsx(Wn,{className:"mr-2 h-4 w-4"}),s.jsx(Ht,{placeholder:"Horrio"})]}),s.jsx(Lt,{children:C3.filter(x=>!r.startTime||x>r.startTime).map(x=>s.jsx(Xe,{value:x,children:x},x))})]})]}),u&&d.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-primary",children:"Categoria"}),s.jsxs(zt,{value:r.category||"all",onValueChange:x=>p("category",x==="all"?null:x),children:[s.jsx($t,{className:"h-11 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",children:s.jsx(Ht,{placeholder:"Todas"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas"}),d.map(x=>s.jsx(Xe,{value:x,children:x},x))]})]})]}),s.jsxs("div",{className:"flex gap-2 lg:col-span-2",children:[s.jsxs(re,{onClick:a,className:"flex-1 h-11 bg-primary hover:bg-primary/90 text-primary-foreground shadow-soft hover:shadow-medium transition-all duration-200",disabled:o&&(!r.date||!r.startTime||!r.endTime),children:[s.jsx(uN,{className:"mr-2 h-4 w-4"}),"Filtrar"]}),m&&s.jsx(re,{variant:"outline",onClick:g,className:"h-11 px-3 bg-white/80 border-secondary/40 hover:bg-secondary/10 hover:border-secondary/60 transition-all duration-200",children:s.jsx(Vn,{className:"h-4 w-4"})})]})]}),m&&s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(uN,{className:"h-3 w-3 text-primary"}),"Filtros ativos (",v,"):"]}),r.city&&s.jsxs(Re,{className:"bg-secondary/15 text-secondary-foreground border-secondary/40 gap-1 px-3 py-1",children:[r.city,s.jsx(Vn,{className:"h-3 w-3 cursor-pointer hover:text-destructive transition-colors",onClick:()=>p("city",null)})]}),r.date&&s.jsxs(Re,{className:"bg-accent/15 text-accent-foreground border-accent/40 gap-1 px-3 py-1",children:[We(r.date,"dd/MM/yyyy"),s.jsx(Vn,{className:"h-3 w-3 cursor-pointer hover:text-destructive transition-colors",onClick:()=>p("date",null)})]}),r.startTime&&s.jsxs(Re,{className:"bg-accent/15 text-accent-foreground border-accent/40 gap-1 px-3 py-1",children:[r.startTime,s.jsx(Vn,{className:"h-3 w-3 cursor-pointer hover:text-destructive transition-colors",onClick:()=>p("startTime",null)})]}),r.endTime&&s.jsxs(Re,{className:"bg-accent/15 text-accent-foreground border-accent/40 gap-1 px-3 py-1",children:[r.endTime,s.jsx(Vn,{className:"h-3 w-3 cursor-pointer hover:text-destructive transition-colors",onClick:()=>p("endTime",null)})]}),r.category&&s.jsxs(Re,{className:"bg-accent/15 text-accent-foreground border-accent/40 gap-1 px-3 py-1",children:[r.category,s.jsx(Vn,{className:"h-3 w-3 cursor-pointer hover:text-destructive transition-colors",onClick:()=>p("category",null)})]})]})]})})})};function st(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}var bA="Dialog",[D9,R9]=Zi(bA),[Jue,Rs]=D9(bA),M9=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[u=!1,d]=mo({prop:n,defaultProp:a,onChange:i});return s.jsx(Jue,{scope:t,triggerRef:l,contentRef:c,contentId:io(),titleId:io(),descriptionId:io(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};M9.displayName=bA;var I9="DialogTrigger",F9=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(I9,r),i=kt(t,a.triggerRef);return s.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jA(a.open),...n,ref:i,onClick:nt(e.onClick,a.onOpenToggle)})});F9.displayName=I9;var wA="DialogPortal",[ede,$9]=D9(wA,{forceMount:void 0}),L9=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Rs(wA,t);return s.jsx(ede,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(ei,{present:r||i.open,children:s.jsx(rw,{asChild:!0,container:a,children:o})}))})};L9.displayName=wA;var Zy="DialogOverlay",B9=_.forwardRef((e,t)=>{const r=$9(Zy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Rs(Zy,e.__scopeDialog);return i.modal?s.jsx(ei,{present:n||i.open,children:s.jsx(tde,{...a,ref:t})}):null});B9.displayName=Zy;var tde=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(Zy,r);return s.jsx(aw,{as:Ya,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(lt.div,{"data-state":jA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),od="DialogContent",U9=_.forwardRef((e,t)=>{const r=$9(od,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Rs(od,e.__scopeDialog);return s.jsx(ei,{present:n||i.open,children:i.modal?s.jsx(rde,{...a,ref:t}):s.jsx(nde,{...a,ref:t})})});U9.displayName=od;var rde=_.forwardRef((e,t)=>{const r=Rs(od,e.__scopeDialog),n=_.useRef(null),a=kt(t,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return mA(i)},[]),s.jsx(q9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:nt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:nt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:nt(e.onFocusOutside,i=>i.preventDefault())})}),nde=_.forwardRef((e,t)=>{const r=Rs(od,e.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(q9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),q9=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Rs(od,r),c=_.useRef(null),u=kt(t,c);return rA(),s.jsxs(s.Fragment,{children:[s.jsx(Yb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ide,{titleId:l.titleId}),s.jsx(ode,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_A="DialogTitle",z9=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(_A,r);return s.jsx(lt.h2,{id:a.titleId,...n,ref:t})});z9.displayName=_A;var H9="DialogDescription",V9=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(H9,r);return s.jsx(lt.p,{id:a.descriptionId,...n,ref:t})});V9.displayName=H9;var W9="DialogClose",G9=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Rs(W9,r);return s.jsx(lt.button,{type:"button",...n,ref:t,onClick:nt(e.onClick,()=>a.onOpenChange(!1))})});G9.displayName=W9;function jA(e){return e?"open":"closed"}var K9="DialogTitleWarning",[ade,X9]=uae(K9,{contentName:od,titleName:_A,docsSlug:"dialog"}),ide=({titleId:e})=>{const t=X9(K9),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},sde="DialogDescriptionWarning",ode=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X9(sde).contentName}}.`;return _.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SA=M9,Y9=F9,NA=L9,Yv=B9,Qv=U9,Zv=z9,Jv=V9,dw=G9;const _n=SA,EA=Y9,lde=NA,Q9=_.forwardRef(({className:e,...t},r)=>s.jsx(Yv,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q9.displayName=Yv.displayName;const un=_.forwardRef(({className:e,children:t,hideCloseButton:r=!1,...n},a)=>s.jsxs(lde,{children:[s.jsx(Q9,{}),s.jsxs(Qv,{ref:a,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,!r&&s.jsxs(dw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));un.displayName=Qv.displayName;const In=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});In.displayName="DialogHeader";const eg=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});eg.displayName="DialogFooter";const dn=_.forwardRef(({className:e,...t},r)=>s.jsx(Zv,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));dn.displayName=Zv.displayName;const Kc=_.forwardRef(({className:e,...t},r)=>s.jsx(Jv,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Kc.displayName=Jv.displayName;const T3=({isOpen:e,onClose:t,images:r,currentIndex:n,onPrevious:a,onNext:i,alt:o})=>{if(!r||r.length===0)return null;const l=r[n];return s.jsx(_n,{open:e,onOpenChange:t,children:s.jsxs(un,{className:"max-w-4xl w-full h-[90vh] p-0 bg-black/95 border-none",hideCloseButton:!0,children:[s.jsx(ow,{children:s.jsx(dn,{children:"Visualizao de Imagem"})}),s.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[s.jsx(re,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-50 bg-black/50 hover:bg-black/70 text-white border-none h-10 w-10 rounded-full",onClick:t,children:s.jsx(Vn,{className:"h-5 w-5"})}),s.jsx("img",{src:l,alt:`${o} - Imagem ${n+1}`,className:"max-w-full max-h-full object-contain"}),r.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white border-none h-12 w-12 rounded-full",onClick:a,children:s.jsx(zb,{className:"h-6 w-6"})}),s.jsx(re,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white border-none h-12 w-12 rounded-full",onClick:i,children:s.jsx(MT,{className:"h-6 w-6"})})]}),r.length>1&&s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white text-sm px-3 py-1 rounded-full",children:[n+1," de ",r.length]})]})]})})},Z9=({images:e,alt:t,className:r})=>{const[n,a]=_.useState(0),[i,o]=_.useState(!1),[l,c]=_.useState(0),u=_.useCallback(()=>{a(v=>v===0?e.length-1:v-1)},[e.length]),d=_.useCallback(()=>{a(v=>v===e.length-1?0:v+1)},[e.length]),f=_.useCallback(v=>{c(v),o(!0)},[]),h=_.useCallback(()=>{c(v=>v===0?e.length-1:v-1)},[e.length]),m=_.useCallback(()=>{c(v=>v===e.length-1?0:v+1)},[e.length]);return e.length===0?null:e.length===1?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:e[0],alt:t,className:xe("w-full h-48 object-cover cursor-pointer hover:opacity-90 transition-opacity",r),onClick:()=>f(0)}),s.jsx(T3,{isOpen:i,onClose:()=>o(!1),images:e,currentIndex:l,onPrevious:h,onNext:m,alt:t})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative w-full overflow-hidden",children:[s.jsx("div",{className:"relative w-full h-48",children:s.jsx("div",{className:"flex transition-transform duration-300 ease-in-out w-full h-full",style:{transform:`translateX(-${n*100}%)`},children:e.map((v,p)=>s.jsx("div",{className:"flex-shrink-0 w-full h-full",children:s.jsx("img",{src:v,alt:`${t} - Imagem ${p+1}`,className:xe("w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",r),onClick:()=>f(p)})},p))})}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/70 hover:bg-black/90 text-white border-none h-10 w-10 z-30 shadow-lg opacity-80 hover:opacity-100 transition-all duration-200 rounded-full",onClick:u,children:s.jsx(zb,{className:"h-4 w-4"})}),s.jsx(re,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/70 hover:bg-black/90 text-white border-none h-10 w-10 z-30 shadow-lg opacity-80 hover:opacity-100 transition-all duration-200 rounded-full",onClick:d,children:s.jsx(MT,{className:"h-4 w-4"})}),s.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1 z-20",children:e.map((v,p)=>s.jsx("button",{className:xe("w-2 h-2 rounded-full transition-all duration-200",p===n?"bg-white":"bg-white/50 hover:bg-white/70"),onClick:()=>a(p)},p))})]}),s.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded z-20",children:[n+1," / ",e.length]})]}),s.jsx(T3,{isOpen:i,onClose:()=>o(!1),images:e,currentIndex:l,onPrevious:h,onNext:m,alt:t})]})},A3={available:{label:"Disponvel",className:"bg-green-100 text-green-800 border-green-200"},unavailable:{label:"Indisponvel",className:"bg-red-100 text-red-800 border-red-200"},limited:{label:"Limitado",className:"bg-yellow-100 text-yellow-800 border-yellow-200"},active:{label:"Ativo",className:"bg-green-100 text-green-800 border-green-200"},inactive:{label:"Inativo",className:"bg-gray-100 text-gray-800 border-gray-200"}},k3=({id:e,title:t,description:r,price:n,priceLabel:a="por hora",image:i,images:o=[],status:l,stockQuantity:c,location:u,features:d=[],stats:f=[],rating:h,reviewCount:m,onAction:v,actionLabel:p="Ver Detalhes",onSecondaryAction:g,secondaryActionLabel:x,className:y,variant:w="room",isLoading:b=!1})=>{var j,N;return b?s.jsxs(de,{className:xe("overflow-hidden animate-pulse",y),children:[s.jsx("div",{className:"h-48 bg-muted"}),s.jsxs(Se,{className:"space-y-2",children:[s.jsx("div",{className:"h-6 bg-muted rounded"}),s.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]}),s.jsxs(me,{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}),s.jsx(yN,{children:s.jsx("div",{className:"h-10 bg-muted rounded w-full"})})]}):s.jsxs(de,{className:xe("group overflow-hidden border-border/50 bg-card hover:border-primary/20 transition-all duration-300 hover:shadow-md",y),children:[s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[(()=>{const S=o.length>0?o:i?[i]:[];return S.length>0?s.jsx(Z9,{images:S,alt:t,className:"h-full transition-transform duration-500 group-hover:scale-110"}):s.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-muted to-muted/50 flex items-center justify-center",children:[w==="room"&&s.jsx(hre,{className:"h-16 w-16 text-muted-foreground/50"}),w==="equipment"&&s.jsx(rre,{className:"h-16 w-16 text-muted-foreground/50"}),w==="product"&&s.jsx(ed,{className:"h-16 w-16 text-muted-foreground/50"})]})})(),l&&s.jsxs("div",{className:"absolute top-3 right-3",children:[s.jsx(Re,{className:(j=A3[l])==null?void 0:j.className,children:l==="unavailable"&&c!==void 0?"Fora de estoque":(N=A3[l])==null?void 0:N.label}),l==="available"&&c!==void 0&&c<5&&c>0&&s.jsxs(Re,{variant:"outline",className:"mt-1 border-orange-500 text-orange-600 bg-orange-50",children:["Restam ",c]})]}),g&&s.jsx(re,{variant:"ghost",size:"icon",className:"absolute top-3 left-3 bg-background/80 backdrop-blur-sm hover:bg-background/90",onClick:S=>{S.stopPropagation(),g()},children:s.jsx(sre,{className:"h-4 w-4"})}),n&&s.jsxs("div",{className:"absolute bottom-3 left-3 bg-background/90 backdrop-blur-sm rounded-xl px-4 py-2 border",children:[s.jsx("div",{className:"text-lg font-bold text-primary",children:st(n)}),s.jsx("div",{className:"text-xs text-muted-foreground font-medium",children:a})]})]}),s.jsxs(Se,{className:"pb-3",children:[s.jsx("div",{className:"flex items-start justify-between gap-2",children:s.jsx("h3",{className:"font-bold text-lg leading-tight line-clamp-2 group-hover:text-primary transition-all duration-300",children:t})}),h&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((S,E)=>s.jsx(LL,{className:xe("h-3 w-3",E<Math.floor(h)?"fill-yellow-400 text-yellow-400":"text-gray-300")},E))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",m||0,")"]})]}),u&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(xo,{className:"h-3 w-3"}),u]})]}),s.jsxs(me,{className:"pb-3 space-y-3",children:[r&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:r}),d.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:d.slice(0,6).map((S,E)=>s.jsxs("div",{className:xe("flex items-center gap-1 text-xs px-3 py-1.5 rounded-full border transition-colors",S.available?"bg-green-500/10 text-green-400 border-green-400/30":"bg-muted/30 text-muted-foreground border-muted/40"),children:[s.jsx(S.icon,{className:"h-3 w-3"}),S.label]},E))}),f.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-2",children:f.slice(0,4).map((S,E)=>s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(S.icon,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:S.value}),s.jsx("span",{className:"text-xs",children:S.label})]},E))})]}),s.jsx(yN,{className:"pt-0",children:s.jsxs("div",{className:"w-full space-y-3",children:[s.jsxs(re,{onClick:v,variant:"default",className:"w-full",disabled:l==="unavailable",children:[s.jsx(zi,{className:"mr-2 h-4 w-4"}),l==="unavailable"?c!==void 0?"Fora de estoque":"Indisponvel":p]}),x&&g&&s.jsx(re,{variant:"outline",onClick:g,className:"w-full",children:x})]})})]})};function pt({className:e,...t}){return s.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",e),...t})}const CA=({items:e=[],isLoading:t=!1,error:r,onItemAction:n,actionLabel:a="Ver Detalhes",emptyTitle:i="Nenhum item encontrado",emptyDescription:o="Tente ajustar os filtros ou volte mais tarde",emptyIcon:l=Vi,variant:c="room",viewMode:u="grid",onViewModeChange:d,sortBy:f,sortOrder:h="asc",onSortChange:m,showFiltersMessage:v=!1,filtersMessage:p="Selecione filtros para ver os resultados",resultCount:g,className:x})=>t?s.jsxs("div",{className:xe("space-y-4 md:space-y-6",x),children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[s.jsx(pt,{className:"h-5 w-32 sm:h-6 sm:w-48"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pt,{className:"h-8 w-16 sm:h-10 sm:w-24"}),s.jsx(pt,{className:"h-8 w-8 sm:h-10 sm:w-10"}),s.jsx(pt,{className:"h-8 w-8 sm:h-10 sm:w-10"})]})]}),s.jsx("div",{className:xe("grid gap-4 md:gap-6",c==="product"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"),children:[...Array(8)].map((y,w)=>s.jsx(k3,{id:`loading-${w}`,title:"",isLoading:!0},w))})]}):r?s.jsxs("div",{className:"text-center py-12 md:py-20 px-4",children:[s.jsx("div",{className:"mx-auto w-12 h-12 md:w-16 md:h-16 bg-red-100 rounded-full flex items-center justify-center mb-3 md:mb-4",children:s.jsx(Dy,{className:"h-6 w-6 md:h-8 md:w-8 text-red-600"})}),s.jsx("h3",{className:"text-base md:text-lg font-semibold text-red-900 mb-2",children:"Erro ao carregar"}),s.jsx("p",{className:"text-sm md:text-base text-red-600 mb-4",children:r.message||"Ocorreu um erro inesperado"}),s.jsxs(re,{onClick:()=>window.location.reload(),size:"sm",className:"md:size-default",children:[s.jsx(Dy,{className:"mr-2 h-3 w-3 md:h-4 md:w-4"}),"Tentar Novamente"]})]}):v?s.jsxs("div",{className:"text-center py-12 md:py-20 px-4",children:[s.jsx("div",{className:"mx-auto w-12 h-12 md:w-16 md:h-16 bg-primary/10 rounded-full flex items-center justify-center mb-3 md:mb-4",children:s.jsx(xl,{className:"h-6 w-6 md:h-8 md:w-8 text-primary"})}),s.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2",children:p}),s.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Use os filtros acima para encontrar exatamente o que voc precisa"})]}):e.length===0?s.jsxs("div",{className:"text-center py-12 md:py-20 px-4",children:[s.jsx("div",{className:"mx-auto w-12 h-12 md:w-16 md:h-16 bg-muted rounded-full flex items-center justify-center mb-3 md:mb-4",children:s.jsx(l,{className:"h-6 w-6 md:h-8 md:w-8 text-muted-foreground"})}),s.jsx("h3",{className:"text-base md:text-lg font-semibold mb-2",children:i}),s.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:o})]}):s.jsxs("div",{className:xe("space-y-4 md:space-y-6",x),children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 md:gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground",children:g!==void 0?`${g} resultados`:`${e.length} itens`})}),s.jsxs("div",{className:"flex items-center gap-1 md:gap-2 overflow-x-auto",children:[m&&s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m("name",h==="asc"?"desc":"asc"),className:"gap-1 text-xs md:text-sm px-2 md:px-3",children:[h==="asc"?s.jsx(O4,{className:"h-3 w-3"}):s.jsx(P4,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Nome"})]}),c!=="equipment"&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m("price",h==="asc"?"desc":"asc"),className:"gap-1 text-xs md:text-sm px-2 md:px-3",children:[h==="asc"?s.jsx(O4,{className:"h-3 w-3"}):s.jsx(P4,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Preo"})]})]}),d&&s.jsxs("div",{className:"flex rounded-lg border flex-shrink-0",children:[s.jsx(re,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"rounded-r-none px-2 md:px-3",children:s.jsx(ire,{className:"h-3 w-3 md:h-4 md:w-4"})}),s.jsx(re,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"rounded-l-none px-2 md:px-3",children:s.jsx(lre,{className:"h-3 w-3 md:h-4 md:w-4"})})]})]})]}),s.jsx("div",{className:xe("grid gap-4 md:gap-6",u==="grid"?c==="product"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:e.map(y=>s.jsx(k3,{...y,variant:c,onAction:()=>n==null?void 0:n(y.id),actionLabel:a,className:u==="list"?"md:flex md:flex-row md:items-center":void 0},y.id))})]}),cde=e=>it({queryKey:["branches-by-city",e],queryFn:async()=>{if(!e||e==="all")return null;console.log("Buscando branch para cidade:",e);const{data:t,error:r}=await Z.from("branches").select("id").eq("city",e).limit(1).maybeSingle();return r?(console.error("Erro ao buscar branch por cidade:",r),null):(console.log("Branch encontrada para cidade:",t),(t==null?void 0:t.id)||null)},enabled:!!e&&e!=="all"}),TA=({selectedCity:e,pageName:t})=>{const[r,n]=_.useState(!1),[a,i]=_.useState(!0);return _.useEffect(()=>{i(e==="all"||!e)},[e]),{isCityRequired:a,validateCitySelection:()=>e==="all"||!e?(tt({title:"Cidade no selecionada",description:`Por favor, selecione uma cidade antes de continuar com ${t.toLowerCase()}.`,variant:"destructive"}),!1):!0,hasShownWarning:r}},AA=({pageName:e,onDismiss:t,showDismissButton:r=!0})=>s.jsxs(gh,{className:"mb-6 border-orange-200 bg-orange-50 text-orange-800",children:[s.jsx(_a,{className:"h-4 w-4 text-orange-600"}),s.jsxs(F8,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"h-4 w-4"}),"Seleo de cidade obrigatria"]}),r&&t&&s.jsx(re,{variant:"ghost",size:"sm",onClick:t,className:"h-auto p-1 text-orange-600 hover:text-orange-800 hover:bg-orange-100",children:""})]}),s.jsxs(xh,{className:"mt-2",children:["Por favor, ",s.jsx("strong",{children:"selecione uma cidade"})," antes de navegar pelos ",e.toLowerCase(),". Isso garante que voc veja apenas os itens disponveis na sua regio e evita reservas ou compras na cidade errada."]})]});var J9="AlertDialog",[ude,Wze]=Zi(J9,[R9]),yl=R9(),e7=e=>{const{__scopeAlertDialog:t,...r}=e,n=yl(t);return s.jsx(SA,{...n,...r,modal:!0})};e7.displayName=J9;var dde="AlertDialogTrigger",t7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yl(r);return s.jsx(Y9,{...a,...n,ref:t})});t7.displayName=dde;var fde="AlertDialogPortal",r7=e=>{const{__scopeAlertDialog:t,...r}=e,n=yl(t);return s.jsx(NA,{...n,...r})};r7.displayName=fde;var hde="AlertDialogOverlay",n7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yl(r);return s.jsx(Yv,{...a,...n,ref:t})});n7.displayName=hde;var Of="AlertDialogContent",[mde,pde]=ude(Of),a7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=yl(r),o=_.useRef(null),l=kt(t,o),c=_.useRef(null);return s.jsx(ade,{contentName:Of,titleName:i7,docsSlug:"alert-dialog",children:s.jsx(mde,{scope:r,cancelRef:c,children:s.jsxs(Qv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:nt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(PT,{children:n}),s.jsx(gde,{contentRef:o})]})})})});a7.displayName=Of;var i7="AlertDialogTitle",s7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yl(r);return s.jsx(Zv,{...a,...n,ref:t})});s7.displayName=i7;var o7="AlertDialogDescription",l7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yl(r);return s.jsx(Jv,{...a,...n,ref:t})});l7.displayName=o7;var vde="AlertDialogAction",c7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=yl(r);return s.jsx(dw,{...a,...n,ref:t})});c7.displayName=vde;var u7="AlertDialogCancel",d7=_.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=pde(u7,r),i=yl(r),o=kt(t,a);return s.jsx(dw,{...i,...n,ref:o})});d7.displayName=u7;var gde=({contentRef:e})=>{const t=`\`${Of}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Of}\` by passing a \`${o7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Of}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},xde=e7,yde=t7,bde=r7,f7=n7,h7=a7,m7=c7,p7=d7,v7=s7,g7=l7;const kA=xde,wde=yde,_de=bde,x7=_.forwardRef(({className:e,...t},r)=>s.jsx(f7,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));x7.displayName=f7.displayName;const fw=_.forwardRef(({className:e,...t},r)=>s.jsxs(_de,{children:[s.jsx(x7,{}),s.jsx(h7,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));fw.displayName=h7.displayName;const hw=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});hw.displayName="AlertDialogHeader";const mw=({className:e,...t})=>s.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mw.displayName="AlertDialogFooter";const pw=_.forwardRef(({className:e,...t},r)=>s.jsx(v7,{ref:r,className:xe("text-lg font-semibold",e),...t}));pw.displayName=v7.displayName;const PA=_.forwardRef(({className:e,...t},r)=>s.jsx(g7,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));PA.displayName=g7.displayName;const vw=_.forwardRef(({className:e,...t},r)=>s.jsx(m7,{ref:r,className:xe(y0(),e),...t}));vw.displayName=m7.displayName;const OA=_.forwardRef(({className:e,...t},r)=>s.jsx(p7,{ref:r,className:xe(y0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));OA.displayName=p7.displayName;const DA=({isOpen:e,onClose:t,pageName:r})=>s.jsx(kA,{open:e,onOpenChange:t,children:s.jsxs(fw,{className:"max-w-md bg-gradient-to-br from-background to-secondary/10 border-primary/20 shadow-3d",children:[s.jsxs(hw,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-50 rounded-full flex items-center justify-center border border-orange-200",children:s.jsx(_a,{className:"h-8 w-8 text-orange-500"})}),s.jsxs(pw,{className:"text-xl text-primary flex items-center justify-center gap-2",children:[s.jsx(xo,{className:"h-5 w-5"}),"Cidade no selecionada"]}),s.jsxs(PA,{className:"text-muted-foreground mt-3 text-center",children:["Para continuar com a reserva de ",s.jsx("strong",{children:r}),", voc precisa selecionar uma cidade primeiro."]})]}),s.jsx("div",{className:"bg-orange-50/50 border border-orange-200 rounded-lg p-4 my-4",children:s.jsxs("p",{className:"text-sm text-orange-800 text-center",children:[s.jsx("strong",{children:"Por que isso  necessrio?"}),s.jsx("br",{}),"Isso garante que voc veja apenas os itens disponveis na sua regio e evita reservas na cidade errada."]})}),s.jsx(mw,{children:s.jsx(vw,{onClick:t,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:"Entendi, vou selecionar uma cidade"})})]})}),jde=()=>{const e=Mn(),[t,r]=_.useState(""),[n,a]=_.useState("name"),[i,o]=_.useState("asc"),[l,c]=_.useState("all"),[u,d]=_.useState(!0),[f,h]=_.useState(!1),{isCityRequired:m,validateCitySelection:v}=TA({selectedCity:l,pageName:"produtos"}),{data:p}=cde(l),{data:g,isLoading:x,error:y}=it({queryKey:["store-products",n,i,l,p],queryFn:async()=>{let E=Z.from("products").select("*").eq("is_active",!0).order(n,{ascending:i==="asc"});l&&l!=="all"&&p&&(console.log("Aplicando filtro de branch para produtos:",p),E=E.eq("branch_id",p));const{data:C,error:T}=await E;if(T)throw T;if(C&&C.length>0){const A=[...new Set(C.map(B=>B.branch_id))],k=C.map(B=>B.id),[{data:P},{data:L}]=await Promise.all([Z.from("branches").select("id, name, city, street, number, neighborhood").in("id",A),Z.from("product_photos").select("product_id, url").in("product_id",k)]);return C.map(B=>({...B,branches:P==null?void 0:P.find(M=>M.id===B.branch_id),product_photos:(L==null?void 0:L.filter(M=>M.product_id===B.id))||[]}))}return C||[]}}),w=g==null?void 0:g.filter(E=>E.name.toLowerCase().includes(t.toLowerCase())||E.description&&E.description.toLowerCase().includes(t.toLowerCase())),b=w==null?void 0:w.map(E=>({...E,branchAddress:E.branches?`${E.branches.street}, ${E.branches.number} - ${E.branches.neighborhood}, ${E.branches.city}`:"Endereo no disponvel"})),j=(b==null?void 0:b.map(E=>{var C;return{id:E.id,title:E.name,description:E.description,price:E.price,priceLabel:"unidade",images:((C=E.product_photos)==null?void 0:C.map(T=>T.url))||[],status:E.quantity>0?"available":"unavailable",stockQuantity:E.quantity,location:`${E.branchAddress} - Retirada na loja`}}))||[],N=E=>{if(l==="all"||!l){h(!0);return}e(`/product/${E}`)},S=(E,C)=>{a(E),o(C)};return s.jsx(Er,{children:s.jsxs("div",{className:"container py-10",children:[s.jsx(fm,{title:"Loja de Produtos",description:"Encontre os melhores produtos para suas necessidades"}),s.jsx(de,{className:"mb-6 border-orange-200 bg-orange-50",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vi,{className:"h-5 w-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-800"}),s.jsx("p",{className:"text-sm text-orange-700",children:"No realizamos entregas. Todos os produtos devem ser retirados na loja da filial selecionada."})]})]})})}),m&&u&&s.jsx(AA,{pageName:"produtos",onDismiss:()=>d(!1)}),s.jsx(O9,{searchTerm:t,onSearchChange:r,filters:{city:l},onFiltersChange:E=>{E.city!==l&&c(E.city||"all")},showLocationFilter:!0,placeholder:"Buscar produtos..."}),s.jsx(CA,{items:j,isLoading:x,error:y,onItemAction:N,actionLabel:"Ver Detalhes",emptyTitle:"Nenhum produto encontrado",emptyDescription:t?"Tente uma busca diferente":"Estamos adicionando novos produtos em breve",emptyIcon:ed,variant:"product",sortBy:n,sortOrder:i,onSortChange:S,resultCount:b==null?void 0:b.length}),s.jsx(DA,{isOpen:f,onClose:()=>h(!1),pageName:"produtos"})]})})},Sde=()=>{const{id:e}=nm(),{user:t}=Gt(),{addToCart:r,isAddingToCart:n}=zc(),{toast:a}=Pr(),i=Mn(),[o,l]=_.useState(1),{data:c,isLoading:u}=it({queryKey:["product",e],queryFn:async()=>{const{data:h,error:m}=await Z.from("products").select(`
          *,
          equipment:equipment(name)
        `).eq("id",e).single();if(m)throw m;const{data:v}=await Z.from("product_photos").select("url").eq("product_id",e).order("created_at",{ascending:!0});return{...h,product_photos:v||[]}},enabled:!!e}),d=()=>{if(!t){i("/login",{state:{returnTo:`/store/product/${e}`}});return}if(e){if(c&&c.quantity<o){a({variant:"destructive",title:"Estoque insuficiente",description:`Apenas ${c.quantity} unidades disponveis em estoque.`});return}r({itemType:"product",itemId:e,quantity:o,metadata:{}})}},f=h=>{const m=parseInt(h.target.value);m>0&&l(m)};return s.jsx(Er,{children:s.jsxs("div",{className:"container py-10",children:[s.jsx("div",{className:"mb-6",children:s.jsx(re,{variant:"ghost",asChild:!0,className:"pl-0",children:s.jsxs(wt,{to:"/store",children:[s.jsx(zb,{className:"mr-2 h-4 w-4"}),"Voltar para a loja"]})})}),u?s.jsx("div",{className:"flex justify-center my-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-[400px] rounded-lg overflow-hidden",children:c.product_photos&&c.product_photos.length>0?s.jsx(Z9,{images:c.product_photos.map(h=>h.url),alt:c.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"bg-muted rounded-lg flex items-center justify-center h-full",children:s.jsx(ed,{className:"h-32 w-32 text-muted-foreground/30"})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:c.name}),s.jsx("p",{className:"text-2xl font-bold text-primary mt-2",children:st(c.price)})]}),s.jsxs(de,{children:[s.jsx(Se,{className:"pb-2",children:s.jsx($e,{className:"text-lg",children:"Detalhes do produto"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Descrio"}),s.jsx("p",{className:"text-muted-foreground",children:c.description||"No h descrio disponvel para este produto."})]}),c.model&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Modelo"}),s.jsx("p",{className:"text-muted-foreground",children:c.model})]}),c.equipment&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Equipamento relacionado"}),s.jsx("p",{className:"text-muted-foreground",children:c.equipment.name})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Disponibilidade"}),s.jsx("p",{className:`${c.quantity>0?"text-green-600":"text-red-600"}`,children:c.quantity>0?`${c.quantity} unidades em estoque`:"Fora de estoque"})]})]})]}),s.jsxs("div",{className:"pt-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-24",children:[s.jsx("label",{htmlFor:"quantity",className:"text-sm font-medium mb-1 block",children:"Quantidade"}),s.jsx(Oe,{id:"quantity",type:"number",min:"1",max:c.quantity||999,value:o,onChange:f})]}),s.jsx("div",{className:"text-muted-foreground text-sm",children:st(c.price*o)})]}),s.jsxs(re,{onClick:d,className:"w-full",size:"lg",disabled:n||c.quantity<=0,children:[s.jsx(hh,{className:"mr-2 h-4 w-4"}),n?"Adicionando...":c.quantity<=0?"Fora de estoque":"Adicionar ao carrinho"]})]})]})]}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Produto no encontrado"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"O produto que voc est procurando no existe ou foi removido."}),s.jsx(re,{asChild:!0,className:"mt-4",children:s.jsx(wt,{to:"/store",children:"Ver outros produtos"})})]})]})})};function Nde(e){return"hours"in e&&"onSelectHour"in e}const P3=(e,t,r=[],n=24,a=60)=>{const i=parseInt(t.split(":")[0]),o=[],l=Math.ceil(a/60),c=i+l;for(let u=c;u<=n;u++){const d=`${u.toString().padStart(2,"0")}:00`;let f=!0;for(let h=i;h<u;h++){const m=`${h.toString().padStart(2,"0")}:00`;if(!e.includes(m)||r.includes(m)){f=!1;break}}if(f)o.push(d);else break}return o},Ede=(e,t,r=60)=>{const n=parseInt(t.split(":")[0]),a=Math.ceil(r/60),i=n+a;return e.filter(o=>parseInt(o.split(":")[0])>=i)},gw=e=>{if(Nde(e)){const{hours:p,blockedHours:g=[],selectedHour:x,onSelectHour:y,isEndTime:w,startHour:b}=e;if(!p||!Array.isArray(p))return s.jsx("div",{className:"text-muted-foreground",children:"Nenhum horrio disponvel"});if(w&&b){const j=P3(p,b,g);return s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm mb-2",children:"Selecione o horrio de trmino:"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.map(N=>{const S=g.includes(N);return s.jsx(re,{variant:x===N?"default":"outline",onClick:()=>{S||y(N)},disabled:S,className:S?"bg-red-500 hover:bg-red-600 text-white cursor-not-allowed":"",children:N},N)})}),j.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum horrio consecutivo disponvel"})]})}return s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm mb-2",children:"Selecione o horrio de incio:"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(j=>{const N=g.includes(j);return s.jsx(re,{variant:x===j?"default":"outline",onClick:()=>{N||y(j)},disabled:N,className:N?"bg-red-500 hover:bg-red-600 text-white cursor-not-allowed":"",children:j},j)})})]})}const{availableHours:t,availableEndTimes:r,blockedHours:n=[],selectedStartTime:a,selectedEndTime:i,onSelectStartTime:o,onSelectEndTime:l,mode:c="both",title:u,className:d,requireConsecutive:f=!1,minimumIntervalMinutes:h=60}=e;if(!t||!Array.isArray(t))return s.jsx("div",{className:"text-muted-foreground",children:"Nenhum horrio disponvel"});const m=()=>{if(!a||!l)return null;let p=[];return f?p=P3(t,a,n,24,h):r&&Array.isArray(r)&&(p=Ede(r,a,h).filter(x=>!n.includes(x))),p.sort((g,x)=>{const y=parseInt(g.split(":")[0]),w=parseInt(x.split(":")[0]);return y-w}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-medium text-sm",children:["Horrio de incio selecionado: ",s.jsx("span",{className:"font-bold",children:a})]}),s.jsxs("p",{className:"text-sm mb-2",children:[u||"Selecione o horrio de trmino:",":"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(g=>{const x=n.includes(g);return s.jsx(re,{variant:i===g?"default":"outline",onClick:()=>{x||l(g)},disabled:x,className:xe(x&&"bg-red-500 hover:bg-red-600 text-white cursor-not-allowed"),children:g},g)})}),p.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Nenhum horrio consecutivo disponvel":"Nenhum horrio de trmino disponvel"})]})},v=()=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm mb-2",children:[u||"Selecione o horrio de incio:",":"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map(p=>{const g=n.includes(p);return s.jsx(re,{variant:a===p?"default":"outline",onClick:()=>{g||o(p)},disabled:g,className:xe(g&&"bg-red-500 hover:bg-red-600 text-white cursor-not-allowed"),children:p},p)})})]});return s.jsxs("div",{className:xe("space-y-4",d),children:[(c==="start"||c==="both")&&v(),(c==="end"||c==="both"&&a)&&m()]})};function Cde(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var RA="ScrollArea",[y7,Gze]=Zi(RA),[Tde,Ji]=y7(RA),b7=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=_.useState(null),[u,d]=_.useState(null),[f,h]=_.useState(null),[m,v]=_.useState(null),[p,g]=_.useState(null),[x,y]=_.useState(0),[w,b]=_.useState(0),[j,N]=_.useState(!1),[S,E]=_.useState(!1),C=kt(t,A=>c(A)),T=Kv(a);return s.jsx(Tde,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:b,children:s.jsx(lt.div,{dir:T,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});b7.displayName=RA;var w7="ScrollAreaViewport",_7=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...o}=e,l=Ji(w7,r),c=_.useRef(null),u=kt(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:$de({asChild:a,children:n},d=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});_7.displayName=w7;var bo="ScrollAreaScrollbar",MA=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ji(bo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return _.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Ade,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(kde,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(j7,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(IA,{...n,ref:t}):null});MA.displayName=bo;var Ade=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ji(bo,e.__scopeScrollArea),[i,o]=_.useState(!1);return _.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ei,{present:r||i,children:s.jsx(j7,{"data-state":i?"visible":"hidden",...n,ref:t})})}),kde=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ji(bo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=yw(()=>c("SCROLL_END"),100),[l,c]=Cde("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),_.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(ei,{present:r||l!=="hidden",children:s.jsx(IA,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:nt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:nt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),j7=_.forwardRef((e,t)=>{const r=Ji(bo,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=_.useState(!1),l=e.orientation==="horizontal",c=yw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return wh(r.viewport,c),wh(r.content,c),s.jsx(ei,{present:n||i,children:s.jsx(IA,{"data-state":i?"visible":"hidden",...a,ref:t})})}),IA=_.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ji(bo,e.__scopeScrollArea),i=_.useRef(null),o=_.useRef(0),[l,c]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=T7(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Ide(h,o.current,l,m)}return r==="horizontal"?s.jsx(Pde,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=O3(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Ode,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=O3(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Pde=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ji(bo,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=kt(t,c,i.onScrollbarXChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(N7,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),k7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:e1(o.paddingLeft),paddingEnd:e1(o.paddingRight)}})}})}),Ode=_.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ji(bo,e.__scopeScrollArea),[o,l]=_.useState(),c=_.useRef(null),u=kt(t,c,i.onScrollbarYChange);return _.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(N7,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),k7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:e1(o.paddingTop),paddingEnd:e1(o.paddingBottom)}})}})}),[Dde,S7]=y7(bo),N7=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ji(bo,r),[v,p]=_.useState(null),g=kt(t,C=>p(C)),x=_.useRef(null),y=_.useRef(""),w=m.viewport,b=n.content-n.viewport,j=An(d),N=An(c),S=yw(f,10);function E(C){if(x.current){const T=C.clientX-x.current.left,A=C.clientY-x.current.top;u({x:T,y:A})}}return _.useEffect(()=>{const C=T=>{const A=T.target;(v==null?void 0:v.contains(A))&&j(T,b)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,b,j]),_.useEffect(N,[n,N]),wh(v,S),wh(m.content,S),s.jsx(Dde,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:An(i),onThumbPointerUp:An(o),onThumbPositionChange:N,onThumbPointerDown:An(l),children:s.jsx(lt.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:nt(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:nt(e.onPointerMove,E),onPointerUp:nt(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Jy="ScrollAreaThumb",E7=_.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=S7(Jy,e.__scopeScrollArea);return s.jsx(ei,{present:r||a.hasThumb,children:s.jsx(Rde,{ref:t,...n})})}),Rde=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ji(Jy,r),o=S7(Jy,r),{onThumbPositionChange:l}=o,c=kt(t,f=>o.onThumbChange(f)),u=_.useRef(),d=yw(()=>{u.current&&(u.current(),u.current=void 0)},100);return _.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Fde(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(lt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:nt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),v=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:v,y:p})}),onPointerUp:nt(e.onPointerUp,o.onThumbPointerUp)})});E7.displayName=Jy;var FA="ScrollAreaCorner",C7=_.forwardRef((e,t)=>{const r=Ji(FA,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Mde,{...e,ref:t}):null});C7.displayName=FA;var Mde=_.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ji(FA,r),[i,o]=_.useState(0),[l,c]=_.useState(0),u=!!(i&&l);return wh(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),wh(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(lt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function e1(e){return e?parseInt(e,10):0}function T7(e,t){const r=e/t;return isNaN(r)?0:r}function xw(e){const t=T7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ide(e,t,r,n="ltr"){const a=xw(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return A7([c,u],f)(e)}function O3(e,t,r="ltr"){const n=xw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=TN(e,c);return A7([0,o],[0,l])(u)}function A7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function k7(e,t){return e>0&&e<t}var Fde=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function yw(e,t){const r=An(e),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function wh(e,t){const r=An(t);Rn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function $de(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=_.Children.only(n);return _.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var P7=b7,Lde=_7,Bde=C7;const $A=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(P7,{ref:n,className:xe("relative overflow-hidden",e),...r,children:[s.jsx(Lde,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(O7,{}),s.jsx(Bde,{})]}));$A.displayName=P7.displayName;const O7=_.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(MA,{ref:n,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(E7,{className:"relative flex-1 rounded-full bg-border"})}));O7.displayName=MA.displayName;function D7(e,t){const[r,n]=_.useState([]),[a,i]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!1);return _.useEffect(()=>{if(!t){n([]),i([]),l([]);return}(async()=>{u(!0);try{const f=We(t,"yyyy-MM-dd");console.log("Buscando disponibilidade para sala:",e.id,"data:",f);const{data:h,error:m}=await Z.rpc("get_room_availability",{p_room_id:e.id,p_date:f});if(m){console.error("Error fetching room availability:",m);const{data:S,error:E}=await Z.from("room_schedules").select("start_time, end_time").eq("room_id",e.id).eq("weekday",We(t,"EEEE").toLowerCase()).maybeSingle();if(!E&&S){const C=parseInt(S.start_time.split(":")[0]),T=parseInt(S.end_time.split(":")[0]),A=[];for(let k=C;k<=T;k++)A.push(`${k.toString().padStart(2,"0")}:00`);n(A.slice(0,-1)),i(A.slice(1)),l([])}else n([]),i([]),l([]);return}if(console.log("Dados de disponibilidade recebidos:",h),!h||h.length===0){console.log(`Sala ${e.name} fechada na data ${f}`),n([]),i([]),l([]);return}const v=[],p=[],g=[];h.forEach(S=>{S.is_available?S.blocked_reason==="Horrio de trmino"?g.push(S.hour):v.push(S.hour):p.push(S.hour)});const x=v.filter(S=>!g.includes(S)),y=[...v,...g],w=S=>S.sort((E,C)=>{const T=parseInt(E.split(":")[0]),A=parseInt(C.split(":")[0]);return T-A}),b=w(x),j=w(y),N=w(p);console.log("Horrios disponveis para incio:",b),console.log("Horrios disponveis para trmino:",j),console.log("Horrios bloqueados:",N),n(b),i(j),l(N)}catch(f){console.error("Error in fetchAvailability:",f)}finally{u(!1)}})()},[t,e]),{availableHours:r,availableEndTimes:a,blockedHours:o,isLoading:c}}const D3=(e,t)=>{const[r,n]=t.split(":").map(Number),a=new Date(e);return a.setHours(r,n,0,0),a},t1=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return`${t}-${r}-${n}T${a}:${i}:${o}`},Ude=e=>{const t=e.replace(/[+-]\d{2}:\d{2}$|Z$/,"");return new Date(t)};function qde(e,t){const[r,n]=_.useState(!1);return{handleReserve:async(i,o)=>{n(!0);const l=(await Z.auth.getUser()).data.user;if(!l)return tt({variant:"destructive",title:"Erro de autenticao",description:"Usurio no autenticado."}),n(!1),null;try{const{data:c,error:u}=await Z.from("profiles").select("branch_id").eq("id",l.id).maybeSingle();if(u)throw u;console.log("Adicionando reserva ao carrinho via RPC add_to_cart");const{data:d,error:f}=await Z.rpc("add_to_cart",{p_user_id:l.id,p_item_type:"room",p_item_id:e.id,p_quantity:1,p_metadata:{room_name:e.name,start_time:t1(i),end_time:t1(o),date:We(i,"yyyy-MM-dd"),start_hour:We(i,"HH:mm"),end_hour:We(o,"HH:mm")}});if(f)throw console.error("Erro no add_to_cart:",f),f;return console.log("Reserva adicionada ao carrinho com sucesso:",d),d}catch(c){return console.error("Error creating reservation:",c),tt({variant:"destructive",title:"Erro ao reservar",description:c.message||"Ocorreu um erro ao reservar a sala."}),null}finally{n(!1)}},loading:r}}function zde(e){const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const{data:a,error:i}=await Z.from("room_schedules").select("*").eq("room_id",e);if(i){console.error("Erro ao buscar horrios da sala:",i);return}r(a||[])})()},[e]),t}const ax=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},Hde=({room:e,onClose:t})=>{const[r,n]=_.useState(null),[a,i]=_.useState(null),[o,l]=_.useState(null),{availableHours:c,availableEndTimes:u,blockedHours:d,isLoading:f}=D7(e,r),{handleReserve:h,loading:m}=qde(e),v=zde(e.id),p=_.useRef(null),g=_.useRef(null),x=F.useMemo(()=>{if(a&&o&&e.price_per_hour){const b=ax(a),N=(ax(o)-b)/60;return N>0?e.price_per_hour*N:0}return 0},[a,o,e.price_per_hour]);_.useEffect(()=>{r&&p.current&&setTimeout(()=>{var b;(b=p.current)==null||b.scrollIntoView({behavior:"smooth",block:"center"})},100)},[r]),_.useEffect(()=>{a&&g.current&&setTimeout(()=>{var b;(b=g.current)==null||b.scrollIntoView({behavior:"smooth",block:"center"})},100)},[a]);const y=b=>{const j=b.getDay();if(v.length>0){const S=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][j];return v.some(C=>C.weekday.toLowerCase()===S)}return e.open_days&&e.open_days.length>0?e.open_days.includes(j):j>=1&&j<=5},w=async()=>{if(!r||!a||!o){tt({variant:"destructive",title:"Dados incompletos",description:"Por favor preencha todos os campos"});return}const b=ax(a),j=ax(o);if(b>=j){tt({variant:"destructive",title:"Horrio invlido",description:"O horrio de trmino deve ser posterior ao de incio"});return}const N=new Date(r),[S,E]=a.split(":");N.setHours(parseInt(S),parseInt(E),0,0);const C=new Date(r),[T,A]=o.split(":");C.setHours(parseInt(T),parseInt(A),0,0),await h(N,C)&&(tt({title:"Reserva adicionada ao carrinho!",description:"Voc tem 15 minutos para finalizar o pagamento."}),t())};return s.jsxs(de,{className:"w-full max-w-md mx-auto shadow-lg border-0",children:[s.jsx(Se,{className:"pb-4",children:s.jsx($e,{className:"text-lg font-semibold text-center",children:"Reservar Sala"})}),s.jsxs(me,{className:"p-0",children:[s.jsx($A,{className:"h-[500px] px-6",children:s.jsxs("div",{className:"space-y-6 pb-6",children:[s.jsx(de,{className:"bg-muted/50",children:s.jsxs(me,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Preo por hora: "}),s.jsx("span",{className:"text-primary font-semibold",children:st(e.price_per_hour||0)})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Selecione a data"}),s.jsx(Hc,{mode:"single",selected:r,onSelect:b=>{n(b),i(null),l(null)},locale:ir,className:"border rounded-md p-2 w-full",disabled:b=>{const j=new Date;return j.setHours(0,0,0,0),b<j?!0:!y(b)}})]}),f&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Carregando disponibilidade..."})]}),r&&!f&&s.jsxs("div",{ref:p,className:"space-y-3",children:[s.jsx(Fr,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Selecione o horrio"}),s.jsx(gw,{availableHours:c,availableEndTimes:u,blockedHours:d,selectedStartTime:a,selectedEndTime:o,onSelectStartTime:i,onSelectEndTime:l,minimumIntervalMinutes:e.minimum_interval_minutes||60})]})]}),a&&o&&s.jsxs("div",{ref:g,className:"space-y-4",children:[s.jsx(Fr,{}),s.jsx(de,{className:"bg-primary/5 border-primary/20",children:s.jsxs(me,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Resumo da reserva"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Sala:"}),s.jsx("span",{className:"font-medium",children:e.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Data:"}),s.jsx("span",{className:"font-medium",children:r&&We(r,"dd 'de' MMMM 'de' yyyy",{locale:ir})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Horrio:"}),s.jsx("span",{className:"font-medium",children:`${a} - ${o}`})]}),s.jsx(Fr,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold text-primary",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:st(x)})]})]})]})})]})]})}),a&&o&&s.jsx("div",{className:"px-6 py-4 border-t bg-background",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(re,{variant:"outline",onClick:t,disabled:m,className:"flex-1",children:"Cancelar"}),s.jsx(re,{onClick:w,disabled:m,className:"flex-1 bg-primary hover:bg-primary/90",children:m?"Adicionando...":"Adicionar ao Carrinho"})]})})]})]})},Vde=({selectedDate:e,onDateChange:t})=>s.jsxs(gA,{children:[s.jsx(xA,{asChild:!0,children:s.jsxs(re,{variant:"outline",className:xe("w-[240px] h-11 justify-start text-left font-normal bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",!e&&"text-muted-foreground"),children:[s.jsx(Ir,{className:"mr-2 h-4 w-4"}),e?We(e,"PPP",{locale:ir}):s.jsx("span",{children:"Selecione uma data"})]})}),s.jsx(iw,{className:"w-auto p-0",align:"start",children:s.jsx(Hc,{mode:"single",selected:e,onSelect:t,disabled:r=>r<new Date||r<new Date("1900-01-01"),initialFocus:!0,locale:ir})})]}),Wde=({startTime:e,endTime:t,onStartTimeChange:r,onEndTimeChange:n})=>{const i=(()=>{const c=[];for(let u=6;u<=23;u++){const d=`${u.toString().padStart(2,"0")}:00`;c.push(d)}return c})(),o=()=>{if(!e||e==="all")return i;const c=parseInt(e.split(":")[0]);return i.filter(u=>parseInt(u.split(":")[0])>c)},l=c=>{r(c),c==="all"&&n("all")};return s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs(zt,{value:e,onValueChange:l,children:[s.jsx($t,{className:"w-[120px] h-10 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",id:"start-time",children:s.jsx(Ht,{placeholder:"Incio"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Qualquer"}),i.map(c=>s.jsx(Xe,{value:c,children:c},c))]})]})}),s.jsx("span",{className:"text-muted-foreground text-sm",children:"at"}),s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs(zt,{value:t,onValueChange:n,disabled:!e||e==="all",children:[s.jsx($t,{className:"w-[120px] h-10 bg-white/80 border-secondary/40 hover:border-primary/50 transition-all duration-200",id:"end-time",children:s.jsx(Ht,{placeholder:"Fim"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Qualquer"}),o().map(c=>s.jsx(Xe,{value:c,children:c},c))]})]})})]})},ys=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},R7=e=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()],Gde=async(e,t,r,n)=>{try{console.log(` Verificando horrio da sala ${e} para ${t}: ${r}-${n}`);const{data:a,error:i}=await Z.from("room_schedules").select("start_time, end_time").eq("room_id",e).eq("weekday",t);if(i)return console.error(" Error checking room schedule:",i),!1;if(!a||a.length===0)return console.log(` Nenhum horrio cadastrado para ${t}`),!1;console.log(" Horrios encontrados:",a);const o=ys(r),l=ys(n);console.log(` Horrio solicitado: ${o}-${l} minutos`);const c=a.some(u=>{const d=ys(u.start_time),f=ys(u.end_time);console.log(` Horrio da sala: ${d}-${f} minutos`);const h=o>=d,m=l<=f;return console.log(` Incio OK: ${h}, Fim OK: ${m}`),h&&m});return console.log(` Resultado final: ${c?"VLIDO":"INVLIDO"}`),c}catch(a){return console.error(" Error in checkRoomSchedule:",a),!1}},Kde=({searchTerm:e="",selectedCity:t="all",selectedDate:r,startTime:n="all",endTime:a="all"})=>it({queryKey:["filtered-rooms",e,t,r,n,a],queryFn:async()=>{let i=Z.from("rooms").select(`
          *,
          room_photos(
            id,
            url
          )
        `).eq("is_active",!0);e&&(i=i.or(`name.ilike.%${e}%,description.ilike.%${e}%`));const{data:o,error:l}=await i;if(l)throw console.error("Erro ao buscar salas:",l),l;if(!o)return[];let c=o;if(t&&t!=="all"){const{data:m}=await Z.from("branches").select("id").eq("city",t);if(m&&m.length>0){const v=m.map(p=>p.id);c=o.filter(p=>v.includes(p.branch_id))}else return[]}const u=await Promise.all(c.map(async m=>{const{data:v}=await Z.from("branches").select("id, name, city, street, number, neighborhood").eq("id",m.branch_id).single();return{...m,branches:v}}));if(!r)return console.log("Retornando todas as salas - sem data selecionada"),u;const d=[],f=R7(r),h=n!=="all"&&n||a!=="all"&&a;console.log("Aplicando filtros de data",{selectedDate:r,weekday:f,startTime:n,endTime:a,hasTimeFilter:h});for(const m of u)try{if(console.log(`Verificando sala ${m.name} (${m.id}) para ${f}`),h){const v=n!=="all"?n:"06:00",p=a!=="all"?a:"23:00",g=await Gde(m.id,f,v,p);if(console.log(`Sala ${m.name} - horrio especfico vlido:`,g),!g){console.log(`Sala ${m.name} no funciona em ${f} no horrio ${v}-${p}`);continue}if(n!=="all"&&a==="all"){const{data:x}=await Z.from("room_schedules").select("start_time, end_time").eq("room_id",m.id).eq("weekday",f);if(x&&x.length>0){const y=x[0],w=ys(y.start_time),b=ys(y.end_time),j=ys(n);j>=w&&j<b&&d.push(m)}}else await Xde(m.id,r,v,p)&&d.push(m)}else{const{data:v,error:p}=await Z.from("room_schedules").select("id").eq("room_id",m.id).eq("weekday",f);if(p){console.error("Error checking room schedule:",p);continue}const g=v&&v.length>0;console.log(`Sala ${m.name} - funciona em ${f}:`,g),g?d.push(m):console.log(`Sala ${m.name} no funciona em ${f}`)}}catch(v){console.error(`Erro ao processar sala ${m.id}:`,v)}return d},enabled:!0}),Xde=async(e,t,r,n)=>{const a=We(t,"yyyy-MM-dd"),i=R7(t);try{const{data:o}=await Z.from("room_schedules").select("start_time, end_time").eq("room_id",e).eq("weekday",i);if(!o||o.length===0)return console.log(` Sala no funciona em ${i}`),!1;const l=o[0],c=ys(l.start_time),u=ys(l.end_time),d=ys(r),f=ys(n);if(d<c||f>u)return console.log(` Horrio ${r}-${n} fora do funcionamento ${l.start_time}-${l.end_time}`),!1;const{data:h}=await Z.from("bookings").select("start_time, end_time").eq("room_id",e).gte("start_time",`${a} 00:00:00`).lt("start_time",`${a} 23:59:59`).not("status","in","(recused)");if(h&&h.length>0)for(const v of h){const p=new Date(v.start_time),g=new Date(v.end_time),x=new Date(`${a} ${r}:00`),y=new Date(`${a} ${n}:00`);if(x<g&&y>p)return console.log(` Conflito com reserva: ${v.start_time} - ${v.end_time}`),!1}const{data:m}=await Z.from("cart_items").select(`
        reserved_booking_id,
        bookings!inner(
          start_time,
          end_time,
          room_id
        )
      `).eq("bookings.room_id",e).gte("bookings.start_time",`${a} 00:00:00`).lt("bookings.start_time",`${a} 23:59:59`).gt("expires_at",new Date().toISOString());if(m&&m.length>0)for(const v of m){const p=v.bookings;if(p){const g=new Date(p.start_time),x=new Date(p.end_time),y=new Date(`${a} ${r}:00`),w=new Date(`${a} ${n}:00`);if(y<x&&w>g)return console.log(` Conflito com item no carrinho: ${p.start_time} - ${p.end_time}`),!1}}return console.log(` Horrio ${r}-${n} disponvel`),!0}catch(o){return console.error("Erro ao verificar disponibilidade:",o),!1}},Yde=({children:e,className:t,title:r,description:n})=>s.jsx(de,{className:xe("card-3d bg-white/90 backdrop-blur-sm border-primary/20 shadow-3d hover:shadow-3d-hover transition-all duration-300 mb-6",t),children:s.jsxs(me,{className:"p-4 md:p-6",children:[(r||n)&&s.jsxs("div",{className:"mb-4 md:mb-6",children:[r&&s.jsx("h2",{className:"text-lg md:text-xl font-semibold text-primary mb-2",children:r}),n&&s.jsx("p",{className:"text-sm text-muted-foreground",children:n})]}),e]})}),Qde=({value:e,onChange:t,placeholder:r="Buscar...",className:n})=>s.jsxs("div",{className:xe("relative",n),children:[s.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Oe,{placeholder:r,value:e,onChange:a=>t(a.target.value),className:"pl-10 h-11 text-base bg-white/80 backdrop-blur-sm border-secondary/30 focus:border-primary/50 focus:shadow-soft focus:bg-white transition-all duration-200 placeholder:text-muted-foreground/70"})]}),Zde=({children:e,className:t,columns:r=4})=>{const n={1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-5",6:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-6"};return s.jsx("div",{className:xe("grid gap-4 items-end",n[r],t),children:e})},Xj=({label:e,children:t,className:r,required:n=!1,icon:a})=>s.jsxs("div",{className:xe("space-y-2",r),children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a,e,n&&s.jsx("span",{className:"text-destructive",children:"*"})]}),t]}),Jde=({onFilter:e,onClear:t,isFilterDisabled:r=!1,isClearDisabled:n=!1,hasActiveFilters:a=!1,activeFilterCount:i=0,className:o,showFilterCount:l=!0})=>s.jsxs("div",{className:xe("flex flex-col sm:flex-row gap-3",o),children:[s.jsxs("div",{className:"flex gap-2 flex-1",children:[e&&s.jsxs(re,{onClick:e,className:"flex-1 h-11 bg-primary hover:bg-primary/90 text-primary-foreground shadow-soft hover:shadow-medium transition-all duration-200",disabled:r,children:[s.jsx(are,{className:"mr-2 h-4 w-4"}),"Filtrar"]}),t&&a&&s.jsx(re,{variant:"outline",onClick:t,className:"h-11 px-4 bg-white/80 border-secondary/40 text-secondary-foreground hover:bg-secondary/10 hover:border-secondary/60 transition-all duration-200",disabled:n,children:s.jsx(FL,{className:"h-4 w-4"})})]}),l&&a&&s.jsx("div",{className:"flex items-center",children:s.jsxs(Re,{className:"bg-accent/15 text-accent-foreground border-accent/30 px-3 py-1",children:[s.jsx(uN,{className:"mr-1 h-3 w-3"}),i," ",i===1?"filtro":"filtros"]})})]}),efe=()=>{const{user:e}=Gt(),[t,r]=_.useState(null),[n,a]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState(void 0),[f,h]=_.useState("all"),[m,v]=_.useState("all"),[p,g]=_.useState(!0),[x,y]=_.useState(!1),{isCityRequired:w,validateCitySelection:b}=TA({selectedCity:l,pageName:"salas"}),[j,N]=_.useState({street:"",number:"",neighborhood:"",city:""});_.useEffect(()=>{(async()=>{console.log("Buscando perfil da empresa...");const{data:B,error:M}=await Z.from("branches").select("street, number, neighborhood, city").limit(1).maybeSingle();B&&!M?(console.log("Perfil da empresa encontrado:",B),N(B)):(console.log("Nenhum perfil de empresa encontrado, usando dados padro"),N({street:"",number:"",neighborhood:"",city:"Cidade no configurada"}))})()},[]);const{data:S,isLoading:E,error:C}=Kde({searchTerm:i,selectedCity:l,selectedDate:u,startTime:f,endTime:m}),T=L=>{if(e){if(l==="all"||!l){y(!0);return}const B=S==null?void 0:S.find(M=>M.id===L);B&&(r(B),a(!0))}},A=()=>j.street?`${j.street}, ${j.number} - ${j.neighborhood}, ${j.city}`:"",k=S,P=(k==null?void 0:k.map(L=>{var B;return{id:L.id,title:L.name,description:L.description,price:L.price_per_hour,priceLabel:"por hora",images:((B=L.room_photos)==null?void 0:B.map(M=>M.url))||[],status:"available",location:L.branches?`${L.branches.street}, ${L.branches.number} - ${L.branches.neighborhood}, ${L.branches.city}`:A()}}))||[];return s.jsx(Er,{children:s.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8",children:[s.jsx(fm,{title:"Salas Disponveis",description:"Encontre e reserve a sala perfeita para suas necessidades"}),w&&p&&s.jsx(AA,{pageName:"salas",onDismiss:()=>g(!1)}),s.jsxs(Yde,{children:[s.jsx(Qde,{placeholder:"Buscar salas por nome ou descrio...",value:i,onChange:o}),s.jsxs(Zde,{children:[s.jsx(Xj,{label:"Cidade",children:s.jsx(P9,{selectedCity:l,onCityChange:c,placeholder:"Todas as cidades"})}),s.jsx(Xj,{label:"Data",children:s.jsx(Vde,{selectedDate:u,onDateChange:d})}),s.jsx(Xj,{label:"Horrio",children:s.jsx(Wde,{startTime:f,endTime:m,onStartTimeChange:h,onEndTimeChange:v})})]}),s.jsx(Jde,{onClear:()=>{o(""),c("all"),d(void 0),h("all"),v("all")},hasActiveFilters:!!(i||l!=="all"||u||f!=="all"||m!=="all"),activeFilterCount:[i,l!=="all",u,f!=="all",m!=="all"].filter(Boolean).length})]}),s.jsx(CA,{items:P,isLoading:E,error:C,onItemAction:T,actionLabel:"Reservar Sala",emptyTitle:"Nenhuma sala encontrada",emptyDescription:"Ajuste os filtros ou tente novamente mais tarde",emptyIcon:xl,variant:"room",resultCount:k==null?void 0:k.length}),s.jsx(_n,{open:n,onOpenChange:a,children:s.jsxs(un,{className:"max-w-md",children:[s.jsx(In,{children:s.jsx(dn,{children:"Reservar Sala"})}),t&&s.jsx(Hde,{room:t,onClose:()=>a(!1)})]})}),s.jsx(DA,{isOpen:x,onClose:()=>y(!1),pageName:"salas"})]})})},tfe=()=>{const{id:e}=nm(),t=Mn(),{toast:r}=Pr(),{addToCart:n}=zc(),[a,i]=_.useState(null),[o,l]=_.useState(null),[c,u]=_.useState(null),{availableHours:d,availableEndTimes:f,blockedHours:h}=D7(m||null,a),{data:m,isLoading:v}=it({queryKey:["room-detail",e],queryFn:async()=>{if(!e)throw new Error("ID da sala no fornecido");const{data:g,error:x}=await Z.from("rooms").select(`
          *,
          room_photos (
            id,
            url
          )
        `).eq("id",e).eq("is_active",!0).single();if(x)throw x;return g},enabled:!!e}),p=()=>{if(!m||!a||!o||!c){r({variant:"destructive",title:"Dados incompletos",description:"Por favor, selecione data, horrio de incio e fim"});return}const g=new Date(a),[x,y]=o.split(":");g.setHours(parseInt(x),parseInt(y),0,0);const w=new Date(a),[b,j]=c.split(":");w.setHours(parseInt(b),parseInt(j),0,0);const N=(w.getTime()-g.getTime())/(1e3*60*60),S=m.price_per_hour*N;n({itemType:"room",itemId:m.id,quantity:1,metadata:{start_time:g.toISOString(),end_time:w.toISOString(),date:We(a,"dd/MM/yyyy"),start_time_display:o,end_time_display:c,duration:N,total_price:S}}),r({title:"Sala adicionada ao carrinho!",description:`${m.name} foi reservada temporariamente por 15 minutos`}),t("/cart")};return v?s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):m?s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[m.room_photos&&m.room_photos.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:m.room_photos[0].url,alt:m.name,className:"w-full h-64 object-cover rounded-lg"}),m.room_photos.length>1&&s.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.room_photos.slice(1,4).map(g=>s.jsx("img",{src:g.url,alt:m.name,className:"w-full h-20 object-cover rounded"},g.id))})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(xo,{className:"h-5 w-5"}),m.name]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:m.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Preo"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[st(m.price_per_hour),"/hora"]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Comodidades"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.has_wifi&&s.jsxs(Re,{variant:"secondary",children:[s.jsx(yre,{className:"h-3 w-3 mr-1"}),"Wi-Fi"]}),m.has_ac&&s.jsxs(Re,{variant:"secondary",children:[s.jsx(bre,{className:"h-3 w-3 mr-1"}),"Ar Condicionado"]}),m.has_tv&&s.jsxs(Re,{variant:"secondary",children:[s.jsx(gre,{className:"h-3 w-3 mr-1"}),"TV"]}),m.has_private_bathroom&&s.jsxs(Re,{variant:"secondary",children:[s.jsx(Zte,{className:"h-3 w-3 mr-1"}),"Banheiro Privativo"]}),m.has_tables&&s.jsx(Re,{variant:"secondary",children:"Mesa"}),m.has_chairs&&s.jsx(Re,{variant:"secondary",children:"Cadeiras"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Horrio de Funcionamento"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Varia por dia da semana - consulte na reserva"})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-5 w-5"}),"Reservar Sala"]})}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Selecione a data"}),s.jsx(Hc,{mode:"single",selected:a,onSelect:g=>{i(g),l(null),u(null)},locale:ir,className:"border rounded-md p-2",disabled:g=>{const x=new Date;return x.setHours(0,0,0,0),g<x}})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx(Fr,{}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Wn,{className:"h-4 w-4"}),"Horrio"]}),s.jsx(gw,{availableHours:d,availableEndTimes:f,blockedHours:h,selectedStartTime:o,selectedEndTime:c,onSelectStartTime:l,onSelectEndTime:u,minimumIntervalMinutes:(m==null?void 0:m.minimum_interval_minutes)||60})]})]}),o&&c&&a&&s.jsxs(s.Fragment,{children:[s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Resumo da Reserva"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Data:"}),s.jsx("span",{children:We(a,"dd 'de' MMMM 'de' yyyy",{locale:ir})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Horrio:"}),s.jsxs("span",{children:[o," - ",c]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Durao:"}),s.jsx("span",{children:(()=>{const g=new Date,[x,y]=o.split(":");g.setHours(parseInt(x),parseInt(y));const w=new Date,[b,j]=c.split(":");return w.setHours(parseInt(b),parseInt(j)),`${(w.getTime()-g.getTime())/(1e3*60*60)}h`})()})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:(()=>{const g=new Date,[x,y]=o.split(":");g.setHours(parseInt(x),parseInt(y));const w=new Date,[b,j]=c.split(":");w.setHours(parseInt(b),parseInt(j));const N=(w.getTime()-g.getTime())/(1e3*60*60);return st(m.price_per_hour*N)})()})]})]}),s.jsx(re,{onClick:p,className:"w-full",size:"lg",children:"Adicionar ao Carrinho"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"* A sala ser reservada temporariamente por 15 minutos para voc finalizar o pagamento"})]})]})]})]})})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Sala no encontrada"}),s.jsx(re,{onClick:()=>t("/rooms"),children:"Voltar para Salas"})]})})})},rfe="https://fgiidcdsvmqxdkclgety.supabase.co",nfe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZnaWlkY2Rzdm1xeGRrY2xnZXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU0NDY3NDksImV4cCI6MjA2MTAyMjc0OX0.Wwc-QQghL_Z7XE4S_VuweP01TCW6id07LZRht6gynAM",hf=AT(rfe,nfe);function Kr(){const{user:e}=Gt(),[t,r]=_.useState(""),[n,a]=_.useState([]),[i,o]=_.useState(!1);return _.useEffect(()=>{(async()=>{if(e)try{const{data:c,error:u}=await hf.from("profiles").select("branch_id, role").eq("id",e.id).maybeSingle();if(c&&!u){r(c.branch_id||"");const d=c.role==="admin"&&(e.email==="cpd@sapiens-psi.com.br"||e.email==="admin@example.com");o(d)}if(i){const{data:d,error:f}=await hf.from("branches").select("id, name, city").order("name");d&&!f&&a(d)}}catch(c){console.error("Erro ao buscar dados da filial:",c)}else r(""),a([]),o(!1)})()},[e,i]),{branchId:t,setBranchId:r,branches:n,isSuperAdmin:i}}const afe=()=>{const[e,t]=_.useState({street:"",number:"",neighborhood:"",city:"",name:""}),{branchId:r}=Kr();return _.useEffect(()=>{(async()=>{if(!r)return;const{data:i,error:o}=await Z.from("branches").select("street, number, neighborhood, city, name").eq("id",r).maybeSingle();i&&!o&&t(i)})()},[r]),{companyAddress:e,formatAddress:()=>e.street?`${e.street}, ${e.number} - ${e.neighborhood}, ${e.city}`:""}},ife=({selectedDate:e,onDateSelect:t,isDateDisabled:r})=>s.jsxs("div",{className:"bg-card rounded-lg p-4 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium mb-3 text-center",children:"Selecione uma data"}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Hc,{mode:"single",selected:e,onSelect:t,className:"rounded-md border mx-auto max-w-full",disabled:r,locale:ir})})]}),sfe=({quantity:e,setQuantity:t,maxQuantity:r})=>s.jsxs("div",{className:"bg-card rounded-lg p-4 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Quantidade"}),s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(re,{variant:"outline",size:"icon",onClick:()=>t(Math.max(1,e-1)),disabled:e<=1,children:"-"}),s.jsx("span",{className:"w-8 text-center font-medium",children:e}),s.jsx(re,{variant:"outline",size:"icon",onClick:()=>t(Math.min(r,e+1)),disabled:e>=r,children:"+"})]})]});function ofe(e){const[t,r]=_.useState([]);return _.useEffect(()=>{(async()=>{const{data:a,error:i}=await Z.from("equipment_schedules").select("*").eq("equipment_id",e);if(i){console.error("Erro ao buscar horrios do equipamento:",i);return}r(a||[])})()},[e]),t}const lfe=e=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e];function cfe({equipment:e,initialDate:t=null,initialStartTime:r=null,initialEndTime:n=null}){const[a,i]=_.useState(t),[o,l]=_.useState(r),[c,u]=_.useState(n),[d,f]=_.useState([]),[h,m]=_.useState([]),[v,p]=_.useState([]),g=_.useRef(null),x=_.useRef(null),y=ofe(e.id),w=S=>{const E=S.getDay();if(y.length>0){const T=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][E];return y.some(k=>k.weekday.toLowerCase()===T)}if(e.open_days&&e.open_days.length>0){const C=lfe(E);return e.open_days.includes(C)}return E>=1&&E<=5},b=S=>{const E=new Date;return E.setHours(0,0,0,0),S<E?!0:!w(S)},j=S=>{S&&(i(S),l(null),u(null))},N=S=>{l(S),u(null),setTimeout(()=>{var E;(E=x.current)==null||E.scrollIntoView({behavior:"smooth",block:"start"})},100)};return _.useEffect(()=>{(async()=>{if(!a){f([]),m([]),p([]);return}try{const E=a.toISOString().split("T")[0];console.log("Buscando disponibilidade para equipamento:",e.id,"data:",E);const{data:C,error:T}=await Z.rpc("get_equipment_availability",{p_equipment_id:e.id,p_date:E,p_requested_quantity:1});if(T){console.error("Error fetching equipment availability:",T);return}if(console.log("Dados de disponibilidade recebidos:",C),!C||C.length===0){console.log(`Equipamento ${e.name} fechado na data ${E}`),f([]),m([]),p([]);return}const A=[],k=[];C.forEach(O=>{O.is_available?A.push(O.hour):k.push(O.hour)});const P=[...A].sort((O,W)=>{const ne=parseInt(O.split(":")[0]),ee=parseInt(W.split(":")[0]);return ne-ee}),L=new Set,B=e.close_time||"18:00",M=parseInt(B.split(":")[0]);A.forEach(O=>{const W=parseInt(O.split(":")[0]);for(let ne=W+1;ne<=M;ne++)L.add(`${ne.toString().padStart(2,"0")}:00`)});const D=Array.from(L).sort((O,W)=>{const ne=parseInt(O.split(":")[0]),ee=parseInt(W.split(":")[0]);return ne-ee});console.log("Horrios de incio disponveis:",P),console.log("Horrios de trmino disponveis:",D),console.log("Horrios bloqueados:",k),f(P),m(D),p(k)}catch(E){console.error("Error in fetchAvailableHours:",E),f([]),m([]),p([])}})()},[a,e]),{selectedDate:a,startHour:o,endHour:c,setEndHour:u,availableHours:d,availableEndTimes:h,blockedHours:v,startHourRef:g,endHourRef:x,handleDateSelect:j,handleStartHourSelect:N,isDateDisabled:b}}function ufe({pricePerHour:e,selectedDate:t,startHour:r,endHour:n,quantity:a}){const[i,o]=_.useState(0);return _.useEffect(()=>{if(t&&r&&n&&a){const l=r.split(":"),c=n.split(":"),u=parseInt(l[0]);let f=parseInt(c[0])-u;f<=0&&(f=0);const h=e*f*a;o(h)}},[t,r,n,a,e]),{bookingTotal:i}}function dfe({initialQuantity:e=1,maxQuantity:t}){const[r,n]=_.useState(e);return{quantity:r,setQuantity:i=>{const o=Math.max(1,Math.min(t,i));n(o)}}}function ffe({equipmentId:e,selectedDate:t,startHour:r,endHour:n,quantity:a,onSuccess:i}){const{user:o}=Gt(),[l,c]=_.useState(!1);return{isSubmitting:l,handleSubmit:async()=>{if(!o){yn.error("Voc precisa estar logado para fazer uma reserva");return}if(!t||!r||!n){yn.error("Por favor, selecione data e horrios");return}c(!0);try{const d=D3(t,r),f=D3(t,n),{data:h,error:m}=await Z.from("equipment").select("name, price_per_hour").eq("id",e).single();if(m)throw m;console.log("Adicionando equipamento ao carrinho via RPC add_to_cart");const{data:v,error:p}=await Z.rpc("add_to_cart",{p_user_id:o.id,p_item_type:"equipment",p_item_id:e,p_quantity:a,p_metadata:{equipment_name:h.name,start_time:t1(d),end_time:t1(f),date:t.toISOString().split("T")[0],start_hour:r,end_hour:n}});if(p)throw console.error("Erro no add_to_cart:",p),p;console.log("Equipamento adicionado ao carrinho com sucesso:",v),yn.success("Equipamento adicionado ao carrinho!"),i()}catch(d){console.error("Error adding equipment to cart:",d),yn.error(`Erro ao fazer reserva: ${d.message}`)}finally{c(!1)}}}}function hfe({equipment:e,initialFilters:t,onClose:r}){const n=cfe({equipment:e,initialDate:t==null?void 0:t.date,initialStartTime:t==null?void 0:t.startTime,initialEndTime:t==null?void 0:t.endTime}),{quantity:a,setQuantity:i}=dfe({initialQuantity:1,maxQuantity:e.quantity}),{bookingTotal:o}=ufe({pricePerHour:e.price_per_hour,selectedDate:n.selectedDate,startHour:n.startHour,endHour:n.endHour,quantity:a}),{isSubmitting:l,handleSubmit:c}=ffe({equipmentId:e.id,selectedDate:n.selectedDate,startHour:n.startHour,endHour:n.endHour,quantity:a,onSuccess:r});return{state:{selectedDate:n.selectedDate,startHour:n.startHour,endHour:n.endHour,quantity:a,bookingTotal:o,isSubmitting:l},refs:{startHourRef:n.startHourRef,endHourRef:n.endHourRef},availableHours:n.availableHours,availableEndTimes:n.availableEndTimes,blockedHours:n.blockedHours,handlers:{handleDateSelect:n.handleDateSelect,handleStartHourSelect:n.handleStartHourSelect,setEndHour:n.setEndHour,setQuantity:i,handleSubmit:c,isDateDisabled:n.isDateDisabled}}}const mfe=({equipment:e,onClose:t,filters:r})=>{const{state:{selectedDate:n,startHour:a,endHour:i,quantity:o,bookingTotal:l,isSubmitting:c},refs:{startHourRef:u,endHourRef:d},availableHours:f,availableEndTimes:h,blockedHours:m,handlers:{handleDateSelect:v,handleStartHourSelect:p,setEndHour:g,setQuantity:x,handleSubmit:y,isDateDisabled:w}}=hfe({equipment:e,initialFilters:r,onClose:t});return _.useEffect(()=>{n&&u.current&&u.current.scrollIntoView({behavior:"smooth",block:"center"})},[n]),_.useEffect(()=>{a&&d.current&&d.current.scrollIntoView({behavior:"smooth",block:"center"})},[a]),s.jsxs(de,{className:"w-full max-w-xl mx-auto",children:[s.jsx(Se,{className:"sticky top-0 z-10 bg-card border-b",children:s.jsxs($e,{className:"text-2xl font-bold text-primary",children:["Reservar ",e.name]})}),s.jsx($A,{className:"h-[70vh] max-h-[500px] overflow-auto",children:s.jsxs(me,{className:"space-y-6 p-6",children:[s.jsx(ife,{selectedDate:n,onDateSelect:v,isDateDisabled:w}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{ref:u,className:"bg-card rounded-lg p-4 shadow-sm",children:f.length?s.jsx(gw,{availableHours:f,blockedHours:m,selectedStartTime:a,selectedEndTime:i,onSelectStartTime:p,onSelectEndTime:g,requireConsecutive:!0,mode:"both",title:"Selecione os horrios",minimumIntervalMinutes:e.minimum_interval_minutes||60}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-red-500 font-medium",children:"Nenhum horrio disponvel para este equipamento."})})}),i&&s.jsx(sfe,{quantity:o,setQuantity:x,maxQuantity:e.quantity}),i&&n&&s.jsxs("div",{className:"bg-card rounded-lg p-4 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Resumo da Reserva"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Equipamento:"}),s.jsx("span",{className:"font-medium",children:e.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Data:"}),s.jsx("span",{className:"font-medium",children:n.toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Horrio:"}),s.jsxs("span",{className:"font-medium",children:[a," s ",i]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Quantidade:"}),s.jsx("span",{className:"font-medium",children:o})]}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["R$ ",l.toFixed(2)]})]})]})]})]})]})}),s.jsxs(eg,{className:"flex justify-end gap-3 p-4 border-t",children:[s.jsx(re,{variant:"outline",onClick:t,className:"w-32",children:"Cancelar"}),a&&i&&s.jsx(re,{onClick:y,disabled:!n||!a||!i||c,className:"w-32",children:c?"Adicionando...":"Adicionar ao Carrinho"})]})]})},pfe=({isOpen:e,onOpenChange:t,selectedEquipment:r,filters:n})=>s.jsx(_n,{open:e,onOpenChange:t,children:s.jsxs(un,{className:"max-w-md max-h-[90vh] overflow-y-auto p-0",hideCloseButton:!0,children:[s.jsxs(dn,{className:"sr-only",children:["Reservar ",(r==null?void 0:r.name)||"Equipamento"]}),r&&s.jsx(mfe,{equipment:r,onClose:()=>t(!1),filters:n})]})}),bs=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},M7=e=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()],vfe=async(e,t,r,n)=>{try{console.log(` Verificando horrio do equipamento ${e} para ${t} (${r}-${n})`);const{data:a,error:i}=await Z.from("equipment_schedules").select("start_time, end_time").eq("equipment_id",e).eq("weekday",t);if(i)return console.error("Erro ao verificar horrio do equipamento:",i),!1;if(!a||a.length===0)return console.log(` Equipamento no funciona em ${t}`),!1;const o=a[0],l=bs(o.start_time),c=bs(o.end_time),u=bs(r),d=bs(n);console.log(` Horrio do equipamento: ${o.start_time}-${o.end_time}`),console.log(` Horrio solicitado: ${r}-${n}`);const f=u>=l&&d<=c;return console.log(" Horrio vlido:",f),f}catch(a){return console.error("Erro na verificao de horrio:",a),!1}},gfe=({searchTerm:e="",selectedCity:t="all",selectedDate:r,startTime:n="all",endTime:a="all"})=>it({queryKey:["filtered-equipment",e,t,r,n,a],queryFn:async()=>{let i=Z.from("equipment").select(`
          *,
          equipment_photos(
            id,
            url
          )
        `).eq("is_active",!0);e&&(i=i.or(`name.ilike.%${e}%,description.ilike.%${e}%`));const{data:o,error:l}=await i;if(l)throw console.error("Erro ao buscar equipamentos:",l),l;if(!o)return[];let c=o;if(t&&t!=="all"){const{data:m}=await Z.from("branches").select("id").eq("city",t);if(m&&m.length>0){const v=m.map(p=>p.id);c=o.filter(p=>v.includes(p.branch_id))}else return[]}const u=await Promise.all(c.map(async m=>{const{data:v}=await Z.from("branches").select("id, name, city, street, number, neighborhood").eq("id",m.branch_id).maybeSingle();return{...m,branches:v,available:m.quantity}}));if(console.log("Debug filtros:",{selectedDate:r,startTime:n,endTime:a,hasDate:!!r,startTimeIsAll:n==="all",endTimeIsAll:a==="all"}),!r||n==="all"&&a==="all")return console.log("Retornando todos os equipamentos - sem filtros de data/horrio"),u;const d=[],f=M7(r),h=n!=="all"&&n||a!=="all"&&a;console.log("Aplicando filtros de data",{selectedDate:r,weekday:f,startTime:n,endTime:a,hasTimeFilter:h});for(const m of u)try{if(console.log(`Verificando equipamento ${m.name} (${m.id}) para ${f}`),h){const v=n!=="all"?n:"06:00",p=a!=="all"?a:"23:00",g=await vfe(m.id,f,v,p);if(console.log(`Equipamento ${m.name} - horrio especfico vlido:`,g),!g){console.log(`Equipamento ${m.name} no funciona em ${f} no horrio ${v}-${p}`);continue}if(n!=="all"&&a==="all"){const{data:x}=await Z.from("equipment_schedules").select("start_time, end_time").eq("equipment_id",m.id).eq("weekday",f);if(x&&x.length>0){const y=x[0],w=bs(y.start_time),b=bs(y.end_time),j=bs(n);j>=w&&j<b&&d.push(m)}}else await xfe(m.id,r,v,p)&&d.push(m)}else{const{data:v,error:p}=await Z.from("equipment_schedules").select("id").eq("equipment_id",m.id).eq("weekday",f);if(p){console.error("Error checking equipment schedule:",p);continue}const g=v&&v.length>0;console.log(`Equipamento ${m.name} - funciona em ${f}:`,g),g?d.push(m):console.log(`Equipamento ${m.name} no funciona em ${f}`)}}catch(v){console.error(`Erro ao processar equipamento ${m.id}:`,v)}return d},enabled:!0}),xfe=async(e,t,r,n)=>{const a=We(t,"yyyy-MM-dd"),i=M7(t);try{const{data:o}=await Z.from("equipment_schedules").select("start_time, end_time").eq("equipment_id",e).eq("weekday",i);if(!o||o.length===0)return console.log(` Equipamento no funciona em ${i}`),!1;const l=o[0],c=bs(l.start_time),u=bs(l.end_time),d=bs(r),f=bs(n);if(d<c||f>u)return console.log(` Horrio ${r}-${n} fora do funcionamento ${l.start_time}-${l.end_time}`),!1;const{data:h}=await Z.from("booking_equipment").select("start_time, end_time, quantity").eq("equipment_id",e).gte("start_time",`${a} 00:00:00`).lt("start_time",`${a} 23:59:59`).not("status","in","(recused)");if(h&&h.length>0)for(const v of h){const p=new Date(v.start_time),g=new Date(v.end_time),x=new Date(`${a} ${r}:00`),y=new Date(`${a} ${n}:00`);if(x<g&&y>p)return console.log(` Conflito com reserva: ${v.start_time} - ${v.end_time}`),!1}const{data:m}=await Z.from("cart_items").select(`
        reserved_equipment_booking_id,
        booking_equipment!inner(
          start_time,
          end_time,
          equipment_id,
          quantity
        )
      `).eq("booking_equipment.equipment_id",e).gte("booking_equipment.start_time",`${a} 00:00:00`).lt("booking_equipment.start_time",`${a} 23:59:59`).gt("expires_at",new Date().toISOString());if(m&&m.length>0)for(const v of m){const p=v.booking_equipment;if(p){const g=new Date(p.start_time),x=new Date(p.end_time),y=new Date(`${a} ${r}:00`),w=new Date(`${a} ${n}:00`);if(y<x&&w>g)return console.log(` Conflito com item no carrinho: ${p.start_time} - ${p.end_time}`),!1}}return console.log(` Horrio ${r}-${n} disponvel`),!0}catch(o){return console.error("Erro ao verificar disponibilidade:",o),!1}},yfe=()=>{const{user:e}=Gt(),[t,r]=_.useState(""),[n,a]=_.useState("all"),[i,o]=_.useState(null),[l,c]=_.useState(!1),[u,d]=_.useState(!0),[f,h]=_.useState(!1),{isCityRequired:m,validateCitySelection:v}=TA({selectedCity:n,pageName:"equipamentos"}),[p,g]=_.useState({date:null,startTime:null,endTime:null,city:null}),{formatAddress:x}=afe(),{data:y,isLoading:w,error:b}=gfe({searchTerm:t,selectedCity:n,selectedDate:p.date,startTime:p.startTime||"all",endTime:p.endTime||"all"}),j=()=>{console.log("Aplicando filtros:",p)},N=()=>{g({date:null,startTime:null,endTime:null,city:null})},S=y==null?void 0:y.filter(C=>C.name.toLowerCase().includes(t.toLowerCase())||C.description&&C.description.toLowerCase().includes(t.toLowerCase())),E=(S==null?void 0:S.map(C=>{var T;return{id:C.id,title:C.name,description:C.description,price:C.price_per_hour,priceLabel:"por hora",images:((T=C.equipment_photos)==null?void 0:T.map(A=>A.url))||[],status:C.available>0?"available":"unavailable",location:C.branches?`${C.branches.street}, ${C.branches.number} - ${C.branches.neighborhood}, ${C.branches.city}`:x()}}))||[];return s.jsx(Er,{children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(fm,{title:"Equipamentos Disponveis",description:"Encontre e reserve equipamentos para suas necessidades"}),m&&u&&s.jsx(AA,{pageName:"equipamentos",onDismiss:()=>d(!1)}),s.jsx(O9,{searchTerm:t,onSearchChange:r,filters:{...p,city:n},onFiltersChange:C=>{g(C),C.city!==n&&a(C.city||"all")},onFilter:j,onClear:N,showDateTimeFilters:!0,showLocationFilter:!0,placeholder:"Buscar equipamentos..."}),s.jsx(CA,{items:E,isLoading:w,error:b,onItemAction:C=>{if(e){if(n==="all"||!n){h(!0);return}const T=S==null?void 0:S.find(A=>A.id===C);T&&(o(T),c(!0))}},actionLabel:"Reservar Equipamento",emptyTitle:"Nenhum equipamento encontrado",emptyDescription:"Ajuste os filtros ou tente novamente mais tarde",emptyIcon:xl,variant:"equipment",showFiltersMessage:!p.date&&!p.startTime&&!p.endTime,filtersMessage:"Selecione uma data e horrio para verificar a disponibilidade dos equipamentos",resultCount:S==null?void 0:S.length}),s.jsx(pfe,{isOpen:l,onOpenChange:c,selectedEquipment:i,filters:p}),s.jsx(DA,{isOpen:f,onClose:()=>h(!1),pageName:"equipamentos"})]})})},I7=({equipmentId:e})=>{const{addToCart:t}=zc(),{data:r,isLoading:n}=it({queryKey:["related-products",e],queryFn:async()=>{const{data:i,error:o}=await Z.from("products").select("*").eq("equipment_id",e).eq("is_active",!0);if(o)throw o;return i}}),a=(i,o)=>{t({itemType:"product",itemId:i,quantity:1,metadata:{}})};return n||!r||r.length===0?null:s.jsxs(de,{className:"mt-4 border-blue-200 bg-blue-50",children:[s.jsxs(Se,{className:"pb-3",children:[s.jsx($e,{className:"text-sm text-blue-800",children:"Produtos Relacionados"}),s.jsx(Vr,{className:"text-xs text-blue-600",children:"Aproveite e adicione estes produtos ao seu carrinho"})]}),s.jsx(me,{className:"space-y-2",children:r.map(i=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:i.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.description}),s.jsx("p",{className:"text-sm font-bold text-blue-600",children:st(i.price)})]}),s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>a(i.id,i.price),className:"ml-3",children:[s.jsx(gl,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]},i.id))})]})},bfe=()=>{const{id:e}=nm(),t=Mn(),{toast:r}=Pr(),{addToCart:n}=zc(),[a,i]=_.useState(null),[o,l]=_.useState(null),[c,u]=_.useState(null),[d,f]=_.useState(1),[h,m]=_.useState([]),[v,p]=_.useState([]),{data:g,isLoading:x}=it({queryKey:["equipment-detail",e],queryFn:async()=>{if(!e)throw new Error("ID do equipamento no fornecido");const{data:w,error:b}=await Z.from("equipment").select("*").eq("id",e).eq("is_active",!0).single();if(b)throw b;return w},enabled:!!e}),y=()=>{if(!g||!a||!o||!c){r({variant:"destructive",title:"Dados incompletos",description:"Por favor, selecione data, horrio de incio e fim"});return}if(d>g.quantity){r({variant:"destructive",title:"Quantidade indisponvel",description:`Mximo disponvel: ${g.quantity} unidades`});return}const w=new Date(a),[b,j]=o.split(":");w.setHours(parseInt(b),parseInt(j),0,0);const N=new Date(a),[S,E]=c.split(":");N.setHours(parseInt(S),parseInt(E),0,0);const C=(N.getTime()-w.getTime())/(1e3*60*60),T=g.price_per_hour*C*d;n({itemType:"equipment",itemId:g.id,quantity:d,metadata:{start_time:w.toISOString(),end_time:N.toISOString(),date:We(a,"dd/MM/yyyy"),start_time_display:o,end_time_display:c,duration:C,total_price:T}}),r({title:"Equipamento adicionado ao carrinho!",description:`${g.name} foi reservado temporariamente por 15 minutos`}),t("/cart")};return x?s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):g?(_.useEffect(()=>{(async()=>{if(!a||!g){m([]),p([]);return}try{const b=a.toISOString().split("T")[0];console.log("Buscando disponibilidade para equipamento:",g.id,"data:",b);const{data:j,error:N}=await Z.rpc("get_equipment_availability",{p_equipment_id:g.id,p_date:b,p_requested_quantity:d});if(N){console.error("Error fetching equipment availability:",N);return}if(console.log("Dados de disponibilidade recebidos:",j),!j||j.length===0){console.log(`Equipamento ${g.name} fechado na data ${b}`),m([]),p([]);return}const S=[],E=[];j.forEach(C=>{C.is_available?S.push(C.hour):E.push(C.hour)}),console.log("Horrios disponveis:",S),console.log("Horrios bloqueados:",E),m(S),p(E)}catch(b){console.error("Error in fetchAvailableHours:",b),m([]),p([])}})()},[a,g,d]),s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vi,{className:"h-5 w-5"}),g.name]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground",children:g.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Preo"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[st(g.price_per_hour),"/hora"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Disponibilidade"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[g.quantity," unidades disponveis"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Horrio de Funcionamento"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Varia por dia da semana - consulte na reserva"})]})]})]}),s.jsx(I7,{equipmentId:g.id})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-5 w-5"}),"Reservar Equipamento"]})}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Quantidade"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>f(Math.max(1,d-1)),disabled:d<=1,children:s.jsx(DL,{className:"h-4 w-4"})}),s.jsx("span",{className:"text-lg font-medium min-w-[3ch] text-center",children:d}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>f(Math.min(g.quantity,d+1)),disabled:d>=g.quantity,children:s.jsx(gl,{className:"h-4 w-4"})})]})]}),s.jsx(Fr,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Selecione a data"}),s.jsx(Hc,{mode:"single",selected:a,onSelect:w=>{i(w),l(null),u(null)},locale:ir,className:"border rounded-md p-2",disabled:w=>{const b=new Date;return b.setHours(0,0,0,0),w<b}})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx(Fr,{}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Wn,{className:"h-4 w-4"}),"Horrio"]}),s.jsx(gw,{availableHours:h,blockedHours:v,selectedStartTime:o,selectedEndTime:c,onSelectStartTime:l,onSelectEndTime:u,requireConsecutive:!0,minimumIntervalMinutes:(g==null?void 0:g.minimum_interval_minutes)||60})]})]}),o&&c&&a&&s.jsxs(s.Fragment,{children:[s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Resumo da Reserva"}),s.jsxs("div",{className:"bg-muted p-4 rounded-md space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Data:"}),s.jsx("span",{children:We(a,"dd 'de' MMMM 'de' yyyy",{locale:ir})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Horrio:"}),s.jsxs("span",{children:[o," - ",c]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Quantidade:"}),s.jsxs("span",{children:[d," unidades"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Durao:"}),s.jsx("span",{children:(()=>{const w=new Date,[b,j]=o.split(":");w.setHours(parseInt(b),parseInt(j));const N=new Date,[S,E]=c.split(":");return N.setHours(parseInt(S),parseInt(E)),`${(N.getTime()-w.getTime())/(1e3*60*60)}h`})()})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:(()=>{const w=new Date,[b,j]=o.split(":");w.setHours(parseInt(b),parseInt(j));const N=new Date,[S,E]=c.split(":");N.setHours(parseInt(S),parseInt(E));const C=(N.getTime()-w.getTime())/(1e3*60*60);return st(g.price_per_hour*C*d)})()})]})]}),s.jsx(re,{onClick:y,className:"w-full",size:"lg",children:"Adicionar ao Carrinho"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"* O equipamento ser reservado temporariamente por 15 minutos para voc finalizar o pagamento"})]})]})]})]})})]})})})):s.jsx(Er,{children:s.jsx("div",{className:"container py-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Equipamento no encontrado"}),s.jsx(re,{onClick:()=>t("/equipment"),children:"Voltar para Equipamentos"})]})})})},F7=()=>{const[e,t]=_.useState(null),{user:r}=Gt(),{toast:n}=Pr(),a=_.useCallback(d=>{t(d)},[]),i=_.useCallback(()=>{t(null)},[]),o=_.useCallback(async(d,f,h)=>{if(!r)return n({variant:"destructive",title:"Erro",description:"Voc precisa estar logado para aplicar cupons."}),!1;try{const m=await Z.rpc("validate_coupon",{p_code:d.toUpperCase(),p_user_id:r.id,p_total_amount:f,p_item_count:h,p_applicable_type:"all"}),v=m.data,p=m.error;if(p)return console.error("Erro ao validar cupom:",p),n({variant:"destructive",title:"Erro",description:"Erro interno ao validar o cupom. Tente novamente."}),!1;if(v&&v.length>0){const g=v[0];return g.is_valid?(a({couponId:g.coupon_id,discountAmount:g.discount_amount,couponCode:d.toUpperCase()}),!0):(n({variant:"destructive",title:"Cupom invlido",description:g.error_message||"Este cupom no pode ser aplicado."}),!1)}return!1}catch(m){return console.error("Erro ao validar cupom:",m),n({variant:"destructive",title:"Erro",description:"Erro ao validar o cupom. Tente novamente."}),!1}},[r,n,a]),l=_.useCallback(async(d,f,h)=>{if(!e||!r)return!1;try{const{data:m}=await Z.from("profiles").select("branch_id").eq("id",r.id).single();if(!(m!=null&&m.branch_id))return console.error("Branch ID no encontrado para o usurio"),!1;const{error:v}=await Z.from("coupon_usage").insert({coupon_id:e.couponId,user_id:r.id,branch_id:m.branch_id,order_id:d,booking_id:f||null,equipment_booking_id:h||null,discount_applied:e.discountAmount});return v?(console.error("Erro ao registrar uso do cupom:",v),!1):!0}catch(m){return console.error("Erro ao registrar uso do cupom:",m),!1}},[e,r]),c=_.useCallback(d=>{if(!e)return d;const f=d-e.discountAmount;return Math.max(0,f)},[e]),u=_.useCallback(()=>{t(null)},[]);return{appliedCoupon:e,applyCoupon:a,removeCoupon:i,validateAndApplyCoupon:o,recordCouponUsage:l,getDiscountedTotal:c,clearCoupon:u,hasActiveCoupon:!!e,discountAmount:(e==null?void 0:e.discountAmount)||0}},wfe=({itemType:e,itemName:t,imageUrl:r})=>{const n=()=>{switch(e){case"room":return s.jsx(xo,{className:"h-6 w-6"});case"equipment":return s.jsx(Vi,{className:"h-6 w-6"});case"product":return s.jsx(hh,{className:"h-6 w-6"});default:return s.jsx(Vi,{className:"h-6 w-6"})}},a=()=>{switch(e){case"room":return"text-blue-600 bg-blue-100";case"equipment":return"text-green-600 bg-green-100";case"product":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center flex-shrink-0",children:r?s.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover"}):s.jsx("div",{className:`p-3 rounded-lg ${a()}`,children:n()})})},bl=_.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));bl.displayName="Textarea";const _fe=({itemId:e,currentNotes:t=""})=>{const[r,n]=_.useState(!1),[a,i]=_.useState(t);zc();const o=()=>{console.log("Saving notes for item:",e,a),n(!1)},l=()=>{i(t),n(!1)};return s.jsx("div",{className:"mt-3",children:r?s.jsx(de,{className:"border-blue-200",children:s.jsxs(me,{className:"p-3 space-y-2",children:[s.jsx(bl,{value:a,onChange:c=>i(c.target.value),placeholder:"Adicione observaes para esta reserva...",className:"resize-none",rows:3}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{variant:"default",size:"sm",onClick:o,className:"flex items-center gap-1",children:[s.jsx(IT,{className:"h-3 w-3"}),"Salvar"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:l,className:"flex items-center gap-1",children:[s.jsx(Vn,{className:"h-3 w-3"}),"Cancelar"]})]})]})}):s.jsx("div",{children:t?s.jsx(de,{className:"bg-blue-50 border-blue-200",children:s.jsxs(me,{className:"p-3",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Observaes:"})," ",t]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"mt-1 h-auto p-1 text-blue-600 hover:text-blue-800",children:"Editar observaes"})]})}):s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>n(!0),className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[s.jsx(fre,{className:"h-3 w-3"}),"Adicionar observaes"]})})})},jfe=({cartTotal:e,cartItemCount:t,onCouponApplied:r,onCouponRemoved:n,appliedCoupon:a})=>{const[i,o]=_.useState(""),[l,c]=_.useState(!1),{user:u}=Gt(),{toast:d}=Pr(),f=async()=>{if(!i.trim()){d({variant:"destructive",title:"Erro",description:"Digite um cdigo de cupom vlido."});return}if(!u){d({variant:"destructive",title:"Erro",description:"Voc precisa estar logado para aplicar cupons."});return}c(!0);try{const v=await Z.rpc("validate_coupon",{p_code:i.toUpperCase(),p_user_id:u.id,p_total_amount:e,p_item_count:t,p_applicable_type:"all"}),p=v.data,g=v.error;if(g){console.error("Erro ao validar cupom:",g),d({variant:"destructive",title:"Erro",description:"Erro interno ao validar o cupom. Tente novamente."});return}if(p&&Array.isArray(p)&&p.length>0){const x=p[0];x.is_valid?(r({couponId:x.coupon_id,discountAmount:x.discount_amount,couponCode:i.toUpperCase()}),o(""),d({title:"Cupom aplicado!",description:`Desconto de ${st(x.discount_amount)} aplicado com sucesso.`})):d({variant:"destructive",title:"Cupom invlido",description:x.error_message||"Este cupom no pode ser aplicado."})}}catch(v){console.error("Erro ao validar cupom:",v),d({variant:"destructive",title:"Erro",description:"Erro ao validar o cupom. Tente novamente."})}finally{c(!1)}},h=()=>{n(),d({title:"Cupom removido",description:"O desconto foi removido do seu pedido."})},m=v=>{v.key==="Enter"&&f()};return s.jsx(de,{className:"border-dashed border-2 border-gray-200 bg-gray-50/50",children:s.jsxs(me,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(BL,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cupom de Desconto"})]}),a?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fh,{className:"h-4 w-4 text-green-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-green-800",children:["Cupom ",a.couponCode," aplicado"]}),s.jsxs("p",{className:"text-xs text-green-600",children:["Desconto: ",st(a.discountAmount)]})]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:h,className:"text-green-600 hover:text-green-800 hover:bg-green-100",children:s.jsx(Vn,{className:"h-4 w-4"})})]})}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{placeholder:"Digite o cdigo do cupom",value:i,onChange:v=>o(v.target.value.toUpperCase()),onKeyPress:m,className:"flex-1",disabled:l}),s.jsx(re,{onClick:f,disabled:l||!i.trim(),size:"sm",className:"px-4",children:l?"Validando...":"Aplicar"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Dica: Cupons podem ter restries de valor mnimo, horrio ou quantidade de itens."})]})})},Sfe=()=>{const e=Mn(),{cartItems:t,cartTotal:r,removeFromCart:n,updateCart:a,refetch:i}=zc(),{appliedCoupon:o,applyCoupon:l,removeCoupon:c,getDiscountedTotal:u,hasActiveCoupon:d,discountAmount:f}=F7(),h=u(r),{data:m,isLoading:v}=it({queryKey:["cart-details",t],queryFn:async()=>{if(!t.length)return[];const x=t.filter(C=>C.item_type==="room").map(C=>C.item_id),y=t.filter(C=>C.item_type==="equipment").map(C=>C.item_id),w=t.filter(C=>C.item_type==="product").map(C=>C.item_id),b=[...new Set(t.map(C=>C.branch_id))],[j,N,S,E]=await Promise.all([x.length?Z.from("rooms").select(`
          *,
          room_photos (url)
        `).in("id",x):{data:[]},y.length?Z.from("equipment").select("*").in("id",y):{data:[]},w.length?Z.from("products").select("*").in("id",w):{data:[]},b.length?Z.from("branches").select("*").in("id",b):{data:[]}]);return t.map(C=>{var k,P,L,B;let T;switch(C.item_type){case"room":T=(k=j.data)==null?void 0:k.find(M=>M.id===C.item_id);break;case"equipment":T=(P=N.data)==null?void 0:P.find(M=>M.id===C.item_id);break;case"product":T=(L=S.data)==null?void 0:L.find(M=>M.id===C.item_id);break}const A=(B=E.data)==null?void 0:B.find(M=>M.id===C.branch_id);return{...C,details:T,branch:A}})},enabled:t.length>0}),p=async()=>{var x;if(t.length===0){tt({variant:"destructive",title:"Carrinho vazio",description:"Adicione itens ao carrinho antes de finalizar a compra."});return}try{const{data:y,error:w}=await Z.rpc("check_availability_before_checkout",{p_user_id:(x=t[0])==null?void 0:x.user_id});if(w){console.error("Erro ao verificar disponibilidade:",w),tt({variant:"destructive",title:"Erro de verificao",description:"No foi possvel verificar a disponibilidade dos itens."});return}const b=(y==null?void 0:y.filter(j=>!j.is_available))||[];if(b.length>0){const j=b.map(N=>N.error_message).join("; ");tt({variant:"destructive",title:"Itens no disponveis",description:`Alguns itens no esto mais disponveis: ${j}. Removendo do carrinho...`});for(const N of b){const S=t.find(E=>E.item_id===N.item_id);S&&n(S.id)}setTimeout(()=>i(),1e3);return}e("/checkout")}catch(y){console.error("Erro ao verificar disponibilidade:",y),tt({variant:"destructive",title:"Erro",description:"Erro inesperado ao verificar disponibilidade."})}},g=x=>{if(!x.details)return null;x.item_type==="room"||x.item_type;const y=x.metadata||{};return s.jsxs(de,{className:"mb-4",children:[s.jsx(Se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx(wfe,{itemType:x.item_type,itemName:x.details.name}),s.jsxs("div",{className:"flex-1",children:[s.jsx($e,{className:"text-lg mb-1",children:x.details.name}),x.details.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:x.details.description}),s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Re,{variant:x.item_type==="room"?"default":x.item_type==="equipment"?"secondary":"outline",children:x.item_type==="room"?"Sala":x.item_type==="equipment"?"Equipamento":"Produto"})})]})]}),s.jsx(re,{variant:"destructive",size:"sm",onClick:()=>{console.log("=== REMOVENDO ITEM DO CARRINHO ==="),console.log("Item ID:",x.id),console.log("Item completo:",x),console.log("Tipo do item:",x.item_type),console.log("Metadata:",x.metadata),n(x.id)},className:"ml-2",children:s.jsx(dm,{className:"h-4 w-4"})})]})}),s.jsxs(me,{className:"space-y-4",children:[(x.item_type==="room"||x.item_type==="equipment")&&s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-blue-700 font-semibold text-sm uppercase tracking-wide",children:"Detalhes da Reserva"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 space-y-4 shadow-sm border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:""})}),s.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Detalhes da Reserva"})]}),y.date&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-white/50 shadow-sm",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Data da Reserva"}),s.jsx("span",{className:"font-bold text-gray-800 text-lg",children:new Date(y.date+"T00:00:00").toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(y.start_time_display||y.start_time)&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-white/50 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Horrio de Incio"}),s.jsx("span",{className:"font-bold text-gray-800 text-lg",children:(()=>{const w=y.start_time_display||y.start_time;return w&&w.includes("T")?new Date(w).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):w})()})]})]})}),(y.end_time_display||y.end_time)&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-white/50 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Horrio de Trmino"}),s.jsx("span",{className:"font-bold text-gray-800 text-lg",children:(()=>{const w=y.end_time_display||y.end_time;return w&&w.includes("T")?new Date(w).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):w})()})]})]})})]}),y.duration&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-white/50 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-white text-lg",children:""})}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Durao Total"}),s.jsxs("span",{className:"font-bold text-gray-800 text-lg",children:[y.duration," hora(s)"]})]})]})}),x.branch&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-white/50 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx("span",{className:"text-white text-lg",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm text-gray-500 block",children:"Local da Reserva"}),s.jsx("div",{className:"font-bold text-gray-800 text-lg mb-1",children:x.branch.name}),s.jsxs("div",{className:"text-sm text-gray-600 leading-relaxed",children:[[x.branch.street,x.branch.number,x.branch.neighborhood,x.branch.city,x.branch.state].filter(Boolean).join(", "),x.branch.zip_code&&s.jsxs("span",{className:"block text-xs text-gray-500 mt-1",children:["CEP: ",x.branch.zip_code]})]})]})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Quantidade:"}),x.item_type==="product"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>{console.log("=== DIMINUINDO QUANTIDADE ==="),console.log("Item ID:",x.id),console.log("Quantidade atual:",x.quantity),console.log("Nova quantidade:",Math.max(1,x.quantity-1)),a(x.id,Math.max(1,x.quantity-1))},disabled:x.quantity<=1,className:"h-8 w-8 p-0",children:s.jsx(DL,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:x.quantity}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>{console.log("=== AUMENTANDO QUANTIDADE ==="),console.log("Item ID:",x.id),console.log("Quantidade atual:",x.quantity),console.log("Nova quantidade:",x.quantity+1),a(x.id,x.quantity+1)},className:"h-8 w-8 p-0",children:s.jsx(gl,{className:"h-3 w-3"})})]}):s.jsx(Re,{variant:"secondary",children:x.quantity})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold",children:st(x.price*x.quantity)}),x.quantity>1&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[st(x.price)," cada"]})]})]}),(x.item_type==="room"||x.item_type==="equipment")&&s.jsx(_fe,{itemId:x.id,currentNotes:y.notes}),x.item_type==="equipment"&&s.jsx(I7,{equipmentId:x.item_id})]})]},x.id)};return v?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-6",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Carrinho de Compras"}),s.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-primary to-primary/60 rounded-full mx-auto"})]}),m&&m.length>0?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:m.map(g)}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-24 bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-white p-6",children:s.jsx("h3",{className:"text-xl font-bold",children:"Resumo do Pedido"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-gray-600",children:[s.jsxs("span",{children:["Itens (",t.length,"):"]}),s.jsx("span",{className:"font-medium",children:st(r)})]}),d&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Desconto (",o==null?void 0:o.couponCode,"):"]}),s.jsxs("span",{className:"font-medium",children:["-",st(f)]})]})]}),s.jsx(jfe,{cartTotal:r,cartItemCount:t.length,onCouponApplied:l,onCouponRemoved:c,appliedCoupon:o}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsxs("div",{className:"flex justify-between font-bold text-xl text-gray-900",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-primary",children:st(h)})]}),d&&s.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[s.jsx("span",{className:"line-through",children:st(r)}),s.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["Economia: ",st(f)]})]})]}),s.jsxs(re,{onClick:p,className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 py-4",size:"lg",disabled:t.length===0,children:["Finalizar Compra (",t.length," ",t.length===1?"item":"itens",")"]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center space-y-1 mt-4",children:[s.jsx("p",{children:" Pagamento seguro protegido"}),s.jsx("p",{children:" Reservas confirmadas aps pagamento"})]})]})]})})]}):s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mb-4",children:s.jsx(hh,{className:"h-12 w-12 text-gray-400"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Carrinho Vazio"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-md mx-auto",children:"Que tal adicionar alguns itens ao seu carrinho?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(re,{onClick:()=>e("/rooms"),size:"lg",className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 transform hover:scale-105 transition-all duration-300",children:"Ver Salas"}),s.jsx(re,{variant:"outline",onClick:()=>e("/equipment"),size:"lg",className:"border-2 hover:bg-gray-50 transform hover:scale-105 transition-all duration-300",children:"Ver Equipamentos"}),s.jsx(re,{variant:"outline",onClick:()=>e("/store"),size:"lg",className:"border-2 hover:bg-gray-50 transform hover:scale-105 transition-all duration-300",children:"Ver Produtos"})]})]})]})})},Nfe=()=>s.jsx(Er,{children:s.jsx(Sfe,{})}),Efe=({cartItems:e,cartTotal:t,appliedCoupon:r,discountAmount:n=0,finalTotal:a})=>{const i=a!==void 0?a:t;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(de,{className:"sticky top-4",children:[s.jsx(Se,{className:"pb-4",children:s.jsxs($e,{className:"text-lg flex items-center justify-between",children:["Resumo do Pedido",s.jsxs(Re,{variant:"secondary",className:"text-xs",children:[e.length," ",e.length===1?"item":"itens"]})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:e.map((o,l)=>{var c;return s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium",children:((c=o.metadata)==null?void 0:c.name)||"Produto"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qtd: ",o.quantity]})]}),s.jsx("div",{className:"text-sm font-medium",children:st(o.price*o.quantity)})]},o.id||l)})}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:st(t)})]}),r&&n>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsxs("span",{children:["Desconto (",r.couponCode,")"]}),s.jsxs("span",{children:["-",st(n)]})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between items-center text-base font-bold",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{className:"text-lg",children:st(i)})]}),r&&n>0&&s.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[s.jsx("span",{className:"line-through",children:st(t)}),s.jsxs("span",{className:"ml-2 text-green-600 font-medium",children:["Economia: ",st(n)]})]})]})]}),s.jsx(de,{children:s.jsx(me,{className:"pt-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(um,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-muted-foreground",children:"Pagamento 100% seguro"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(cre,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-muted-foreground",children:"Dados protegidos SSL"})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(Wn,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-muted-foreground",children:"Processamento rpido"})]})]})})})]})},wa=({id:e,label:t,value:r,onChange:n,placeholder:a,required:i,type:o="text",className:l})=>{const c=(f,h)=>{const m=f.replace(/\D/g,"");switch(h){case"cpf":return m.slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2");case"phone":return m.slice(0,11).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2");case"cep":return m.slice(0,8).replace(/(\d{5})(\d)/,"$1-$2");case"card":return m.slice(0,16).replace(/(\d{4})(?=\d)/g,"$1 ");case"expiry":return m.slice(0,6).replace(/(\d{2})(\d)/,"$1/$2");case"cvv":return m.slice(0,4);default:return f}},u=f=>{const h=o==="text"||o==="email"?f.target.value:c(f.target.value,o);n(h)},d=()=>o==="email"?"email":"text";return s.jsxs("div",{className:l,children:[s.jsxs(De,{htmlFor:e,className:"text-sm font-medium text-foreground",children:[t,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx(Oe,{id:e,type:d(),value:r,onChange:u,placeholder:a,required:i,className:"mt-1"})]})},Cfe=({paymentData:e,onPaymentDataChange:t})=>s.jsxs(de,{className:"shadow-sm border-0 bg-white/50 backdrop-blur-sm",children:[s.jsx(Se,{className:"pb-4",children:s.jsxs($e,{className:"flex items-center space-x-3 text-xl",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"1"}),s.jsx("span",{children:"Dados Pessoais"})]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(wa,{id:"nome",label:"Nome Completo",value:e.nome,onChange:r=>t("nome",r),type:"text",required:!0}),s.jsx(wa,{id:"email",label:"E-mail",value:e.email,onChange:r=>t("email",r),type:"email",required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(wa,{id:"cpf",label:"CPF",value:e.cpf,onChange:r=>t("cpf",r),type:"cpf",placeholder:"000.000.000-00",required:!0}),s.jsx(wa,{id:"telefone",label:"Telefone",value:e.telefone,onChange:r=>t("telefone",r),type:"phone",placeholder:"(11) 99999-9999",required:!0})]})]})]}),Tfe=({cep:e,onAddressFound:t})=>{const[r,n]=_.useState(!1),{toast:a}=Pr(),i=async()=>{const o=e.replace(/\D/g,"");if(o.length!==8){a({variant:"destructive",title:"CEP invlido",description:"Digite um CEP vlido com 8 dgitos"});return}n(!0);try{const c=await(await fetch(`https://viacep.com.br/ws/${o}/json/`)).json();if(c.erro)throw new Error("CEP no encontrado");t({rua:c.logradouro||"",bairro:c.bairro||"",cidade:c.localidade||"",estado:c.uf||""}),a({title:"Endereo encontrado!",description:"Os campos foram preenchidos automaticamente."})}catch{a({variant:"destructive",title:"Erro ao buscar CEP",description:"No foi possvel encontrar o endereo. Verifique o CEP digitado."})}finally{n(!1)}};return s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:i,disabled:r||e.replace(/\D/g,"").length!==8,className:"mt-1",children:[r?s.jsx(lN,{className:"w-4 h-4 animate-spin"}):s.jsx(xl,{className:"w-4 h-4"}),"Buscar CEP"]})},Afe=({paymentData:e,onPaymentDataChange:t,onAddressFromCep:r})=>s.jsxs(de,{className:"shadow-sm border-0 bg-white/50 backdrop-blur-sm",children:[s.jsxs(Se,{className:"pb-4",children:[s.jsxs($e,{className:"flex items-center space-x-3 text-xl",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"2"}),s.jsx("span",{children:"Endereo de faturamento"})]}),s.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Importante: No fazemos entrega. Produtos e equipamentos devem ser retirados na filial escolhida."})})]}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(wa,{id:"cep",label:"CEP",value:e.cep,onChange:n=>t("cep",n),type:"cep",placeholder:"00000-000",required:!0,className:"flex-1"}),s.jsx("div",{className:"flex items-end",children:s.jsx(Tfe,{cep:e.cep,onAddressFound:r})})]}),s.jsx(wa,{id:"rua",label:"Rua/Logradouro",value:e.rua,onChange:n=>t("rua",n),type:"text",required:!0}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(wa,{id:"numero",label:"Nmero",value:e.numero,onChange:n=>t("numero",n),type:"text",required:!0}),s.jsx(wa,{id:"complemento",label:"Complemento",value:e.complemento,onChange:n=>t("complemento",n),type:"text",placeholder:"Opcional",className:"md:col-span-2"})]}),s.jsx(wa,{id:"bairro",label:"Bairro",value:e.bairro,onChange:n=>t("bairro",n),type:"text",required:!0}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(wa,{id:"cidade",label:"Cidade",value:e.cidade,onChange:n=>t("cidade",n),type:"text",required:!0}),s.jsx(wa,{id:"estado",label:"Estado",value:e.estado,onChange:n=>t("estado",n),type:"text",placeholder:"SP",required:!0})]})]})]});function kfe(e,t=[]){let r=[];function n(i,o){const l=_.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=_.useMemo(()=>v,Object.values(v));return s.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=_.useContext(m);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Pfe(a,...t)]}function Pfe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Yj="rovingFocusGroup.onEntryFocus",Ofe={bubbles:!1,cancelable:!0},bw="RovingFocusGroup",[RN,$7,Dfe]=GB(bw),[Rfe,ww]=kfe(bw,[Dfe]),[Mfe,Ife]=Rfe(bw),L7=_.forwardRef((e,t)=>s.jsx(RN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(RN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ffe,{...e,ref:t})})}));L7.displayName=bw;var Ffe=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=_.useRef(null),m=kt(t,h),v=Kv(i),[p=null,g]=mo({prop:o,defaultProp:l,onChange:c}),[x,y]=_.useState(!1),w=An(u),b=$7(r),j=_.useRef(!1),[N,S]=_.useState(0);return _.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(Yj,w),()=>E.removeEventListener(Yj,w)},[w]),s.jsx(Mfe,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:_.useCallback(E=>g(E),[g]),onItemShiftTab:_.useCallback(()=>y(!0),[]),onFocusableItemAdd:_.useCallback(()=>S(E=>E+1),[]),onFocusableItemRemove:_.useCallback(()=>S(E=>E-1),[]),children:s.jsx(lt.div,{tabIndex:x||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:nt(e.onMouseDown,()=>{j.current=!0}),onFocus:nt(e.onFocus,E=>{const C=!j.current;if(E.target===E.currentTarget&&C&&!x){const T=new CustomEvent(Yj,Ofe);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const A=b().filter(M=>M.focusable),k=A.find(M=>M.active),P=A.find(M=>M.id===p),B=[k,P,...A].filter(Boolean).map(M=>M.ref.current);q7(B,d)}}j.current=!1}),onBlur:nt(e.onBlur,()=>y(!1))})})}),B7="RovingFocusGroupItem",U7=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=io(),c=i||l,u=Ife(B7,r),d=u.currentTabStopId===c,f=$7(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return _.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),s.jsx(RN.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(lt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:nt(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:nt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:nt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=Bfe(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let x=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const y=x.indexOf(v.currentTarget);x=u.loop?Ufe(x,y+1):x.slice(y+1)}setTimeout(()=>q7(x))}})})})});U7.displayName=B7;var $fe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Bfe(e,t,r){const n=Lfe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $fe[n]}function q7(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Ufe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var z7=L7,H7=U7,LA="Radio",[qfe,V7]=Zi(LA),[zfe,Hfe]=qfe(LA),W7=_.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=_.useState(null),m=kt(t,g=>h(g)),v=_.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(zfe,{scope:r,checked:a,disabled:o,children:[s.jsx(lt.button,{type:"button",role:"radio","aria-checked":a,"data-state":X7(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:nt(e.onClick,g=>{a||c==null||c(),p&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),p&&s.jsx(Vfe,{control:f,bubbles:!v.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});W7.displayName=LA;var G7="RadioIndicator",K7=_.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Hfe(G7,r);return s.jsx(ei,{present:n||i.checked,children:s.jsx(lt.span,{"data-state":X7(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});K7.displayName=G7;var Vfe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=_.useRef(null),o=sw(r),l=ew(t);return _.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function X7(e){return e?"checked":"unchecked"}var Wfe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BA="RadioGroup",[Gfe,Kze]=Zi(BA,[ww,V7]),Y7=ww(),Q7=V7(),[Kfe,Xfe]=Gfe(BA),Z7=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=Y7(r),v=Kv(u),[p,g]=mo({prop:i,defaultProp:a,onChange:f});return s.jsx(Kfe,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:g,children:s.jsx(z7,{asChild:!0,...m,orientation:c,dir:v,loop:d,children:s.jsx(lt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});Z7.displayName=BA;var J7="RadioGroupItem",eU=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Xfe(J7,r),o=i.disabled||n,l=Y7(r),c=Q7(r),u=_.useRef(null),d=kt(t,u),f=i.value===a.value,h=_.useRef(!1);return _.useEffect(()=>{const m=p=>{Wfe.includes(p.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),s.jsx(H7,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(W7,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:nt(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:nt(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});eU.displayName=J7;var Yfe="RadioGroupIndicator",tU=_.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=Q7(r);return s.jsx(K7,{...a,...n,ref:t})});tU.displayName=Yfe;var rU=Z7,nU=eU,Qfe=tU;const aU=_.forwardRef(({className:e,...t},r)=>s.jsx(rU,{className:xe("grid gap-2",e),...t,ref:r}));aU.displayName=rU.displayName;const iU=_.forwardRef(({className:e,...t},r)=>s.jsx(nU,{ref:r,className:xe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Qfe,{className:"flex items-center justify-center",children:s.jsx(tre,{className:"h-2.5 w-2.5 fill-current text-current"})})}));iU.displayName=nU.displayName;const Zfe=({selectedMethod:e,onMethodChange:t})=>{const{user:r}=Gt(),{data:n}=it({queryKey:["profile",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))return null;const{data:u,error:d}=await Z.from("profiles").select("role, branch_id").eq("id",r.id).single();if(d)throw d;return u},enabled:!!(r!=null&&r.id)}),{data:a}=it({queryKey:["payment-settings",n==null?void 0:n.branch_id],queryFn:async()=>{if(!(n!=null&&n.branch_id))return null;const{data:u,error:d}=await Z.from("payment_settings").select("pix_visible, boleto_visible, cartao_visible, dinheiro_visible").eq("branch_id",n.branch_id).single();return d?(console.warn("Payment settings not found, using defaults"),{pix_visible:!0,boleto_visible:!0,cartao_visible:!0,dinheiro_visible:!0}):u},enabled:!!(n!=null&&n.branch_id)}),i=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="super_admin",o=a||{pix_visible:!0,boleto_visible:!0,cartao_visible:!0,dinheiro_visible:!0},c=[{id:"pix",title:"PIX",description:"Pagamento instantneo",icon:Ju,badge:"Instantneo",badgeVariant:"default",benefits:["Aprovao imediata","Sem taxas","Disponvel 24h"]},{id:"boleto",title:"Boleto Bancrio",description:"Pagamento em at 3 dias teis",icon:Hi,badge:"3 dias teis",badgeVariant:"secondary",benefits:["Sem carto necessrio","Fcil pagamento","Todas as instituies"]},{id:"cartao",title:"Carto de Crdito",description:"Parcelamento em at 12x",icon:As,badge:"Parcelamento",badgeVariant:"outline",benefits:["At 12x sem juros","Parcela mn. R$ 200","Aprovao rpida"]}].filter(u=>{switch(u.id){case"pix":return o.pix_visible;case"boleto":return o.boleto_visible;case"cartao":return o.cartao_visible;default:return!0}});return i&&o.dinheiro_visible&&c.push({id:"dinheiro",title:"Pagamento em Dinheiro",description:"Apenas para administradores",icon:EL,badge:"Admin",badgeVariant:"default",benefits:["Confirmao imediata","Sem taxas","Controle manual"]}),s.jsx(aU,{value:e,onValueChange:t,className:"space-y-3 sm:space-y-4",children:c.map(u=>{const d=u.icon,f=e===u.id;return s.jsxs("div",{className:"relative",children:[s.jsx(iU,{value:u.id,id:u.id,className:"absolute top-3 sm:top-4 left-3 sm:left-4 z-10"}),s.jsx(De,{htmlFor:u.id,className:"cursor-pointer",children:s.jsx(de,{className:`transition-all duration-200 hover:shadow-md rounded-xl md:rounded-2xl ${f?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"}`,children:s.jsx(me,{className:"p-3 sm:p-4 pl-8 sm:pl-12",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[s.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg ${f?"bg-primary text-primary-foreground":"bg-muted"}`,children:s.jsx(d,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[s.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:u.title}),s.jsx(Re,{variant:u.badgeVariant,className:"text-xs",children:u.badge})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:u.description}),s.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-2",children:u.benefits.map((h,m)=>s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[m===0&&s.jsx(_re,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-green-600"}),m===1&&s.jsx(um,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-blue-600"}),m===2&&s.jsx(Wn,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 text-orange-600"}),s.jsx("span",{className:"text-xs",children:h})]},m))})]})]})})})})})]},u.id)})})},Jfe=({cardNumber:e,cardName:t,cardExpiry:r,cvv:n})=>{const[a,i]=_.useState(!1),o=c=>c.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()||"   ",l=c=>{const u=c.charAt(0);return u==="4"?"Visa":u==="5"?"Mastercard":u==="3"?"Amex":"Card"};return s.jsx("div",{className:"perspective-1000 w-full max-w-sm mx-auto",children:s.jsxs("div",{className:`relative w-full h-56 transition-transform duration-700 transform-style-preserve-3d ${a?"rotate-y-180":""}`,onMouseEnter:()=>n&&i(!0),onMouseLeave:()=>i(!1),children:[s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden",children:s.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 via-slate-700 to-slate-900 rounded-xl p-6 text-white shadow-2xl border border-white/10",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(As,{className:"w-8 h-8 text-white/80"}),s.jsx("span",{className:"text-sm font-medium text-white/80",children:l(e)})]}),s.jsx(um,{className:"w-6 h-6 text-white/60"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-xl font-mono tracking-wider",children:o(e)}),s.jsxs("div",{className:"flex justify-between items-end",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Nome do Titular"}),s.jsx("div",{className:"text-sm font-medium",children:t||"SEU NOME AQUI"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Validade"}),s.jsx("div",{className:"text-sm font-medium font-mono",children:r||"MM/AAAA"})]})]})]}),s.jsx("div",{className:"absolute top-6 right-6 w-12 h-8 bg-gradient-to-r from-yellow-400 to-orange-500 rounded opacity-80"})]})}),s.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180",children:s.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 via-slate-700 to-slate-900 rounded-xl shadow-2xl border border-white/10",children:[s.jsx("div",{className:"w-full h-12 bg-black mt-6"}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"bg-white/10 rounded p-2 mb-4",children:[s.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide mb-1",children:"CVV"}),s.jsx("div",{className:"text-right font-mono text-lg",children:n?"".repeat(n.length):""})]}),s.jsx("div",{className:"text-xs text-white/60",children:"Por favor, no compartilhe estas informaes com terceiros."})]})]})})]})})},ehe=e=>{switch(e){case"cartao":return s.jsx(As,{className:"h-4 w-4"});case"pix":return s.jsx(Ju,{className:"h-4 w-4"});case"boleto":return s.jsx(Hi,{className:"h-4 w-4"});default:return s.jsx(_a,{className:"h-4 w-4"})}},the=e=>{switch(e){case"cartao":return"Carto de Crdito";case"pix":return"PIX";case"boleto":return"Boleto";default:return"Pagamento"}},rhe=e=>{switch(e){case"cartao":return["Verifique se o nmero do carto est correto","Confirme se o CVV est correto (3 dgitos no verso)","Certifique-se de que o carto no est vencido","Verifique se h limite disponvel"];case"pix":return["Verifique sua conexo com a internet","Certifique-se de que seu banco suporta PIX","O PIX estar disponvel por 30 minutos","Use o app do seu banco para escanear o QR Code"];case"boleto":return["Valor mnimo para boleto: R$ 30,00","Vencimento em 3 dias teis","Pode ser pago em qualquer banco ou lotrica","Confirmao em at 2 dias teis aps pagamento"];default:return[]}},nhe=({paymentMethod:e,error:t})=>{const r=rhe(e);return s.jsxs("div",{className:"space-y-4",children:[t&&s.jsxs(gh,{variant:"destructive",children:[s.jsx(_a,{className:"h-4 w-4"}),s.jsx(xh,{children:t})]}),r.length>0&&s.jsxs(gh,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ehe(e),s.jsxs("span",{className:"font-medium",children:["Dicas para ",the(e),":"]})]}),s.jsx(xh,{children:s.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm",children:r.map((n,a)=>s.jsx("li",{children:n},a))})})]})]})},ahe=({paymentMethod:e,onPaymentMethodChange:t,paymentData:r,onPaymentDataChange:n,finalTotal:a,error:i})=>{const l=Math.min(12,Math.max(1,Math.floor(a/200))),c=Array.from({length:l},(u,d)=>d+1);return _.useEffect(()=>{r.parcelas>l&&n("parcelas",l)},[l,r.parcelas,n]),s.jsxs(de,{className:"shadow-sm border-0 bg-white/50 backdrop-blur-sm",children:[s.jsx(Se,{className:"pb-4",children:s.jsxs($e,{className:"flex items-center space-x-3 text-xl",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-sm font-bold",children:"3"}),s.jsx("span",{children:"Mtodo de Pagamento"})]})}),s.jsxs(me,{children:[s.jsx(Zfe,{selectedMethod:e,onMethodChange:t}),s.jsx(nhe,{paymentMethod:e,error:i}),e==="cartao"&&s.jsx("div",{className:"mt-6 space-y-6",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(wa,{id:"numeroCartao",label:"Nmero do Carto",value:r.numeroCartao,onChange:u=>n("numeroCartao",u),type:"card",placeholder:"1234 5678 9012 3456",required:!0}),s.jsx(wa,{id:"nomeNoCartao",label:"Nome no Carto",value:r.nomeNoCartao,onChange:u=>n("nomeNoCartao",u),type:"text",placeholder:"Como est impresso no carto",required:!0}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(wa,{id:"validadeCartao",label:"Validade",value:r.validadeCartao,onChange:u=>n("validadeCartao",u),type:"expiry",placeholder:"MM/AAAA",required:!0}),s.jsx(wa,{id:"cvv",label:"CVV",value:r.cvv,onChange:u=>n("cvv",u),type:"cvv",placeholder:"123",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-foreground block mb-2",children:["Parcelas ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["Parcela mnima de ",st(200)]}),s.jsxs(zt,{value:r.parcelas.toString(),onValueChange:u=>n("parcelas",parseInt(u)),children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione as parcelas"})}),s.jsx(Lt,{children:c.map(u=>{const d=a/u;return s.jsxs(Xe,{value:u.toString(),children:[u,"x de ",st(d),u===1?"  vista":" sem juros"]},u)})})]}),l<12&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Mximo de ",l,"x para este valor"]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Jfe,{cardNumber:r.numeroCartao,cardName:r.nomeNoCartao,cardExpiry:r.validadeCartao,cvv:r.cvv})})]})})]})]})},ihe=({currentStep:e})=>{const t=[{number:1,title:"Dados Pessoais",desc:"Informaes bsicas"},{number:2,title:"Endereo",desc:"Local de entrega"},{number:3,title:"Pagamento",desc:"Finalizar pedido"}];return s.jsx("div",{className:"flex items-center justify-between w-full mb-8",children:t.map((r,n)=>s.jsxs("div",{className:"contents",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
              w-12 h-12 rounded-full flex items-center justify-center border-2 transition-all duration-300
              ${e>r.number?"bg-primary border-primary text-primary-foreground":e===r.number?"border-primary text-primary bg-primary/10":"border-muted-foreground/30 text-muted-foreground bg-background"}
            `,children:e>r.number?s.jsx(fh,{className:"w-5 h-5"}):s.jsx("span",{className:"font-semibold",children:r.number})}),s.jsxs("div",{className:"mt-2 text-center",children:[s.jsx("div",{className:`text-sm font-medium ${e>=r.number?"text-foreground":"text-muted-foreground"}`,children:r.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:r.desc})]})]}),n<t.length-1&&s.jsx("div",{className:`flex-1 h-0.5 mx-4 transition-all duration-300 ${e>r.number?"bg-primary":"bg-muted-foreground/20"}`})]},r.number))})},she={nome:"",email:"",cpf:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",numeroCartao:"",nomeNoCartao:"",validadeCartao:"",cvv:"",parcelas:1},ohe=()=>{const e=Mn(),{cartItems:t,cartTotal:r,clearCart:n}=gL(),{user:a}=Gt(),[i,o]=_.useState(!1),[l,c]=_.useState(she),[u,d]=_.useState("pix"),[f,h]=_.useState(null),[m,v]=_.useState(0),[p,g]=_.useState(r);_.useEffect(()=>{if(t.length===0){e("/");return}a&&(async()=>{if(a!=null&&a.id)try{const{data:S,error:E}=await Z.from("profiles").select("*").eq("id",a.id).single();if(E){console.error("Erro ao buscar perfil do usurio:",E),c(C=>{var T;return{...C,nome:((T=a.user_metadata)==null?void 0:T.full_name)||"",email:a.email||""}});return}S&&c(C=>({...C,nome:`${S.first_name||""} ${S.last_name||""}`.trim(),email:a.email||"",cpf:S.cpf||S.cnpj||"",telefone:S.phone||"",cep:S.cep||"",rua:S.street||"",numero:S.house_number||"",complemento:S.complemento||"",bairro:S.neighborhood||"",cidade:S.city||"",estado:S.state||""}))}catch(S){console.error("Erro ao carregar dados do perfil:",S),c(E=>{var C;return{...E,nome:((C=a.user_metadata)==null?void 0:C.full_name)||"",email:a.email||""}})}})()},[t,e,a]),_.useEffect(()=>{g(r-m)},[r,m]);const x=(N,S)=>{c(E=>({...E,[N]:S}))},y=N=>{c(S=>({...S,rua:N.logradouro||"",bairro:N.bairro||"",cidade:N.localidade||"",estado:N.uf||""}))},w=()=>{const N=["nome","email","cpf","telefone","cep","rua","numero","bairro","cidade","estado"];for(const S of N)if(!l[S])return yn.error(`Por favor, preencha o campo ${S}`),!1;if(u==="cartao"){const S=["numeroCartao","nomeNoCartao","validadeCartao","cvv"];for(const E of S)if(!l[E])return yn.error(`Por favor, preencha o campo ${E}`),!1}return!0},b=async N=>{try{const{data:S}=await Z.from("profiles").select("branch_id").eq("id",a==null?void 0:a.id).single();await Z.from("coupon_usage").insert({coupon_id:N,user_id:a==null?void 0:a.id,branch_id:(S==null?void 0:S.branch_id)||null,discount_applied:m})}catch(S){console.error("Erro ao registrar uso do cupom:",S)}};return{loading:i,paymentData:l,paymentMethod:u,appliedCoupon:f,discountAmount:m,finalTotal:p,cartItems:t,cartTotal:r,setPaymentData:c,setPaymentMethod:d,setAppliedCoupon:h,setDiscountAmount:v,handlePaymentDataChange:x,handleAddressFromCep:y,processPayment:async()=>{var N;if(w()){o(!0);try{const{data:S,error:E}=await Z.rpc("check_availability_before_checkout",{p_user_id:a==null?void 0:a.id});if(E)throw console.error("Erro ao verificar disponibilidade:",E),new Error("Erro ao verificar disponibilidade dos itens");const C=S.filter(P=>!P.is_available);if(C.length>0){const P=C.map(L=>L.error_message).join("; ");throw new Error(`Alguns itens no esto mais disponveis: ${P}`)}const T={action:"create-checkout",userId:a==null?void 0:a.id,paymentMethod:u,paymentData:{nomeCompleto:l.nome,email:l.email,cpfCnpj:l.cpf.replace(/\D/g,""),telefone:l.telefone.replace(/\D/g,""),cep:l.cep.replace(/\D/g,""),rua:l.rua,numero:l.numero,complemento:l.complemento||"",bairro:l.bairro,cidade:l.cidade,estado:l.estado,numeroCartao:u==="cartao"?l.numeroCartao:"",nomeNoCartao:u==="cartao"?l.nomeNoCartao:"",validadeCartao:u==="cartao"?l.validadeCartao:"",cvv:u==="cartao"?l.cvv:"",parcelas:l.parcelas||1}},{data:A,error:k}=await Z.functions.invoke("click2pay-integration",{body:T});if(k)throw k;if(!A.success)throw new Error(A.error||"Erro no processamento do pagamento");if(f&&await b(f.id),u==="pix"&&A.pix)e("/payment-instructions",{state:{paymentMethod:"pix",qrCode:A.pix.qr_code,qrCodeImage:A.pix.qr_code_image,amount:p,transactionId:A.tid,expiresAt:A.pix.expires_at}});else if(u==="boleto"&&A.boleto)e("/payment-instructions",{state:{paymentMethod:"boleto",boletoUrl:A.boleto.url,barcode:A.boleto.barcode,dueDate:A.boleto.due_date,amount:p,transactionId:A.tid}});else if(u==="cartao"&&(A.status==="paid"||A.status==="approved"))e("/payment-success",{state:{transactionId:A.tid,amount:p,authorizationCode:(N=A.card)==null?void 0:N.authorization_code}});else throw new Error("Resposta inesperada da API de pagamento")}catch(S){console.error("Erro no checkout:",S),yn.error(S.message||"Erro ao processar pagamento. Tente novamente.")}finally{o(!1)}}}}},lhe=()=>{const{user:e}=Gt(),{toast:t}=Pr(),r=Mn(),{clearCart:n}=gL(),{recordCouponUsage:a}=F7();_.useState(!1);const[i,o]=_.useState(!1),[l,c]=_.useState(1),{paymentData:u,paymentMethod:d,appliedCoupon:f,discountAmount:h,finalTotal:m,cartItems:v,cartTotal:p,setPaymentData:g,setPaymentMethod:x,setAppliedCoupon:y,setDiscountAmount:w,handlePaymentDataChange:b,handleAddressFromCep:j,processPayment:N}=ohe(),S=f&&h>0;if(!e)return s.jsx(ch,{to:"/login",replace:!0});if(v.length===0)return s.jsx(ch,{to:"/cart",replace:!0});const E=async()=>{var C,T,A,k;o(!0);try{console.log("Verificando disponibilidade antes do pagamento...");const{data:P,error:L}=await Z.rpc("check_availability_before_checkout",{p_user_id:e.id});if(L)throw console.error("Erro ao verificar disponibilidade:",L),new Error("No foi possvel verificar a disponibilidade dos itens.");const B=(P==null?void 0:P.filter(W=>!W.is_available))||[];if(B.length>0){const W=B.map(ne=>ne.error_message).join("; ");t({variant:"destructive",title:"Itens no disponveis",description:`${W} Redirecionando para o carrinho...`}),setTimeout(()=>{r("/cart")},2e3);return}console.log("Todos os itens esto disponveis, prosseguindo com o pagamento...");let M={...u,nomeCompleto:u.nome,cpfCnpj:u.cpf};if(d==="cartao"){if(!window.C2PgenerateHash)throw new Error("Biblioteca de carto no carregada. Recarregue a pgina.");const W={number:u.numeroCartao.replace(/\s/g,""),name:u.nomeNoCartao,expiry:u.validadeCartao,cvc:u.cvv};console.log("Gerando card_hash para carto...");const ne=await window.C2PgenerateHash(W);if(!ne)throw new Error("Erro ao processar dados do carto");M.card_hash=ne,console.log("Card hash gerado com sucesso")}console.log("Enviando dados para edge function:",{action:"create-checkout",userId:e.id,paymentMethod:d,paymentData:M});let D,O;if(d==="boleto"){if(m<30)throw new Error(`Valor mnimo para boleto  R$ 30,00. Valor atual: ${st(m)}`);const W={payerInfo:{address:{place:M.rua||"",number:M.numero||"",complement:M.complemento||"",neighborhood:M.bairro||"",city:M.cidade||"",state:M.estado||"",zipcode:(M.cep||"").replace(/\D/g,"")},name:M.nomeCompleto||M.nome||"",taxid:(M.cpfCnpj||M.cpf||"").replace(/\D/g,""),phonenumber:(M.telefone||"").replace(/\D/g,""),email:M.email||"",birth_date:"1990-01-01"},totalAmount:m,orderId:`order_${Date.now()}_${e.id.substring(0,8)}`,callbackUrl:`${window.location.origin}/payment-webhook`};console.log("Payload do boleto:",JSON.stringify(W,null,2));const ne=await Z.functions.invoke("checkout-boleto",{body:W});D=ne.data,O=ne.error}else if(d==="dinheiro"){const W=await Z.functions.invoke("admin-cash-payment",{body:{userId:e.id,totalAmount:m,paymentData:M,couponData:S?{couponId:f==null?void 0:f.couponId,couponCode:f==null?void 0:f.couponCode,discountAmount:h,originalTotal:p,finalTotal:m}:null}});D=W.data,O=W.error}else{const W=await Z.functions.invoke("click2pay-integration",{body:{action:"create-checkout",userId:e.id,paymentMethod:d,paymentData:M,couponData:S?{couponId:f==null?void 0:f.couponId,couponCode:f==null?void 0:f.couponCode,discountAmount:h,originalTotal:p,finalTotal:m}:null}});D=W.data,O=W.error}if(console.log("Resposta completa da funo:",{data:D,error:O}),O)throw console.error("Erro detalhado na chamada da funo:",{name:O.name,message:O.message,stack:O.stack,context:O.context}),new Error(`Erro de conexo: ${O.message}`);if(!D||!D.success)throw console.error("Resposta de erro da API:",D),new Error((D==null?void 0:D.error)||"Erro no processamento do pagamento");if(console.log("Resposta da API Click2Pay:",D),d==="boleto"){if(!D.success||!D.boleto)throw new Error(D.error||"Erro ao gerar boleto");if(S&&(f!=null&&f.couponId))try{await a(D.boleto.tid||`boleto_${Date.now()}`,f.couponId.toString(),h.toString())}catch(W){console.error("Erro ao registrar uso do cupom:",W)}n(),r("/payment-instructions",{state:{paymentMethod:"boleto",paymentData:{barcode:D.boleto.barcode,linhaDigitavel:D.boleto.barcode,url:D.boleto.url,urlBoleto:D.boleto.url,vencimento:D.boleto.due_date,tid:D.tid,due_date:D.boleto.due_date,amount:D.totalAmount},orderId:D.orderId}})}else{if(!D.orderId)throw new Error("Erro: Ordem no foi criada corretamente");if(d==="dinheiro"){if(S&&(f!=null&&f.couponId)&&D.orderId)try{await a(D.orderId.toString(),f.couponId.toString(),h.toString())}catch(W){console.error("Erro ao registrar uso do cupom:",W)}n(),t({title:"Pagamento em dinheiro confirmado!",description:"O pagamento foi registrado com sucesso."}),r("/payment-success",{state:{paymentMethod:"dinheiro",transactionId:D.transactionId,amount:m,orderId:D.orderId}})}else if(d==="cartao")if(D.status==="paid"||D.status==="approved"){if(S&&(f!=null&&f.couponId)&&D.orderId)try{await a(D.orderId.toString(),f.couponId.toString(),h.toString())}catch(W){console.error("Erro ao registrar uso do cupom:",W)}n(),t({title:"Pagamento aprovado!",description:"Seu pagamento foi processado com sucesso."}),r("/payment-success")}else throw new Error(D.message||"Carto recusado ou aguardando aprovao");else if(d==="pix"){console.log("Verificando dados do PIX:",D.pix);const W=((C=D.pix)==null?void 0:C.qr_code)||((T=D.pix)==null?void 0:T.qrCode),ne=((A=D.pix)==null?void 0:A.qr_code_image)||((k=D.pix)==null?void 0:k.qrCodeImage);if(!W&&!ne)throw console.error("PIX data received:",D.pix),new Error("Erro: Dados do PIX no foram gerados corretamente");if(S&&(f!=null&&f.couponId)&&D.orderId)try{await a(D.orderId.toString(),f.couponId.toString(),h.toString())}catch(I){console.error("Erro ao registrar uso do cupom:",I)}n();const ee={qrCodeImage:D.pix.qr_code_image||D.pix.qrCodeImage,pixCode:D.pix.qr_code||D.pix.qrCode,reference:D.reference,orderId:D.orderId};console.log("Dados do PIX preparados para navegao:",ee),r("/payment-instructions",{state:{paymentMethod:"pix",paymentData:ee,orderId:D.orderId}})}}}catch(P){console.error("Erro no checkout:",P),r("/payment-error",{state:{error:P,paymentMethod:d,canRetry:!0}})}finally{o(!1)}};return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/30",children:s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Finalizar Compra"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete seus dados para finalizar o pedido"})]}),s.jsx(ihe,{currentStep:l}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Cfe,{paymentData:u,onPaymentDataChange:b}),s.jsx(Afe,{paymentData:u,onPaymentDataChange:b,onAddressFromCep:j}),s.jsx(ahe,{paymentMethod:d,onPaymentMethodChange:x,paymentData:u,onPaymentDataChange:b,finalTotal:m}),s.jsx(re,{onClick:E,disabled:i,className:"w-full h-14 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200",size:"lg",children:i?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),s.jsx("span",{children:"Processando pagamento..."})]}):`Finalizar Pagamento - ${st(m)}`})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Efe,{cartItems:v,cartTotal:p,appliedCoupon:f,discountAmount:h,finalTotal:m})})]})]})})})})},che=()=>{var p;const[e]=NQ(),t=Qi(),r=e.get("order_id"),{toast:n}=Pr(),[a,i]=_.useState(null),[o,l]=_.useState(!0),c=t.state||{},u=c.paymentMethod||"unknown";_.useEffect(()=>{(async()=>{if(!r){l(!1);return}try{const{data:x,error:y}=await Z.from("orders").select(`
            id,
            total_amount,
            created_at,
            status,
            order_items (
              quantity,
              price_per_unit,
              product:products (
                name
              )
            )
          `).eq("id",r).single();if(y)throw y;i(x)}catch(x){console.error("Erro ao buscar detalhes do pedido:",x),n({variant:"destructive",title:"Erro",description:"No foi possvel obter os detalhes do pedido."})}finally{l(!1)}})()},[r,n]);const d=g=>{const x={pix:Ju,cartao:As,boleto:Hi,dinheiro:EL},y={pix:"PIX",cartao:"Carto de Crdito",boleto:"Boleto Bancrio",dinheiro:"Pagamento em Dinheiro"};return{icon:x[g]||As,label:y[g]||"No informado"}},f=g=>{switch(g){case"dinheiro":return{title:"Pagamento em Dinheiro Confirmado!",description:"Seu pagamento foi registrado com sucesso pelo administrador."};case"pix":return{title:"Pagamento PIX Confirmado!",description:"Seu pagamento foi processado e confirmado instantaneamente."};case"cartao":return{title:"Pagamento Aprovado!",description:"Seu carto foi processado com sucesso."};default:return{title:"Pagamento Confirmado!",description:"Seu pagamento foi processado com sucesso."}}};if(o)return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"}),s.jsx("p",{className:"mt-4 text-lg",children:"Carregando detalhes do pagamento..."})]});const h=f(u),m=d(u),v=m.icon;return s.jsx(Er,{children:s.jsx("div",{className:"container mx-auto py-12 max-w-2xl",children:s.jsxs(de,{className:"shadow-lg border-green-200",children:[s.jsxs(Se,{className:"text-center pb-6",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ss,{className:"w-8 h-8 text-green-600"})}),s.jsx($e,{className:"text-2xl font-bold text-green-800",children:h.title}),s.jsx("p",{className:"text-muted-foreground mt-2",children:h.description})]}),s.jsxs(me,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Mtodo de Pagamento:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(v,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:m.label})]})]}),(c.amount||(a==null?void 0:a.total_amount))&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Valor:"}),s.jsx("span",{className:"font-medium text-lg",children:st(c.amount||a.total_amount)})]}),c.transactionId&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"ID da Transao:"}),s.jsx("span",{className:"font-mono text-sm",children:c.transactionId})]}),(c.orderId||(a==null?void 0:a.id))&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Nmero do Pedido:"}),s.jsxs("span",{className:"font-mono text-sm",children:[(p=c.orderId||a.id)==null?void 0:p.substring(0,8),"..."]})]}),c.authorizationCode&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Cdigo de Autorizao:"}),s.jsx("span",{className:"font-mono text-sm",children:c.authorizationCode})]})]}),u==="dinheiro"&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(cN,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800",children:"Importante"})]}),s.jsx("p",{className:"text-sm text-blue-700",children:"Seu pagamento em dinheiro foi confirmado pelo administrador. As reservas foram ativadas e os produtos foram separados."})]}),a&&s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Detalhes do Pedido"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Data:"})," ",Ude(a.created_at).toLocaleDateString("pt-BR")]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",a.status==="paid"?"Pago":"Pendente"]})]}),a.order_items&&a.order_items.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h4",{className:"font-semibold",children:"Itens:"}),s.jsx("ul",{className:"space-y-1",children:a.order_items.map((g,x)=>{var y;return s.jsxs("li",{className:"text-sm flex justify-between",children:[s.jsxs("span",{children:[g.quantity,"x ",((y=g.product)==null?void 0:y.name)||"Produto"]}),s.jsx("span",{children:st(g.price_per_unit*g.quantity)})]},x)})}),s.jsx("div",{className:"pt-2 border-t mt-2",children:s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:st(a.total_amount)})]})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[s.jsx(re,{asChild:!0,className:"flex-1",children:s.jsxs(wt,{to:"/client/my-bookings",children:[s.jsx(cN,{className:"w-4 h-4 mr-2"}),"Ver Minhas Reservas"]})}),s.jsx(re,{variant:"outline",asChild:!0,className:"flex-1",children:s.jsxs(wt,{to:"/",children:[s.jsx(PL,{className:"w-4 h-4 mr-2"}),"Voltar ao Incio"]})})]}),s.jsx("div",{className:"text-center pt-4 border-t",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Voc receber um e-mail de confirmao em breve com todos os detalhes da sua compra."})})]})]})})})},sU=({qrCodeImage:e,pixCode:t,reference:r,orderId:n})=>{const{toast:a}=Pr(),[i,o]=_.useState(!1),[l,c]=_.useState(!1),u=v=>{navigator.clipboard.writeText(v),o(!0),a({title:"Copiado!",description:"Cdigo PIX copiado para a rea de transferncia."}),setTimeout(()=>o(!1),2e3)},d=()=>{if(e)try{const v=document.createElement("a"),p=e.replace(/^data:image\/[a-z]+;base64,/,"");v.href=`data:image/png;base64,${p}`,v.download=`qr-code-pix-${n||"pagamento"}.png`,document.body.appendChild(v),v.click(),document.body.removeChild(v),a({title:"QR Code baixado!",description:"O QR Code foi salvo em seus downloads."})}catch(v){console.error("Erro ao baixar QR Code:",v),a({title:"Erro ao baixar",description:"No foi possvel baixar o QR Code.",variant:"destructive"})}},f=()=>{console.error("Erro ao carregar imagem do QR Code:",e),c(!0)},h=()=>{c(!1)},m=v=>v?v.startsWith("data:image/")?v:`data:image/png;base64,${v}`:"";return s.jsxs(de,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Se,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Ju,{className:"w-8 h-8 text-blue-600"})}),s.jsx($e,{className:"text-xl font-bold text-gray-900",children:"Pagamento via PIX"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Escaneie o QR Code ou copie o cdigo para pagar"})]}),s.jsxs(me,{className:"space-y-6",children:[e&&s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("div",{className:"p-4 bg-white rounded-lg border-2 border-gray-200 shadow-sm",children:l?s.jsxs("div",{className:"w-48 h-48 flex flex-col items-center justify-center bg-gray-100 rounded border-2 border-dashed border-gray-300",children:[s.jsx(Zu,{className:"w-12 h-12 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Erro ao carregar QR Code"}),s.jsx("p",{className:"text-xs text-gray-400 text-center mt-1",children:"Use o cdigo PIX abaixo"})]}):s.jsx("img",{src:m(e),alt:"QR Code PIX",className:"w-48 h-48 object-contain",onError:f,onLoad:h})}),!l&&s.jsxs(re,{variant:"outline",size:"sm",onClick:d,className:"flex items-center space-x-2",children:[s.jsx(cm,{className:"w-4 h-4"}),s.jsx("span",{children:"Baixar QR Code"})]})]}),t&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Cdigo PIX (Copia e Cola):"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:t,readOnly:!0,className:"flex-1 p-3 text-xs border border-gray-300 rounded-md bg-gray-50 font-mono"}),s.jsx(re,{size:"sm",onClick:()=>u(t),disabled:i,className:"px-3",children:i?s.jsx(Ss,{className:"w-4 h-4 text-green-600"}):s.jsx(Hb,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-800",children:[s.jsx(Ju,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Pagamento Instantneo"})]}),s.jsx("p",{className:"text-sm text-blue-700 text-center",children:"O pagamento ser confirmado automaticamente aps a transferncia."}),s.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-md mt-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-amber-800",children:[s.jsx(Zu,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-sm",children:"Tempo de expirao: 20 minutos"})]}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Aps esse perodo, o PIX expirar e voc precisar gerar um novo pagamento."})]}),r&&s.jsxs("p",{className:"text-xs text-blue-600 text-center",children:["Referncia: ",r]}),n&&s.jsxs("p",{className:"text-xs text-blue-600 text-center",children:["Pedido: ",n]})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Como pagar:"}),s.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 text-left",children:[s.jsx("li",{children:"1. Abra o app do seu banco"}),s.jsx("li",{children:"2. Escaneie o QR Code ou cole o cdigo PIX"}),s.jsx("li",{children:"3. Confirme o pagamento"}),s.jsx("li",{children:"4. Pronto! Voc receber a confirmao"})]})]}),!1]})]})},uhe=()=>{const e=Qi(),{toast:t}=Pr(),[r,n]=_.useState(!1),{paymentMethod:a,paymentData:i,orderId:o}=e.state||{},l=c=>{navigator.clipboard.writeText(c),n(!0),t({title:"Copiado!",description:"Cdigo copiado para a rea de transferncia."}),setTimeout(()=>n(!1),2e3)};return!a||!i?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(de,{className:"max-w-md w-full border-l-4 border-l-destructive",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx(_a,{className:"mx-auto h-16 w-16 text-destructive mb-4"}),s.jsx($e,{className:"text-destructive",children:"Dados de Pagamento No Encontrados"}),s.jsx("p",{className:"text-muted-foreground",children:"No foi possvel carregar os dados do pagamento."})]}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:" Sugesto:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Isso pode acontecer se voc recarregou a pgina ou se a sesso expirou. Tente refazer o checkout."})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(re,{asChild:!0,children:s.jsx(wt,{to:"/checkout",children:"Refazer Checkout"})}),s.jsx(re,{asChild:!0,variant:"outline",children:s.jsx(wt,{to:"/cart",children:"Voltar ao Carrinho"})}),s.jsx(re,{asChild:!0,variant:"ghost",children:s.jsx(wt,{to:"/",children:"Pgina Inicial"})})]})]})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[a==="pix"&&s.jsx(sU,{qrCodeImage:i.qrCodeImage,pixCode:i.pixCode,reference:i.reference,orderId:o}),a==="boleto"&&s.jsxs(de,{children:[s.jsxs(Se,{className:"text-center",children:[s.jsx(Hi,{className:"mx-auto h-16 w-16 text-orange-500 mb-4"}),s.jsx($e,{children:"Pagamento via Boleto"}),s.jsx("p",{className:"text-muted-foreground",children:"Use a linha digitvel para pagar o boleto"})]}),s.jsxs(me,{className:"space-y-4",children:[i.linhaDigitavel&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Linha Digitvel:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:i.linhaDigitavel,readOnly:!0,className:"flex-1 p-2 text-xs border rounded bg-muted"}),s.jsx(re,{size:"sm",onClick:()=>l(i.linhaDigitavel),disabled:r,children:r?s.jsx(Ss,{className:"h-4 w-4"}):s.jsx(Hb,{className:"h-4 w-4"})})]})]}),i.urlBoleto&&s.jsx(re,{asChild:!0,className:"w-full",children:s.jsx("a",{href:i.urlBoleto,target:"_blank",rel:"noopener noreferrer",children:"Baixar Boleto PDF"})}),i.vencimento&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Vencimento:"})," ",new Date(i.vencimento).toLocaleDateString("pt-BR")]})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"Pague o boleto em qualquer banco, lotrica ou internet banking."}),s.jsxs("p",{className:"mt-2",children:["Pedido: ",o]})]})]})]}),s.jsxs("div",{className:"mt-6 flex flex-col space-y-3",children:[s.jsx(re,{asChild:!0,variant:"outline",children:s.jsx(wt,{to:"/my-bookings",children:"Ver meus pedidos"})}),s.jsx(re,{asChild:!0,variant:"outline",children:s.jsx(wt,{to:"/",children:"Voltar para a pgina inicial"})})]})]})})})},dhe=e=>{const{toast:t}=Pr(),r=Ni(),{data:n=[],isLoading:a,refetch:i}=it({queryKey:["unified-orders",e],queryFn:async()=>{if(!e)return[];console.log(" Fazendo consulta de pedidos para usurio:",e);const{data:f,error:h}=await Z.from("orders").select(`
          *,
          order_items(
            *,
            product:products(name, price)
          ),
          bookings(
            *,
            room:rooms(name, description)
          ),
          booking_equipment(
            *,
            equipment:equipment(name, description)
          ),
          profiles!fk_orders_profiles(first_name, last_name, email)
        `).eq("user_id",e).order("created_at",{ascending:!1});if(h)throw console.error(" Erro ao buscar pedidos:",h),h;return console.log(" Pedidos carregados:",(f==null?void 0:f.length)||0,"pedidos"),console.log(" Dados:",f),f},enabled:!!e,refetchInterval:3e4}),o=n.filter(f=>f.order_items&&f.order_items.length>0),l=n.filter(f=>f.bookings&&f.bookings.length>0),c=n.filter(f=>f.booking_equipment&&f.booking_equipment.length>0),u=Wr({mutationFn:async f=>{const{data:h,error:m}=await Z.functions.invoke("check-payment-status",{body:{orderId:f}});if(m)throw m;return h},onSuccess:f=>{r.invalidateQueries({queryKey:["unified-orders",e]}),t({title:f.updated?"Status atualizado":"Status verificado",description:f.message||"Verificao concluda"})},onError:f=>{t({title:"Erro ao consultar status",description:f.message||"Erro desconhecido",variant:"destructive"})}}),d=Wr({mutationFn:async({orderId:f,reason:h})=>{const{data:m,error:v}=await Z.functions.invoke("payment-refund",{body:{orderId:f,reason:h}});if(v)throw v;return m},onSuccess:f=>{r.invalidateQueries({queryKey:["unified-orders",e]}),t({title:f.success?"Estorno solicitado":"Erro no estorno",description:f.message,variant:f.success?"default":"destructive"})},onError:f=>{t({title:"Erro ao solicitar estorno",description:f.message||"Erro desconhecido",variant:"destructive"})}});return{allOrders:n,productOrders:o,roomOrders:l,equipmentOrders:c,isLoading:a,refetch:i,checkPaymentStatus:u,requestRefund:d}},fhe=()=>{const{toast:e}=Pr(),{branchId:t}=Kr(),[r,n]=_.useState(null),[a,i]=_.useState(!1);return{companyProfile:r,showAddressDialog:a,setShowAddressDialog:i,handleShowAddress:async()=>{if(!t)return;const{data:l,error:c}=await Z.from("branches").select("*").eq("id",t).single();c?e({title:"Erro",description:"No foi possvel carregar o endereo.",variant:"destructive"}):(n(l),i(!0))}}},hhe=({open:e,onOpenChange:t,companyProfile:r})=>s.jsx(_n,{open:e,onOpenChange:t,children:s.jsxs(un,{className:"max-w-3xl",children:[s.jsx(In,{children:s.jsx(dn,{children:"Endereo da Empresa"})}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:r.name}),s.jsxs("p",{children:[r.street,", ",r.number]}),s.jsxs("p",{children:[r.neighborhood," - ",r.city]})]}),s.jsx("div",{className:"aspect-video w-full",children:s.jsx("iframe",{src:"https://maps.app.goo.gl/dcVnLgY3EDworKFd7",className:"w-full h-full rounded-md border-0",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})}),mhe=()=>s.jsxs("div",{className:"space-y-3",children:[s.jsx(pt,{className:"h-8 w-64"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"})]}),R3=(e,t)=>{if(t==="refunded")return s.jsx(Re,{variant:"destructive",children:"Estornado"});switch(e){case"paid":return s.jsx(Re,{variant:"default",className:"bg-green-500",children:"Pago"});case"pending":return s.jsx(Re,{variant:"secondary",children:"Pendente"});case"cancelled":return s.jsx(Re,{variant:"destructive",children:"Cancelado"});case"processing":return s.jsx(Re,{variant:"outline",children:"Processando"});default:return s.jsx(Re,{variant:"secondary",children:e})}},phe=e=>{switch(e){case"pix":return"PIX";case"cartao":return"Carto de Crdito";case"boleto":return"Boleto";default:return e||"No informado"}},vhe=({order:e,open:t,onOpenChange:r})=>{if(!e)return null;const n=i=>We(new Date(i),"dd/MM/yyyy",{locale:ir}),a=(i,o)=>{const l=We(new Date(i),"HH:mm"),c=We(new Date(o),"HH:mm");return`${l} - ${c}`};return s.jsx(_n,{open:t,onOpenChange:r,children:s.jsxs(un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsxs(dn,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Detalhes do Pedido #",e.id.slice(-8)]}),R3(e.status,e.refund_status)]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Informaes Gerais"]})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Data do Pedido"}),s.jsx("p",{className:"font-medium",children:n(e.created_at)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"}),s.jsx("p",{className:"font-medium text-lg",children:st(e.total_amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mtodo de Pagamento"}),s.jsx("p",{className:"font-medium",children:phe(e.payment_method)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),R3(e.status,e.refund_status)]})]}),e.refund_amount&&s.jsx("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Valor Estornado:"})," ",st(e.refund_amount)]})})]})]}),e.order_items&&e.order_items.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vi,{className:"h-5 w-5"}),"Produtos Adquiridos"]})}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-3",children:[e.order_items.map((i,o)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:i.product.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Quantidade: ",i.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:st(i.price_per_unit*i.quantity)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[st(i.price_per_unit)," cada"]})]})]},i.id)),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between items-center font-medium",children:[s.jsx("span",{children:"Total dos Produtos:"}),s.jsx("span",{children:st(e.order_items.reduce((i,o)=>i+o.price_per_unit*o.quantity,0))})]})]})})]}),e.bookings&&e.bookings.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-5 w-5"}),"Reservas de Salas"]})}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-3",children:[e.bookings.map(i=>s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:i.room.name}),i.room.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:i.room.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ir,{className:"h-4 w-4"}),n(i.start_time)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wn,{className:"h-4 w-4"}),a(i.start_time,i.end_time)]})]}),s.jsx(Re,{variant:"outline",className:"w-fit",children:i.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:st(i.total_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custo da sala"})]})]})},i.id)),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between items-center font-medium",children:[s.jsx("span",{children:"Total das Salas:"}),s.jsx("span",{children:st(e.bookings.reduce((i,o)=>i+o.total_price,0))})]})]})})]}),e.booking_equipment&&e.booking_equipment.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vi,{className:"h-5 w-5"}),"Reservas de Equipamentos"]})}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-3",children:[e.booking_equipment.map(i=>s.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-medium",children:i.equipment.name}),i.equipment.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:i.equipment.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ir,{className:"h-4 w-4"}),n(i.start_time)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Wn,{className:"h-4 w-4"}),a(i.start_time,i.end_time)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{variant:"outline",className:"w-fit",children:i.status}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Quantidade: ",i.quantity]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:st(i.total_price)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Custo do equipamento"})]})]})},i.id)),s.jsx(Fr,{}),s.jsxs("div",{className:"flex justify-between items-center font-medium",children:[s.jsx("span",{children:"Total dos Equipamentos:"}),s.jsx("span",{children:st(e.booking_equipment.reduce((i,o)=>i+o.total_price,0))})]})]})})]})]})]})})},ghe=({order:e,onOrderCancelled:t})=>{var y,w;const{toast:r}=Pr(),[n,a]=_.useState(!1),[i,o]=_.useState(0),[l,c]=_.useState(!1),[u,d]=_.useState(!1),f=(y=e.click2pay_response)==null?void 0:y.pix,h=f==null?void 0:f.qr_code,m=(w=f==null?void 0:f.qr_code_image)==null?void 0:w.value,v=async()=>{if(!u){d(!0);try{const{error:b}=await Z.functions.invoke("cancel-expired-pix-order",{body:{orderId:e.id}});b?(console.error("Erro ao cancelar pedido PIX:",b),r({title:"Erro",description:"Erro ao cancelar pedido expirado",variant:"destructive"})):(r({title:"PIX Expirado",description:"Pedido cancelado automaticamente por expirao",variant:"default"}),t==null||t())}catch(b){console.error("Erro na requisio de cancelamento:",b)}finally{d(!1)}}};_.useEffect(()=>{const b=()=>{const S=new Date(e.created_at).getTime()+20*60*1e3,E=new Date().getTime(),C=Math.max(0,S-E);o(C);const T=C===0;return c(T),T&&!u&&e.status!=="cancelled"&&v(),C};b();const j=setInterval(()=>{b()},1e3);return()=>clearInterval(j)},[e.created_at,e.status,u]);const p=b=>{const j=Math.floor(b/1e3),N=Math.floor(j/60),S=j%60;return`${N.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`},g=b=>{navigator.clipboard.writeText(b),a(!0),r({title:"Copiado!",description:"Cdigo PIX copiado para a rea de transferncia."}),setTimeout(()=>a(!1),2e3)},x=b=>b?b.startsWith("data:image/")?b:`data:image/png;base64,${b}`:"";return l||!f||!h?null:s.jsx(de,{className:"border-blue-200 bg-blue-50/50 backdrop-blur-sm mt-4",children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-blue-800",children:[s.jsx(Wn,{className:"h-5 w-5"}),s.jsxs("span",{className:"font-semibold",children:["Tempo restante: ",p(i)]})]}),m&&s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-2 bg-white rounded-lg border border-blue-200",children:s.jsx("img",{src:x(m),alt:"QR Code PIX",className:"w-32 h-32 object-contain"})})}),h&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-blue-800",children:"Cdigo PIX (Copia e Cola):"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:h,readOnly:!0,className:"flex-1 p-2 text-xs border border-blue-300 rounded-md bg-white font-mono"}),s.jsx(re,{size:"sm",onClick:()=>g(h),disabled:n,className:"px-3 bg-blue-600 hover:bg-blue-700",children:n?s.jsx(Ss,{className:"w-4 h-4 text-green-600"}):s.jsx(Hb,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"bg-blue-100/50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[s.jsx(Ju,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-sm",children:"Como pagar via PIX:"})]}),s.jsxs("ol",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"1. Abra o app do seu banco"}),s.jsx("li",{children:"2. Escaneie o QR Code ou cole o cdigo PIX"}),s.jsx("li",{children:"3. Confirme o pagamento"}),s.jsx("li",{children:"4. Aguarde a confirmao automtica"})]})]}),i<5*60*1e3&&s.jsxs("div",{className:"bg-amber-100 border border-amber-300 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-800",children:[s.jsx(Zu,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium text-sm",children:"Ateno: Pouco tempo restante!"})]}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Complete o pagamento antes que o PIX expire."})]})]})})})},xhe=()=>{const{user:e}=Gt(),[t,r]=_.useState(null),[n,a]=_.useState(!1),{allOrders:i,productOrders:o,roomOrders:l,equipmentOrders:c,isLoading:u,refetch:d,checkPaymentStatus:f,requestRefund:h}=dhe(e==null?void 0:e.id),{companyProfile:m,showAddressDialog:v,setShowAddressDialog:p,handleShowAddress:g}=fhe(),x=N=>{r(N),a(!0)},y=N=>{f.mutate(N)};if(u)return s.jsx(Er,{children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(mhe,{})})});const w=N=>We(new Date(N),"dd/MM/yyyy",{locale:ir}),b=(N,S)=>{if(S==="refunded")return s.jsx(Re,{variant:"destructive",children:"Estornado"});switch(N){case"paid":return s.jsx(Re,{className:"bg-accent text-accent-foreground border-accent/30",children:"Pago"});case"pending":return s.jsx(Re,{variant:"secondary",className:"bg-secondary/20 text-secondary-foreground border-secondary/40",children:"Pendente"});case"cancelled":return s.jsx(Re,{variant:"destructive",children:"Cancelado"});case"processing":return s.jsx(Re,{variant:"outline",className:"border-primary/40 text-primary",children:"Processando"});default:return s.jsx(Re,{variant:"secondary",className:"bg-muted text-muted-foreground",children:N})}},j=({order:N,type:S})=>{const E=()=>{if(S==="products"&&N.order_items){const A=N.order_items.reduce((k,P)=>k+P.quantity,0);return`${A} ${A===1?"produto":"produtos"}`}if(S==="rooms"&&N.bookings)return`${N.bookings.length} ${N.bookings.length===1?"sala reservada":"salas reservadas"}`;if(S==="equipment"&&N.booking_equipment){const A=N.booking_equipment.reduce((k,P)=>k+P.quantity,0);return`${A} ${A===1?"equipamento":"equipamentos"}`}return"Pedido"},C=N.status==="paid"&&!N.refund_status,T=N.payment_method==="pix"&&(N.status==="pending"||N.status==="in_process");return s.jsx(de,{className:"card-3d bg-card/80 backdrop-blur-sm border border-border/50 hover:border-primary/30 transition-all duration-300",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h3",{className:"font-semibold text-lg text-foreground",children:["Pedido #",N.id.slice(-8)]}),b(N.status,N.refund_status)]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E()}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Data: ",w(N.created_at)]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:st(N.total_amount)}),N.payment_method&&s.jsx("p",{className:"text-sm text-muted-foreground",children:N.payment_method==="pix"?"PIX":N.payment_method==="cartao"?"Carto":N.payment_method==="boleto"?"Boleto":N.payment_method})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>x(N),className:"border-primary/30 text-primary hover:bg-primary/10",children:[s.jsx(zi,{className:"mr-2 h-4 w-4"}),"Ver Detalhes"]}),N.status==="pending"&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(N.id),disabled:f.isPending,className:"border-secondary/40 text-secondary-foreground hover:bg-secondary/10",children:[s.jsx(Dy,{className:`mr-2 h-4 w-4 ${f.isPending?"animate-spin":""}`}),"Atualizar Status"]}),C]}),T&&s.jsx(ghe,{order:N,onOrderCancelled:()=>d()})]})})};return s.jsx(Er,{children:s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx(fm,{title:"Meus Pedidos",description:"Acompanhe seus pedidos e reservas em tempo real",children:s.jsxs(re,{variant:"outline",onClick:g,children:[s.jsx(xo,{className:"mr-2 h-4 w-4"}),"Endereo da Empresa"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(de,{className:"card-3d bg-white/80 backdrop-blur-sm border-primary/20",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:s.jsx(hh,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:i.length}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Pedidos Totais"})]})]})})}),s.jsx(de,{className:"card-3d bg-white/80 backdrop-blur-sm border-secondary/30",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-secondary/15",children:s.jsx(Ir,{className:"h-6 w-6 text-secondary-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-secondary-foreground",children:l.length+c.length}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Reservas Ativas"})]})]})})}),s.jsx(de,{className:"card-3d bg-white/80 backdrop-blur-sm border-accent/30",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-accent/15",children:s.jsx(Ec,{className:"h-6 w-6 text-accent-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-accent-foreground",children:i.filter(N=>N.status==="paid").length}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Pedidos Pagos"})]})]})})})]}),s.jsx(de,{className:"card-3d bg-white/90 backdrop-blur-sm border-border/50",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-primary",children:"Todos os Pedidos"}),s.jsxs(Re,{className:"bg-primary/10 text-primary border-primary/30 text-sm",children:[i.length," ",i.length===1?"pedido":"pedidos"]})]}),s.jsx("div",{className:"space-y-4",children:i.length>0?i.map(N=>{var E,C;const S=((E=N.order_items)==null?void 0:E.length)>0?"products":((C=N.bookings)==null?void 0:C.length)>0?"rooms":"equipment";return s.jsx(j,{order:N,type:S},N.id)}):s.jsx(de,{className:"border-border/30",children:s.jsxs(me,{className:"text-center py-16",children:[s.jsx(hh,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum pedido encontrado"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Quando voc fizer um pedido, ele aparecer aqui."})]})})})]})}),s.jsx(hhe,{open:v,onOpenChange:p,companyProfile:m}),s.jsx(vhe,{order:t,open:n,onOpenChange:a})]})})},oU=_.createContext(null),yhe="sidebar:state",bhe=60*60*24*7,whe="18rem",_he="3rem",jhe="b";function _w(){const e=_.useContext(oU);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}var[jw,Xze]=Zi("Tooltip",[pm]),Sw=pm(),lU="TooltipProvider",She=700,MN="tooltip.open",[Nhe,UA]=jw(lU),cU=e=>{const{__scopeTooltip:t,delayDuration:r=She,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=_.useState(!0),c=_.useRef(!1),u=_.useRef(0);return _.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(Nhe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:_.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:i})};cU.displayName=lU;var Nw="Tooltip",[Ehe,Ew]=jw(Nw),uU=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=UA(Nw,e.__scopeTooltip),u=Sw(t),[d,f]=_.useState(null),h=io(),m=_.useRef(0),v=o??c.disableHoverableContent,p=l??c.delayDuration,g=_.useRef(!1),[x=!1,y]=mo({prop:n,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(MN))):c.onClose(),i==null||i(S)}}),w=_.useMemo(()=>x?g.current?"delayed-open":"instant-open":"closed",[x]),b=_.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g.current=!1,y(!0)},[y]),j=_.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),N=_.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{g.current=!0,y(!0),m.current=0},p)},[p,y]);return _.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(dA,{...u,children:s.jsx(Ehe,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{c.isOpenDelayed?N():b()},[c.isOpenDelayed,N,b]),onTriggerLeave:_.useCallback(()=>{v?j():(window.clearTimeout(m.current),m.current=0)},[j,v]),onOpen:b,onClose:j,disableHoverableContent:v,children:r})})};uU.displayName=Nw;var IN="TooltipTrigger",dU=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Ew(IN,r),i=UA(IN,r),o=Sw(r),l=_.useRef(null),c=kt(t,l,a.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(tw,{asChild:!0,...o,children:s.jsx(lt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:nt(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:nt(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:nt(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:nt(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:nt(e.onBlur,a.onClose),onClick:nt(e.onClick,a.onClose)})})});dU.displayName=IN;var Che="TooltipPortal",[Yze,The]=jw(Che,{forceMount:void 0}),_h="TooltipContent",fU=_.forwardRef((e,t)=>{const r=The(_h,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Ew(_h,e.__scopeTooltip);return s.jsx(ei,{present:n||o.open,children:o.disableHoverableContent?s.jsx(hU,{side:a,...i,ref:t}):s.jsx(Ahe,{side:a,...i,ref:t})})}),Ahe=_.forwardRef((e,t)=>{const r=Ew(_h,e.__scopeTooltip),n=UA(_h,e.__scopeTooltip),a=_.useRef(null),i=kt(t,a),[o,l]=_.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=_.useCallback(()=>{l(null),f(!1)},[f]),m=_.useCallback((v,p)=>{const g=v.currentTarget,x={x:v.clientX,y:v.clientY},y=Dhe(x,g.getBoundingClientRect()),w=Rhe(x,y),b=Mhe(p.getBoundingClientRect()),j=Fhe([...w,...b]);l(j),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(c&&d){const v=g=>m(g,d),p=g=>m(g,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),_.useEffect(()=>{if(o){const v=p=>{const g=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),w=!Ihe(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),s.jsx(hU,{...e,ref:i})}),[khe,Phe]=jw(Nw,{isInside:!1}),hU=_.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Ew(_h,r),u=Sw(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(MN,d),()=>document.removeEventListener(MN,d)),[d]),_.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Vv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(fA,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(PT,{children:n}),s.jsx(khe,{scope:r,isInside:!0,children:s.jsx(Sue,{id:c.contentId,role:"tooltip",children:a||n})})]})})});fU.displayName=_h;var mU="TooltipArrow",Ohe=_.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Sw(r);return Phe(mU,r).isInside?null:s.jsx(hA,{...a,...n,ref:t})});Ohe.displayName=mU;function Dhe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Rhe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Mhe(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Ihe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Fhe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$he(t)}function $he(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Lhe=cU,Bhe=uU,Uhe=dU,pU=fU;const Gd=Lhe,Kd=Bhe,Xd=Uhe,yu=_.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(pU,{ref:n,sideOffset:t,className:xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));yu.displayName=pU.displayName;const Qj=768;function qhe(){const[e,t]=_.useState(void 0);return _.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Qj-1}px)`),n=()=>{t(window.innerWidth<Qj)};return r.addEventListener("change",n),t(window.innerWidth<Qj),()=>r.removeEventListener("change",n)},[]),!!e}const vU=_.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=qhe(),[u,d]=_.useState(!1),[f,h]=_.useState(e),m=t??f,v=_.useCallback(y=>{const w=typeof y=="function"?y(m):y;r?r(w):h(w),document.cookie=`${yhe}=${w}; path=/; max-age=${bhe}`},[r,m]),p=_.useCallback(()=>c?d(y=>!y):v(y=>!y),[c,v,d]);_.useEffect(()=>{const y=w=>{w.key===jhe&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const g=m?"expanded":"collapsed",x=_.useMemo(()=>({state:g,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[g,m,v,c,u,d,p]);return s.jsx(oU.Provider,{value:x,children:s.jsx(Gd,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":whe,"--sidebar-width-icon":_he,...a},className:xe("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});vU.displayName="SidebarProvider";const zhe=SA,Hhe=NA,gU=_.forwardRef(({className:e,...t},r)=>s.jsx(Yv,{className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));gU.displayName=Yv.displayName;const Vhe=om("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),xU=_.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Hhe,{children:[s.jsx(gU,{}),s.jsxs(Qv,{ref:a,className:xe(Vhe({side:e}),t),...n,children:[r,s.jsxs(dw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xU.displayName=Qv.displayName;const Whe=_.forwardRef(({className:e,...t},r)=>s.jsx(Zv,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));Whe.displayName=Zv.displayName;const Ghe=_.forwardRef(({className:e,...t},r)=>s.jsx(Jv,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Ghe.displayName=Jv.displayName;const yU=_.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=_w();return r==="none"?s.jsx("div",{className:xe("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(zhe,{open:u,onOpenChange:d,...i,children:s.jsx(xU,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:xe("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:xe("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});yU.displayName="Sidebar";const bU=_.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=_w();return s.jsxs(re,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:xe("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(mre,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});bU.displayName="SidebarTrigger";const Khe=_.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=_w();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:xe("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Khe.displayName="SidebarRail";const wU=_.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:xe("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));wU.displayName="SidebarInset";const Xhe=_.forwardRef(({className:e,...t},r)=>s.jsx(Oe,{ref:r,"data-sidebar":"input",className:xe("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Xhe.displayName="SidebarInput";const Yhe=_.forwardRef(({className:e,...t},r)=>s.jsx(Fr,{ref:r,"data-sidebar":"separator",className:xe("mx-2 w-auto bg-sidebar-border",e),...t}));Yhe.displayName="SidebarSeparator";const _U=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:xe("flex flex-col gap-2 p-2",e),...t}));_U.displayName="SidebarHeader";const jU=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:xe("flex flex-col gap-2 p-2",e),...t}));jU.displayName="SidebarFooter";const SU=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:xe("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));SU.displayName="SidebarContent";const fu=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:xe("relative flex w-full min-w-0 flex-col",e),...t}));fu.displayName="SidebarGroup";const Qhe=_.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Ya:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:xe("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});Qhe.displayName="SidebarGroupAction";const Zhe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:xe("w-full text-sm",e),...t}));Zhe.displayName="SidebarGroupContent";const Yd=_.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Ya:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:xe("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Yd.displayName="SidebarGroupLabel";const hu=_.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:xe("flex w-full min-w-0 flex-col gap-1",e),...t}));hu.displayName="SidebarMenu";const NU=_.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:xe("group/menu-item relative",e),...t}));NU.displayName="SidebarMenuItem";const Jhe=om("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),EU=_.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?Ya:"button",{isMobile:u,state:d}=_w(),f=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:xe(Jhe({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:f}),s.jsx(yu,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});EU.displayName="SidebarMenuButton";const eme=_.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Ya:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:xe("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});eme.displayName="SidebarMenuAction";const tme=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:xe("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));tme.displayName="SidebarMenuBadge";const rme=_.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:xe("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&s.jsx(pt,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(pt,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});rme.displayName="SidebarMenuSkeleton";const nme=_.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:xe("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));nme.displayName="SidebarMenuSub";const ame=_.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));ame.displayName="SidebarMenuSubItem";const ime=_.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Ya:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:xe("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});ime.displayName="SidebarMenuSubButton";const sme=()=>{const{user:e}=Gt(),t=()=>{var r,n,a;return(r=e==null?void 0:e.user_metadata)!=null&&r.first_name&&((n=e==null?void 0:e.user_metadata)!=null&&n.last_name)?`${e.user_metadata.first_name} ${e.user_metadata.last_name}`:((a=e==null?void 0:e.email)==null?void 0:a.split("@")[0])||"Admin"};return s.jsx(_U,{className:"p-2 sm:p-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(CL,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-gray-800 font-bold text-sm sm:text-lg leading-tight truncate",children:"Roomly Admin"}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5 mt-0.5",children:[s.jsx(al,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-gray-600"}),s.jsx("p",{className:"text-gray-600 text-xs truncate",children:t()})]})]})]})})},ome=()=>{const[e,t]=_.useState(0),[r,n]=_.useState(0),[a]=_.useState(typeof window<"u"?new Audio("/notification.mp3"):null),i=Ni(),{data:o}=it({queryKey:["pending-room-bookings"],queryFn:async()=>{const{data:c,error:u}=await Z.from("bookings").select("id").eq("status","in_process");if(u)throw u;return c||[]},refetchInterval:3e4}),{data:l}=it({queryKey:["pending-equipment-bookings"],queryFn:async()=>{const{data:c,error:u}=await Z.from("booking_equipment").select("id").eq("status","in_process");if(u)throw u;return c||[]},refetchInterval:3e4});return _.useEffect(()=>{const c=Z.channel("room_bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},d=>{console.log("Room booking change received:",d),i.invalidateQueries({queryKey:["pending-room-bookings"]}),d.eventType==="INSERT"&&d.new.status==="in_process"&&(a==null||a.play().catch(f=>console.error("Error playing notification sound:",f)))}).subscribe(),u=Z.channel("equipment_bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"booking_equipment"},d=>{console.log("Equipment booking change received:",d),i.invalidateQueries({queryKey:["pending-equipment-bookings"]}),d.eventType==="INSERT"&&d.new.status==="in_process"&&(a==null||a.play().catch(f=>console.error("Error playing notification sound:",f)))}).subscribe();return()=>{Z.removeChannel(c),Z.removeChannel(u)}},[a,i]),_.useEffect(()=>{o&&t(o.length)},[o]),_.useEffect(()=>{l&&n(l.length)},[l]),{roomNotificationCount:e,equipmentNotificationCount:r}},lme=()=>{var i;const e=Qi();ome();const{user:t}=Gt(),r=o=>e.pathname===o||e.pathname.startsWith(`${o}/`),n=((i=t==null?void 0:t.user_metadata)==null?void 0:i.is_super_admin)===!0||(t==null?void 0:t.email)==="admin@example.com"||(t==null?void 0:t.email)==="cpd@sapiens-psi.com.br",a=({to:o,icon:l,children:c,className:u=""})=>s.jsx(NU,{children:s.jsx(EU,{asChild:!0,children:s.jsxs(wt,{to:o,className:`flex items-center gap-2 sm:gap-3 text-gray-700 text-xs sm:text-sm py-2 sm:py-2.5 px-2 sm:px-3 rounded-lg transition-all duration-200 ${r(o)?"bg-blue-50 text-blue-700 font-semibold shadow-sm border-l-2 border-blue-500":"hover:bg-gray-50 hover:text-gray-900"} ${u}`,children:[s.jsx(l,{className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate text-xs sm:text-sm",children:c})]})})});return s.jsxs("div",{className:"flex flex-col h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[s.jsx(fu,{children:s.jsxs(hu,{className:"px-1 sm:px-2 pt-1 sm:pt-2",children:[s.jsx(a,{to:"/admin",icon:ore,children:"Dashboard"}),s.jsx(a,{to:"/admin/today-reservations",icon:Ir,children:"Reservas de Hoje"})]})}),s.jsxs(fu,{children:[s.jsx(Yd,{className:"text-gray-600 text-xs font-medium px-2 sm:px-4 py-1 sm:py-2 mt-1 sm:mt-2 uppercase tracking-wide",children:"Gesto"}),s.jsxs(hu,{className:"px-1 sm:px-2",children:[s.jsx(a,{to:"/admin/company-profile",icon:Oy,children:"Perfil da Empresa"}),s.jsx(a,{to:"/admin/rooms",icon:RT,children:"Salas"}),s.jsx(a,{to:"/admin/equipment",icon:OL,children:"Equipamentos"}),s.jsx(a,{to:"/admin/products",icon:ed,children:"Produtos"}),s.jsx(a,{to:"/admin/coupons",icon:vre,children:"Cupons"})]})]}),s.jsxs(fu,{children:[s.jsx(Yd,{className:"text-gray-600 text-xs font-medium px-2 sm:px-4 py-1 sm:py-2 mt-1 sm:mt-2 uppercase tracking-wide",children:"Reservas & Vendas"}),s.jsxs(hu,{className:"px-1 sm:px-2",children:[s.jsx(a,{to:"/admin/bookings",icon:Py,children:"Reservas de Salas"}),s.jsx(a,{to:"/admin/equipment-bookings",icon:Vi,children:"Reservas de Equipamentos"}),s.jsx(a,{to:"/admin/product-sales",icon:ed,children:"Vendas de Produtos"}),s.jsx(a,{to:"/admin/orders",icon:cN,children:"Pedidos Completos"})]})]}),s.jsxs(fu,{children:[s.jsx(Yd,{className:"text-gray-600 text-xs font-medium px-2 sm:px-4 py-1 sm:py-2 mt-1 sm:mt-2 uppercase tracking-wide",children:"Usurios"}),s.jsxs(hu,{className:"px-1 sm:px-2",children:[s.jsx(a,{to:"/admin/clients",icon:il,children:"Clientes"}),s.jsx(a,{to:"/admin/users",icon:xre,children:"Usurios Admin"})]})]}),s.jsxs(fu,{children:[s.jsx(Yd,{className:"text-gray-600 text-xs font-medium px-2 sm:px-4 py-1 sm:py-2 mt-1 sm:mt-2 uppercase tracking-wide",children:"Relatrios"}),s.jsxs(hu,{className:"px-1 sm:px-2",children:[s.jsx(a,{to:"/admin/financial-reports",icon:Ec,children:"Relatrios Financeiros"}),s.jsx(a,{to:"/admin/inventory",icon:Yte,children:"Inventrio"})]})]}),s.jsxs(fu,{children:[s.jsx(Yd,{className:"text-gray-600 text-xs font-medium px-2 sm:px-4 py-1 sm:py-2 mt-1 sm:mt-2 uppercase tracking-wide",children:"Sistema"}),s.jsxs(hu,{className:"px-1 sm:px-2 pb-2 sm:pb-4",children:[s.jsx(a,{to:"/admin/payment-settings",icon:As,children:"Configuraes de Pagamento"}),s.jsx(a,{to:"/admin/logs",icon:Hi,children:"Logs de Admin"}),n&&s.jsx(a,{to:"/admin/branches",icon:Oy,children:"Filiais"})]})]})]})},cme=()=>{const{signOut:e}=Gt(),t=async()=>{try{console.log("Initiating logout from admin sidebar"),await e()}catch(r){console.error("Erro ao fazer logout:",r)}};return s.jsxs(jU,{className:"flex flex-col gap-2 py-3 px-4 border-t border-gray-200 bg-gray-50",children:[s.jsx(re,{variant:"outline",asChild:!0,className:"w-full bg-white text-gray-700 border-gray-300 hover:bg-gray-50",children:s.jsxs(wt,{to:"/",children:[s.jsx(PL,{className:"mr-2 h-4 w-4"}),"Site Principal"]})}),s.jsxs(re,{variant:"destructive",className:"w-full bg-red-600 hover:bg-red-700 text-white",onClick:t,children:[s.jsx(ure,{className:"mr-2 h-4 w-4"}),"Sair"]})]})},M3="admin_access_validated",ume=({children:e})=>{const{user:t,refreshUserClaims:r}=Gt(),[n,a]=_.useState(!0),[i,o]=_.useState(!1);return _.useEffect(()=>{(async()=>{var u,d,f,h;a(!0);try{const m=S4(M3),v=S4("admin_email");if(m==="true"&&v===(t==null?void 0:t.email)){Mt("Admin access previously validated this session"),o(!0),a(!1);return}await r(),Mt("AdminLayout mounted, user permissions",{isAdmin:(u=t==null?void 0:t.user_metadata)==null?void 0:u.is_admin,role:(d=t==null?void 0:t.user_metadata)==null?void 0:d.role,email:t==null?void 0:t.email}),((f=t==null?void 0:t.user_metadata)==null?void 0:f.is_admin)===!0||((h=t==null?void 0:t.user_metadata)==null?void 0:h.role)==="admin"||(t==null?void 0:t.email)==="admin@example.com"||(t==null?void 0:t.email)==="cpd@sapiens-psi.com.br"?(j4(M3,"true"),j4("admin_email",(t==null?void 0:t.email)||""),o(!0)):(za("Access attempt to admin area by non-admin user"),tt({variant:"destructive",title:"Acesso no autorizado",description:"Voc no tem permisso para acessar o painel administrativo."}),o(!1))}catch(m){za("Error verifying admin access",m),o(!1)}finally{a(!1)}})();const c=setInterval(()=>{r()},5*60*1e3);return()=>clearInterval(c)},[t==null?void 0:t.email,r]),n?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 md:h-16 md:w-16 border-b-2 border-roomly-600 mb-4 md:mb-6"}),s.jsx("p",{className:"text-roomly-600 font-medium text-sm md:text-base text-center",children:"Verificando permisses administrativas..."})]}):i?s.jsx(vU,{children:s.jsxs("div",{className:"flex w-full min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx(yU,{className:"bg-white shadow-2xl border-r border-gray-200",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx(sme,{}),s.jsx(SU,{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:s.jsx(lme,{})}),s.jsx(cme,{})]})}),s.jsx(wU,{className:"flex-1",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("header",{className:"flex items-center justify-between p-3 md:p-4 bg-white border-b border-slate-200 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(bU,{className:"hover:bg-slate-100 transition-colors"}),s.jsx("div",{className:"h-4 md:h-6 w-px bg-slate-300"}),s.jsx("h1",{className:"text-lg md:text-xl font-semibold text-slate-800",children:"Painel Administrativo"})]})}),s.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-auto",children:e||s.jsx(fQ,{})})]})})]})}):s.jsx(ch,{to:"/",replace:!0})};var dme=Array.isArray,ti=dme,fme=typeof It=="object"&&It&&It.Object===Object&&It,CU=fme,hme=CU,mme=typeof self=="object"&&self&&self.Object===Object&&self,pme=hme||mme||Function("return this")(),wo=pme,vme=wo,gme=vme.Symbol,tg=gme,I3=tg,TU=Object.prototype,xme=TU.hasOwnProperty,yme=TU.toString,ep=I3?I3.toStringTag:void 0;function bme(e){var t=xme.call(e,ep),r=e[ep];try{e[ep]=void 0;var n=!0}catch{}var a=yme.call(e);return n&&(t?e[ep]=r:delete e[ep]),a}var wme=bme,_me=Object.prototype,jme=_me.toString;function Sme(e){return jme.call(e)}var Nme=Sme,F3=tg,Eme=wme,Cme=Nme,Tme="[object Null]",Ame="[object Undefined]",$3=F3?F3.toStringTag:void 0;function kme(e){return e==null?e===void 0?Ame:Tme:$3&&$3 in Object(e)?Eme(e):Cme(e)}var wl=kme;function Pme(e){return e!=null&&typeof e=="object"}var _l=Pme,Ome=wl,Dme=_l,Rme="[object Symbol]";function Mme(e){return typeof e=="symbol"||Dme(e)&&Ome(e)==Rme}var gm=Mme,Ime=ti,Fme=gm,$me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lme=/^\w*$/;function Bme(e,t){if(Ime(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Fme(e)?!0:Lme.test(e)||!$me.test(e)||t!=null&&e in Object(t)}var qA=Bme;function Ume(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Xc=Ume;const xm=Qt(Xc);var qme=wl,zme=Xc,Hme="[object AsyncFunction]",Vme="[object Function]",Wme="[object GeneratorFunction]",Gme="[object Proxy]";function Kme(e){if(!zme(e))return!1;var t=qme(e);return t==Vme||t==Wme||t==Hme||t==Gme}var zA=Kme;const xt=Qt(zA);var Xme=wo,Yme=Xme["__core-js_shared__"],Qme=Yme,Zj=Qme,L3=function(){var e=/[^.]+$/.exec(Zj&&Zj.keys&&Zj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zme(e){return!!L3&&L3 in e}var Jme=Zme,epe=Function.prototype,tpe=epe.toString;function rpe(e){if(e!=null){try{return tpe.call(e)}catch{}try{return e+""}catch{}}return""}var AU=rpe,npe=zA,ape=Jme,ipe=Xc,spe=AU,ope=/[\\^$.*+?()[\]{}|]/g,lpe=/^\[object .+?Constructor\]$/,cpe=Function.prototype,upe=Object.prototype,dpe=cpe.toString,fpe=upe.hasOwnProperty,hpe=RegExp("^"+dpe.call(fpe).replace(ope,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mpe(e){if(!ipe(e)||ape(e))return!1;var t=npe(e)?hpe:lpe;return t.test(spe(e))}var ppe=mpe;function vpe(e,t){return e==null?void 0:e[t]}var gpe=vpe,xpe=ppe,ype=gpe;function bpe(e,t){var r=ype(e,t);return xpe(r)?r:void 0}var bd=bpe,wpe=bd,_pe=wpe(Object,"create"),Cw=_pe,B3=Cw;function jpe(){this.__data__=B3?B3(null):{},this.size=0}var Spe=jpe;function Npe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Epe=Npe,Cpe=Cw,Tpe="__lodash_hash_undefined__",Ape=Object.prototype,kpe=Ape.hasOwnProperty;function Ppe(e){var t=this.__data__;if(Cpe){var r=t[e];return r===Tpe?void 0:r}return kpe.call(t,e)?t[e]:void 0}var Ope=Ppe,Dpe=Cw,Rpe=Object.prototype,Mpe=Rpe.hasOwnProperty;function Ipe(e){var t=this.__data__;return Dpe?t[e]!==void 0:Mpe.call(t,e)}var Fpe=Ipe,$pe=Cw,Lpe="__lodash_hash_undefined__";function Bpe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$pe&&t===void 0?Lpe:t,this}var Upe=Bpe,qpe=Spe,zpe=Epe,Hpe=Ope,Vpe=Fpe,Wpe=Upe;function ym(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ym.prototype.clear=qpe;ym.prototype.delete=zpe;ym.prototype.get=Hpe;ym.prototype.has=Vpe;ym.prototype.set=Wpe;var Gpe=ym;function Kpe(){this.__data__=[],this.size=0}var Xpe=Kpe;function Ype(e,t){return e===t||e!==e&&t!==t}var HA=Ype,Qpe=HA;function Zpe(e,t){for(var r=e.length;r--;)if(Qpe(e[r][0],t))return r;return-1}var Tw=Zpe,Jpe=Tw,e0e=Array.prototype,t0e=e0e.splice;function r0e(e){var t=this.__data__,r=Jpe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():t0e.call(t,r,1),--this.size,!0}var n0e=r0e,a0e=Tw;function i0e(e){var t=this.__data__,r=a0e(t,e);return r<0?void 0:t[r][1]}var s0e=i0e,o0e=Tw;function l0e(e){return o0e(this.__data__,e)>-1}var c0e=l0e,u0e=Tw;function d0e(e,t){var r=this.__data__,n=u0e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var f0e=d0e,h0e=Xpe,m0e=n0e,p0e=s0e,v0e=c0e,g0e=f0e;function bm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bm.prototype.clear=h0e;bm.prototype.delete=m0e;bm.prototype.get=p0e;bm.prototype.has=v0e;bm.prototype.set=g0e;var Aw=bm,x0e=bd,y0e=wo,b0e=x0e(y0e,"Map"),VA=b0e,U3=Gpe,w0e=Aw,_0e=VA;function j0e(){this.size=0,this.__data__={hash:new U3,map:new(_0e||w0e),string:new U3}}var S0e=j0e;function N0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var E0e=N0e,C0e=E0e;function T0e(e,t){var r=e.__data__;return C0e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kw=T0e,A0e=kw;function k0e(e){var t=A0e(this,e).delete(e);return this.size-=t?1:0,t}var P0e=k0e,O0e=kw;function D0e(e){return O0e(this,e).get(e)}var R0e=D0e,M0e=kw;function I0e(e){return M0e(this,e).has(e)}var F0e=I0e,$0e=kw;function L0e(e,t){var r=$0e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var B0e=L0e,U0e=S0e,q0e=P0e,z0e=R0e,H0e=F0e,V0e=B0e;function wm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wm.prototype.clear=U0e;wm.prototype.delete=q0e;wm.prototype.get=z0e;wm.prototype.has=H0e;wm.prototype.set=V0e;var WA=wm,kU=WA,W0e="Expected a function";function GA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(W0e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(GA.Cache||kU),r}GA.Cache=kU;var PU=GA;const G0e=Qt(PU);var K0e=PU,X0e=500;function Y0e(e){var t=K0e(e,function(n){return r.size===X0e&&r.clear(),n}),r=t.cache;return t}var Q0e=Y0e,Z0e=Q0e,J0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eve=/\\(\\)?/g,tve=Z0e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(J0e,function(r,n,a,i){t.push(a?i.replace(eve,"$1"):n||r)}),t}),rve=tve;function nve(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var KA=nve,q3=tg,ave=KA,ive=ti,sve=gm,ove=1/0,z3=q3?q3.prototype:void 0,H3=z3?z3.toString:void 0;function OU(e){if(typeof e=="string")return e;if(ive(e))return ave(e,OU)+"";if(sve(e))return H3?H3.call(e):"";var t=e+"";return t=="0"&&1/e==-ove?"-0":t}var lve=OU,cve=lve;function uve(e){return e==null?"":cve(e)}var DU=uve,dve=ti,fve=qA,hve=rve,mve=DU;function pve(e,t){return dve(e)?e:fve(e,t)?[e]:hve(mve(e))}var RU=pve,vve=gm,gve=1/0;function xve(e){if(typeof e=="string"||vve(e))return e;var t=e+"";return t=="0"&&1/e==-gve?"-0":t}var Pw=xve,yve=RU,bve=Pw;function wve(e,t){t=yve(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[bve(t[r++])];return r&&r==n?e:void 0}var XA=wve,_ve=XA;function jve(e,t,r){var n=e==null?void 0:_ve(e,t);return n===void 0?r:n}var MU=jve;const xi=Qt(MU);function Sve(e){return e==null}var Nve=Sve;const Pt=Qt(Nve);var Eve=wl,Cve=ti,Tve=_l,Ave="[object String]";function kve(e){return typeof e=="string"||!Cve(e)&&Tve(e)&&Eve(e)==Ave}var Pve=kve;const rg=Qt(Pve);var IU={exports:{}},ur={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA=Symbol.for("react.element"),QA=Symbol.for("react.portal"),Ow=Symbol.for("react.fragment"),Dw=Symbol.for("react.strict_mode"),Rw=Symbol.for("react.profiler"),Mw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),Ove=Symbol.for("react.server_context"),Fw=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),Lw=Symbol.for("react.suspense_list"),Bw=Symbol.for("react.memo"),Uw=Symbol.for("react.lazy"),Dve=Symbol.for("react.offscreen"),FU;FU=Symbol.for("react.module.reference");function es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YA:switch(e=e.type,e){case Ow:case Rw:case Dw:case $w:case Lw:return e;default:switch(e=e&&e.$$typeof,e){case Ove:case Iw:case Fw:case Uw:case Bw:case Mw:return e;default:return t}}case QA:return t}}}ur.ContextConsumer=Iw;ur.ContextProvider=Mw;ur.Element=YA;ur.ForwardRef=Fw;ur.Fragment=Ow;ur.Lazy=Uw;ur.Memo=Bw;ur.Portal=QA;ur.Profiler=Rw;ur.StrictMode=Dw;ur.Suspense=$w;ur.SuspenseList=Lw;ur.isAsyncMode=function(){return!1};ur.isConcurrentMode=function(){return!1};ur.isContextConsumer=function(e){return es(e)===Iw};ur.isContextProvider=function(e){return es(e)===Mw};ur.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YA};ur.isForwardRef=function(e){return es(e)===Fw};ur.isFragment=function(e){return es(e)===Ow};ur.isLazy=function(e){return es(e)===Uw};ur.isMemo=function(e){return es(e)===Bw};ur.isPortal=function(e){return es(e)===QA};ur.isProfiler=function(e){return es(e)===Rw};ur.isStrictMode=function(e){return es(e)===Dw};ur.isSuspense=function(e){return es(e)===$w};ur.isSuspenseList=function(e){return es(e)===Lw};ur.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ow||e===Rw||e===Dw||e===$w||e===Lw||e===Dve||typeof e=="object"&&e!==null&&(e.$$typeof===Uw||e.$$typeof===Bw||e.$$typeof===Mw||e.$$typeof===Iw||e.$$typeof===Fw||e.$$typeof===FU||e.getModuleId!==void 0)};ur.typeOf=es;IU.exports=ur;var $U=IU.exports,Rve=wl,Mve=_l,Ive="[object Number]";function Fve(e){return typeof e=="number"||Mve(e)&&Rve(e)==Ive}var LU=Fve;const $ve=Qt(LU);var Lve=LU;function Bve(e){return Lve(e)&&e!=+e}var Uve=Bve;const ng=Qt(Uve);var Sa=function(t){return t===0?0:t>0?1:-1},Cu=function(t){return rg(t)&&t.indexOf("%")===t.length-1},Ue=function(t){return $ve(t)&&!ng(t)},wn=function(t){return Ue(t)||rg(t)},qve=0,ag=function(t){var r=++qve;return"".concat(t||"").concat(r)},Na=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&!rg(t))return n;var i;if(Cu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ng(i)&&(i=n),a&&i>r&&(i=r),i},Kl=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},zve=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Bl=function(t,r){return Ue(t)&&Ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function FN(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):xi(n,t))===r})}function Df(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $N(e){"@babel/helpers - typeof";return $N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$N(e)}var Hve=["viewBox","children"],Vve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],V3=["points","pathLength"],Jj={svg:Hve,polygon:V3,polyline:V3},ZA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!xm(n))return null;var a={};return Object.keys(n).forEach(function(i){ZA.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Wve=function(t,r,n){return function(a){return t(r,n,a),null}},ld=function(t,r,n){if(!xm(t)||$N(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];ZA.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Wve(o,r,n))}),a},Gve=["children"],Kve=["children"];function W3(e,t){if(e==null)return{};var r=Xve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var G3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Wo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},K3=null,e2=null,JA=function e(t){if(t===K3&&Array.isArray(e2))return e2;var r=[];return _.Children.forEach(t,function(n){Pt(n)||($U.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),e2=r,K3=t,r};function Wi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Wo(a)}):n=[Wo(t)],JA(e).forEach(function(a){var i=xi(a,"type.displayName")||xi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function li(e,t){var r=Wi(e,t);return r&&r[0]}var X3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Ue(n)||n<=0||!Ue(a)||a<=0)},Yve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qve=function(t){return t&&t.type&&rg(t.type)&&Yve.indexOf(t.type)>=0},Zve=function(t,r,n,a){var i,o=(i=Jj==null?void 0:Jj[a])!==null&&i!==void 0?i:[];return!xt(t)&&(a&&o.includes(r)||Vve.includes(r))||n&&ZA.includes(r)},ht=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(_.isValidElement(t)&&(a=t.props),!xm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Zve((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},LN=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Y3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Y3(i,o))return!1}return!0},Y3=function(t,r){if(Pt(t)&&Pt(r))return!0;if(!Pt(t)&&!Pt(r)){var n=t.props||{},a=n.children,i=W3(n,Gve),o=r.props||{},l=o.children,c=W3(o,Kve);return a&&l?Df(i,c)&&LN(a,l):!a&&!l?Df(i,c):!1}return!1},Q3=function(t,r){var n=[],a={};return JA(t).forEach(function(i,o){if(Qve(i))n.push(i);else if(i){var l=Wo(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Jve=function(t){var r=t&&t.type;return r&&G3[r]?G3[r]:null},ege=function(t,r){return JA(r).indexOf(t)},tge=["children","width","height","viewBox","className","style","title","desc"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(this,arguments)}function rge(e,t){if(e==null)return{};var r=nge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=rge(e,tge),d=a||{width:r,height:n,x:0,y:0},f=Tt("recharts-surface",i);return F.createElement("svg",BN({},ht(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var age=["children","className"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function ige(e,t){if(e==null)return{};var r=sge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sr=F.forwardRef(function(e,t){var r=e.children,n=e.className,a=ige(e,age),i=Tt("recharts-layer",n);return F.createElement("g",qN({className:i},ht(a,!0),{ref:t}),r)}),Es=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function oge(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var lge=oge,cge=lge;function uge(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:cge(e,t,r)}var dge=uge,fge="\\ud800-\\udfff",hge="\\u0300-\\u036f",mge="\\ufe20-\\ufe2f",pge="\\u20d0-\\u20ff",vge=hge+mge+pge,gge="\\ufe0e\\ufe0f",xge="\\u200d",yge=RegExp("["+xge+fge+vge+gge+"]");function bge(e){return yge.test(e)}var BU=bge;function wge(e){return e.split("")}var _ge=wge,UU="\\ud800-\\udfff",jge="\\u0300-\\u036f",Sge="\\ufe20-\\ufe2f",Nge="\\u20d0-\\u20ff",Ege=jge+Sge+Nge,Cge="\\ufe0e\\ufe0f",Tge="["+UU+"]",zN="["+Ege+"]",HN="\\ud83c[\\udffb-\\udfff]",Age="(?:"+zN+"|"+HN+")",qU="[^"+UU+"]",zU="(?:\\ud83c[\\udde6-\\uddff]){2}",HU="[\\ud800-\\udbff][\\udc00-\\udfff]",kge="\\u200d",VU=Age+"?",WU="["+Cge+"]?",Pge="(?:"+kge+"(?:"+[qU,zU,HU].join("|")+")"+WU+VU+")*",Oge=WU+VU+Pge,Dge="(?:"+[qU+zN+"?",zN,zU,HU,Tge].join("|")+")",Rge=RegExp(HN+"(?="+HN+")|"+Dge+Oge,"g");function Mge(e){return e.match(Rge)||[]}var Ige=Mge,Fge=_ge,$ge=BU,Lge=Ige;function Bge(e){return $ge(e)?Lge(e):Fge(e)}var Uge=Bge,qge=dge,zge=BU,Hge=Uge,Vge=DU;function Wge(e){return function(t){t=Vge(t);var r=zge(t)?Hge(t):void 0,n=r?r[0]:t.charAt(0),a=r?qge(r,1).join(""):t.slice(1);return n[e]()+a}}var Gge=Wge,Kge=Gge,Xge=Kge("toUpperCase"),Yge=Xge;const qw=Qt(Yge);function xr(e){return function(){return e}}const GU=Math.cos,n1=Math.sin,Ms=Math.sqrt,a1=Math.PI,zw=2*a1,VN=Math.PI,WN=2*VN,mu=1e-6,Qge=WN-mu;function KU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KU;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Jge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KU:Zge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>mu)if(!(Math.abs(f*c-u*d)>mu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,p=c*c+u*u,g=m*m+v*v,x=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((VN-Math.acos((p+h-g)/(2*x*y)))/2),b=w/y,j=w/x;Math.abs(b-1)>mu&&this._append`L${t+b*d},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>mu||Math.abs(this._y1-d)>mu)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%WN+WN),h>Qge?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>mu&&this._append`A${n},${n},0,${+(h>=VN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ek(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Jge(t)}function tk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XU(e){this._context=e}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hw(e){return new XU(e)}function YU(e){return e[0]}function QU(e){return e[1]}function ZU(e,t){var r=xr(!0),n=null,a=Hw,i=null,o=ek(l);e=typeof e=="function"?e:e===void 0?YU:xr(e),t=typeof t=="function"?t:t===void 0?QU:xr(t);function l(c){var u,d=(c=tk(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:xr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:xr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function ix(e,t,r){var n=null,a=xr(!0),i=null,o=Hw,l=null,c=ek(u);e=typeof e=="function"?e:e===void 0?YU:xr(+e),t=typeof t=="function"?t:xr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QU:xr(+r);function u(f){var h,m,v,p=(f=tk(f)).length,g,x=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(g=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],b[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(g,h,f),b[h]=+t(g,h,f),l.point(n?+n(g,h,f):w[h],r?+r(g,h,f):b[h]))}if(y)return l=null,y+""||null}function d(){return ZU().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:xr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:xr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:xr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:xr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:xr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class JU{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function exe(e){return new JU(e,!0)}function txe(e){return new JU(e,!1)}const rk={draw(e,t){const r=Ms(t/a1);e.moveTo(r,0),e.arc(0,0,r,0,zw)}},rxe={draw(e,t){const r=Ms(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eq=Ms(1/3),nxe=eq*2,axe={draw(e,t){const r=Ms(t/nxe),n=r*eq;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ixe={draw(e,t){const r=Ms(t),n=-r/2;e.rect(n,n,r,r)}},sxe=.8908130915292852,tq=n1(a1/10)/n1(7*a1/10),oxe=n1(zw/10)*tq,lxe=-GU(zw/10)*tq,cxe={draw(e,t){const r=Ms(t*sxe),n=oxe*r,a=lxe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=zw*i/5,l=GU(o),c=n1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},t2=Ms(3),uxe={draw(e,t){const r=-Ms(t/(t2*3));e.moveTo(0,r*2),e.lineTo(-t2*r,-r),e.lineTo(t2*r,-r),e.closePath()}},Ti=-.5,Ai=Ms(3)/2,GN=1/Ms(12),dxe=(GN/2+1)*3,fxe={draw(e,t){const r=Ms(t/dxe),n=r/2,a=r*GN,i=n,o=r*GN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ti*n-Ai*a,Ai*n+Ti*a),e.lineTo(Ti*i-Ai*o,Ai*i+Ti*o),e.lineTo(Ti*l-Ai*c,Ai*l+Ti*c),e.lineTo(Ti*n+Ai*a,Ti*a-Ai*n),e.lineTo(Ti*i+Ai*o,Ti*o-Ai*i),e.lineTo(Ti*l+Ai*c,Ti*c-Ai*l),e.closePath()}};function hxe(e,t){let r=null,n=ek(a);e=typeof e=="function"?e:xr(e||rk),t=typeof t=="function"?t:xr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:xr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:xr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function i1(){}function s1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rq(e){this._context=e}rq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mxe(e){return new rq(e)}function nq(e){this._context=e}nq.prototype={areaStart:i1,areaEnd:i1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:s1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pxe(e){return new nq(e)}function aq(e){this._context=e}aq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:s1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vxe(e){return new aq(e)}function iq(e){this._context=e}iq.prototype={areaStart:i1,areaEnd:i1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gxe(e){return new iq(e)}function Z3(e){return e<0?-1:1}function J3(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(Z3(i)+Z3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function eD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function r2(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function o1(e){this._context=e}o1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:r2(this,this._t0,eD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,r2(this,eD(this,r=J3(this,e,t)),r);break;default:r2(this,this._t0,r=J3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function sq(e){this._context=new oq(e)}(sq.prototype=Object.create(o1.prototype)).point=function(e,t){o1.prototype.point.call(this,t,e)};function oq(e){this._context=e}oq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function xxe(e){return new o1(e)}function yxe(e){return new sq(e)}function lq(e){this._context=e}lq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=tD(e),a=tD(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tD(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function bxe(e){return new lq(e)}function Vw(e,t){this._context=e,this._t=t}Vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wxe(e){return new Vw(e,.5)}function _xe(e){return new Vw(e,0)}function jxe(e){return new Vw(e,1)}function jh(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function KN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Sxe(e,t){return e[t]}function Nxe(e){const t=[];return t.key=e,t}function Exe(){var e=xr([]),t=KN,r=jh,n=Sxe;function a(i){var o=Array.from(e.apply(this,arguments),Nxe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=tk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:xr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:xr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?KN:typeof i=="function"?i:xr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??jh,a):r},a}function Cxe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}jh(e,t)}}function Txe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jh(e,t)}}function Axe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],g=p[n][1]||0,x=p[n-1][1]||0;m+=g-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,jh(e,t)}}function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}var kxe=["type","size","sizeType"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){Pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pxe(e,t,r){return t=Oxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oxe(e){var t=Dxe(e,"string");return F0(t)=="symbol"?t:t+""}function Dxe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rxe(e,t){if(e==null)return{};var r=Mxe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cq={symbolCircle:rk,symbolCross:rxe,symbolDiamond:axe,symbolSquare:ixe,symbolStar:cxe,symbolTriangle:uxe,symbolWye:fxe},Ixe=Math.PI/180,Fxe=function(t){var r="symbol".concat(qw(t));return cq[r]||rk},$xe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Ixe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Lxe=function(t,r){cq["symbol".concat(qw(t))]=r},nk=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Rxe(t,kxe),u=nD(nD({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=Fxe(n),x=hxe().type(g).size($xe(i,l,n));return x()},f=u.className,h=u.cx,m=u.cy,v=ht(u,!0);return h===+h&&m===+m&&i===+i?F.createElement("path",XN({},v,{className:Tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};nk.registerSymbol=Lxe;function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){$0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dq(n.key),n)}}function zxe(e,t,r){return t&&qxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hxe(e,t,r){return t=l1(t),Vxe(e,uq()?Reflect.construct(t,r||[],l1(e).constructor):t.apply(e,r))}function Vxe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wxe(e)}function Wxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!e})()}function l1(e){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(e)}function Gxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QN(e,t)}function $0(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=Kxe(e,"string");return Sh(t)=="symbol"?t:t+""}function Kxe(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ki=32,ak=function(e){function t(){return Uxe(this,t),Hxe(this,t,arguments)}return Gxe(t,e),zxe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ki/2,o=ki/6,l=ki/3,c=n.inactive?a:n.color;if(n.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ki,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ki,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(F.isValidElement(n.legendIcon)){var u=Bxe({},n);return delete u.legendIcon,F.cloneElement(n.legendIcon,u)}return F.createElement(nk,{fill:c,cx:i,cy:i,size:ki,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ki,height:ki},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var p=m.formatter||c,g=Tt($0($0({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=xt(m.value)?null:m.value;Es(!xt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return F.createElement("li",YN({className:g,style:f,key:"legend-item-".concat(v)},ld(n.props,m,v)),F.createElement(UN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(x,m,v):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);$0(ak,"displayName","Legend");$0(ak,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Xxe=Aw;function Yxe(){this.__data__=new Xxe,this.size=0}var Qxe=Yxe;function Zxe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Jxe=Zxe;function eye(e){return this.__data__.get(e)}var tye=eye;function rye(e){return this.__data__.has(e)}var nye=rye,aye=Aw,iye=VA,sye=WA,oye=200;function lye(e,t){var r=this.__data__;if(r instanceof aye){var n=r.__data__;if(!iye||n.length<oye-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new sye(n)}return r.set(e,t),this.size=r.size,this}var cye=lye,uye=Aw,dye=Qxe,fye=Jxe,hye=tye,mye=nye,pye=cye;function _m(e){var t=this.__data__=new uye(e);this.size=t.size}_m.prototype.clear=dye;_m.prototype.delete=fye;_m.prototype.get=hye;_m.prototype.has=mye;_m.prototype.set=pye;var fq=_m,vye="__lodash_hash_undefined__";function gye(e){return this.__data__.set(e,vye),this}var xye=gye;function yye(e){return this.__data__.has(e)}var bye=yye,wye=WA,_ye=xye,jye=bye;function c1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new wye;++t<r;)this.add(e[t])}c1.prototype.add=c1.prototype.push=_ye;c1.prototype.has=jye;var hq=c1;function Sye(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mq=Sye;function Nye(e,t){return e.has(t)}var pq=Nye,Eye=hq,Cye=mq,Tye=pq,Aye=1,kye=2;function Pye(e,t,r,n,a,i){var o=r&Aye,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&kye?new Eye:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var g=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!Cye(t,function(x,y){if(!Tye(m,y)&&(v===x||a(v,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var vq=Pye,Oye=wo,Dye=Oye.Uint8Array,Rye=Dye;function Mye(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Iye=Mye;function Fye(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ik=Fye,iD=tg,sD=Rye,$ye=HA,Lye=vq,Bye=Iye,Uye=ik,qye=1,zye=2,Hye="[object Boolean]",Vye="[object Date]",Wye="[object Error]",Gye="[object Map]",Kye="[object Number]",Xye="[object RegExp]",Yye="[object Set]",Qye="[object String]",Zye="[object Symbol]",Jye="[object ArrayBuffer]",e1e="[object DataView]",oD=iD?iD.prototype:void 0,n2=oD?oD.valueOf:void 0;function t1e(e,t,r,n,a,i,o){switch(r){case e1e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jye:return!(e.byteLength!=t.byteLength||!i(new sD(e),new sD(t)));case Hye:case Vye:case Kye:return $ye(+e,+t);case Wye:return e.name==t.name&&e.message==t.message;case Xye:case Qye:return e==t+"";case Gye:var l=Bye;case Yye:var c=n&qye;if(l||(l=Uye),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=zye,o.set(e,t);var d=Lye(l(e),l(t),n,a,i,o);return o.delete(e),d;case Zye:if(n2)return n2.call(e)==n2.call(t)}return!1}var r1e=t1e;function n1e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var gq=n1e,a1e=gq,i1e=ti;function s1e(e,t,r){var n=t(e);return i1e(e)?n:a1e(n,r(e))}var o1e=s1e;function l1e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var c1e=l1e;function u1e(){return[]}var d1e=u1e,f1e=c1e,h1e=d1e,m1e=Object.prototype,p1e=m1e.propertyIsEnumerable,lD=Object.getOwnPropertySymbols,v1e=lD?function(e){return e==null?[]:(e=Object(e),f1e(lD(e),function(t){return p1e.call(e,t)}))}:h1e,g1e=v1e;function x1e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var y1e=x1e,b1e=wl,w1e=_l,_1e="[object Arguments]";function j1e(e){return w1e(e)&&b1e(e)==_1e}var S1e=j1e,cD=S1e,N1e=_l,xq=Object.prototype,E1e=xq.hasOwnProperty,C1e=xq.propertyIsEnumerable,T1e=cD(function(){return arguments}())?cD:function(e){return N1e(e)&&E1e.call(e,"callee")&&!C1e.call(e,"callee")},sk=T1e,u1={exports:{}};function A1e(){return!1}var k1e=A1e;u1.exports;(function(e,t){var r=wo,n=k1e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(u1,u1.exports);var yq=u1.exports,P1e=9007199254740991,O1e=/^(?:0|[1-9]\d*)$/;function D1e(e,t){var r=typeof e;return t=t??P1e,!!t&&(r=="number"||r!="symbol"&&O1e.test(e))&&e>-1&&e%1==0&&e<t}var ok=D1e,R1e=9007199254740991;function M1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=R1e}var lk=M1e,I1e=wl,F1e=lk,$1e=_l,L1e="[object Arguments]",B1e="[object Array]",U1e="[object Boolean]",q1e="[object Date]",z1e="[object Error]",H1e="[object Function]",V1e="[object Map]",W1e="[object Number]",G1e="[object Object]",K1e="[object RegExp]",X1e="[object Set]",Y1e="[object String]",Q1e="[object WeakMap]",Z1e="[object ArrayBuffer]",J1e="[object DataView]",ebe="[object Float32Array]",tbe="[object Float64Array]",rbe="[object Int8Array]",nbe="[object Int16Array]",abe="[object Int32Array]",ibe="[object Uint8Array]",sbe="[object Uint8ClampedArray]",obe="[object Uint16Array]",lbe="[object Uint32Array]",Sr={};Sr[ebe]=Sr[tbe]=Sr[rbe]=Sr[nbe]=Sr[abe]=Sr[ibe]=Sr[sbe]=Sr[obe]=Sr[lbe]=!0;Sr[L1e]=Sr[B1e]=Sr[Z1e]=Sr[U1e]=Sr[J1e]=Sr[q1e]=Sr[z1e]=Sr[H1e]=Sr[V1e]=Sr[W1e]=Sr[G1e]=Sr[K1e]=Sr[X1e]=Sr[Y1e]=Sr[Q1e]=!1;function cbe(e){return $1e(e)&&F1e(e.length)&&!!Sr[I1e(e)]}var ube=cbe;function dbe(e){return function(t){return e(t)}}var bq=dbe,d1={exports:{}};d1.exports;(function(e,t){var r=CU,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(d1,d1.exports);var fbe=d1.exports,hbe=ube,mbe=bq,uD=fbe,dD=uD&&uD.isTypedArray,pbe=dD?mbe(dD):hbe,wq=pbe,vbe=y1e,gbe=sk,xbe=ti,ybe=yq,bbe=ok,wbe=wq,_be=Object.prototype,jbe=_be.hasOwnProperty;function Sbe(e,t){var r=xbe(e),n=!r&&gbe(e),a=!r&&!n&&ybe(e),i=!r&&!n&&!a&&wbe(e),o=r||n||a||i,l=o?vbe(e.length,String):[],c=l.length;for(var u in e)(t||jbe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bbe(u,c)))&&l.push(u);return l}var Nbe=Sbe,Ebe=Object.prototype;function Cbe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ebe;return e===r}var Tbe=Cbe;function Abe(e,t){return function(r){return e(t(r))}}var _q=Abe,kbe=_q,Pbe=kbe(Object.keys,Object),Obe=Pbe,Dbe=Tbe,Rbe=Obe,Mbe=Object.prototype,Ibe=Mbe.hasOwnProperty;function Fbe(e){if(!Dbe(e))return Rbe(e);var t=[];for(var r in Object(e))Ibe.call(e,r)&&r!="constructor"&&t.push(r);return t}var $be=Fbe,Lbe=zA,Bbe=lk;function Ube(e){return e!=null&&Bbe(e.length)&&!Lbe(e)}var ig=Ube,qbe=Nbe,zbe=$be,Hbe=ig;function Vbe(e){return Hbe(e)?qbe(e):zbe(e)}var Ww=Vbe,Wbe=o1e,Gbe=g1e,Kbe=Ww;function Xbe(e){return Wbe(e,Kbe,Gbe)}var Ybe=Xbe,fD=Ybe,Qbe=1,Zbe=Object.prototype,Jbe=Zbe.hasOwnProperty;function ewe(e,t,r,n,a,i){var o=r&Qbe,l=fD(e),c=l.length,u=fD(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Jbe.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(w===void 0?x===y||a(x,y,r,n,i):w)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var b=e.constructor,j=t.constructor;b!=j&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var twe=ewe,rwe=bd,nwe=wo,awe=rwe(nwe,"DataView"),iwe=awe,swe=bd,owe=wo,lwe=swe(owe,"Promise"),cwe=lwe,uwe=bd,dwe=wo,fwe=uwe(dwe,"Set"),jq=fwe,hwe=bd,mwe=wo,pwe=hwe(mwe,"WeakMap"),vwe=pwe,ZN=iwe,JN=VA,eE=cwe,tE=jq,rE=vwe,Sq=wl,jm=AU,hD="[object Map]",gwe="[object Object]",mD="[object Promise]",pD="[object Set]",vD="[object WeakMap]",gD="[object DataView]",xwe=jm(ZN),ywe=jm(JN),bwe=jm(eE),wwe=jm(tE),_we=jm(rE),pu=Sq;(ZN&&pu(new ZN(new ArrayBuffer(1)))!=gD||JN&&pu(new JN)!=hD||eE&&pu(eE.resolve())!=mD||tE&&pu(new tE)!=pD||rE&&pu(new rE)!=vD)&&(pu=function(e){var t=Sq(e),r=t==gwe?e.constructor:void 0,n=r?jm(r):"";if(n)switch(n){case xwe:return gD;case ywe:return hD;case bwe:return mD;case wwe:return pD;case _we:return vD}return t});var jwe=pu,a2=fq,Swe=vq,Nwe=r1e,Ewe=twe,xD=jwe,yD=ti,bD=yq,Cwe=wq,Twe=1,wD="[object Arguments]",_D="[object Array]",sx="[object Object]",Awe=Object.prototype,jD=Awe.hasOwnProperty;function kwe(e,t,r,n,a,i){var o=yD(e),l=yD(t),c=o?_D:xD(e),u=l?_D:xD(t);c=c==wD?sx:c,u=u==wD?sx:u;var d=c==sx,f=u==sx,h=c==u;if(h&&bD(e)){if(!bD(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new a2),o||Cwe(e)?Swe(e,t,r,n,a,i):Nwe(e,t,c,r,n,a,i);if(!(r&Twe)){var m=d&&jD.call(e,"__wrapped__"),v=f&&jD.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,g=v?t.value():t;return i||(i=new a2),a(p,g,r,n,i)}}return h?(i||(i=new a2),Ewe(e,t,r,n,a,i)):!1}var Pwe=kwe,Owe=Pwe,SD=_l;function Nq(e,t,r,n,a){return e===t?!0:e==null||t==null||!SD(e)&&!SD(t)?e!==e&&t!==t:Owe(e,t,r,n,Nq,a)}var ck=Nq,Dwe=fq,Rwe=ck,Mwe=1,Iwe=2;function Fwe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Dwe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Rwe(d,u,Mwe|Iwe,n,f):h))return!1}}return!0}var $we=Fwe,Lwe=Xc;function Bwe(e){return e===e&&!Lwe(e)}var Eq=Bwe,Uwe=Eq,qwe=Ww;function zwe(e){for(var t=qwe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Uwe(a)]}return t}var Hwe=zwe;function Vwe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Cq=Vwe,Wwe=$we,Gwe=Hwe,Kwe=Cq;function Xwe(e){var t=Gwe(e);return t.length==1&&t[0][2]?Kwe(t[0][0],t[0][1]):function(r){return r===e||Wwe(r,e,t)}}var Ywe=Xwe;function Qwe(e,t){return e!=null&&t in Object(e)}var Zwe=Qwe,Jwe=RU,e_e=sk,t_e=ti,r_e=ok,n_e=lk,a_e=Pw;function i_e(e,t,r){t=Jwe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=a_e(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&n_e(a)&&r_e(o,a)&&(t_e(e)||e_e(e)))}var s_e=i_e,o_e=Zwe,l_e=s_e;function c_e(e,t){return e!=null&&l_e(e,t,o_e)}var u_e=c_e,d_e=ck,f_e=MU,h_e=u_e,m_e=qA,p_e=Eq,v_e=Cq,g_e=Pw,x_e=1,y_e=2;function b_e(e,t){return m_e(e)&&p_e(t)?v_e(g_e(e),t):function(r){var n=f_e(r,e);return n===void 0&&n===t?h_e(r,e):d_e(t,n,x_e|y_e)}}var w_e=b_e;function __e(e){return e}var Sm=__e;function j_e(e){return function(t){return t==null?void 0:t[e]}}var S_e=j_e,N_e=XA;function E_e(e){return function(t){return N_e(t,e)}}var C_e=E_e,T_e=S_e,A_e=C_e,k_e=qA,P_e=Pw;function O_e(e){return k_e(e)?T_e(P_e(e)):A_e(e)}var D_e=O_e,R_e=Ywe,M_e=w_e,I_e=Sm,F_e=ti,$_e=D_e;function L_e(e){return typeof e=="function"?e:e==null?I_e:typeof e=="object"?F_e(e)?M_e(e[0],e[1]):R_e(e):$_e(e)}var _o=L_e;function B_e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Tq=B_e;function U_e(e){return e!==e}var q_e=U_e;function z_e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var H_e=z_e,V_e=Tq,W_e=q_e,G_e=H_e;function K_e(e,t,r){return t===t?G_e(e,t,r):V_e(e,W_e,r)}var X_e=K_e,Y_e=X_e;function Q_e(e,t){var r=e==null?0:e.length;return!!r&&Y_e(e,t,0)>-1}var Z_e=Q_e;function J_e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var eje=J_e;function tje(){}var rje=tje,i2=jq,nje=rje,aje=ik,ije=1/0,sje=i2&&1/aje(new i2([,-0]))[1]==ije?function(e){return new i2(e)}:nje,oje=sje,lje=hq,cje=Z_e,uje=eje,dje=pq,fje=oje,hje=ik,mje=200;function pje(e,t,r){var n=-1,a=cje,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=uje;else if(i>=mje){var u=t?null:fje(e);if(u)return hje(u);o=!1,a=dje,c=new lje}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var vje=pje,gje=_o,xje=vje;function yje(e,t){return e&&e.length?xje(e,gje(t)):[]}var bje=yje;const ND=Qt(bje);function Aq(e,t,r){return t===!0?ND(e,r):xt(t)?ND(e,t):e}function Nh(e){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(e)}var wje=["ref"];function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){Gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pq(n.key),n)}}function jje(e,t,r){return t&&CD(e.prototype,t),r&&CD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sje(e,t,r){return t=f1(t),Nje(e,kq()?Reflect.construct(t,r||[],f1(e).constructor):t.apply(e,r))}function Nje(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eje(e)}function Eje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function f1(e){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(e)}function Cje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nE(e,t)}function nE(e,t){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(e,t)}function Gw(e,t,r){return t=Pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pq(e){var t=Tje(e,"string");return Nh(t)=="symbol"?t:t+""}function Tje(e,t){if(Nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aje(e,t){if(e==null)return{};var r=kje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pje(e){return e.value}function Oje(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=Aje(t,wje);return F.createElement(ak,r)}var TD=1,Rf=function(e){function t(){var r;_je(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Sje(this,t,[].concat(a)),Gw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cje(t,e),jje(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>TD||Math.abs(a.height-this.lastBoundingBox.height)>TD)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ko(ko({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=ko(ko({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Oje(i,ko(ko({},this.props),{},{payload:Aq(d,u,Pje)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ko(ko({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Ue(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(_.PureComponent);Gw(Rf,"displayName","Legend");Gw(Rf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AD=tg,Dje=sk,Rje=ti,kD=AD?AD.isConcatSpreadable:void 0;function Mje(e){return Rje(e)||Dje(e)||!!(kD&&e&&e[kD])}var Ije=Mje,Fje=gq,$je=Ije;function Oq(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=$je),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?Oq(l,t-1,r,n,a):Fje(a,l):n||(a[a.length]=l)}return a}var Dq=Oq;function Lje(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Bje=Lje,Uje=Bje,qje=Uje(),zje=qje,Hje=zje,Vje=Ww;function Wje(e,t){return e&&Hje(e,t,Vje)}var Rq=Wje,Gje=ig;function Kje(e,t){return function(r,n){if(r==null)return r;if(!Gje(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Xje=Kje,Yje=Rq,Qje=Xje,Zje=Qje(Yje),uk=Zje,Jje=uk,e2e=ig;function t2e(e,t){var r=-1,n=e2e(e)?Array(e.length):[];return Jje(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var Mq=t2e;function r2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var n2e=r2e,PD=gm;function a2e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=PD(e),o=t!==void 0,l=t===null,c=t===t,u=PD(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var i2e=a2e,s2e=i2e;function o2e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=s2e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var l2e=o2e,s2=KA,c2e=XA,u2e=_o,d2e=Mq,f2e=n2e,h2e=bq,m2e=l2e,p2e=Sm,v2e=ti;function g2e(e,t,r){t.length?t=s2(t,function(i){return v2e(i)?function(o){return c2e(o,i.length===1?i[0]:i)}:i}):t=[p2e];var n=-1;t=s2(t,h2e(u2e));var a=d2e(e,function(i,o,l){var c=s2(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return f2e(a,function(i,o){return m2e(i,o,r)})}var x2e=g2e;function y2e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var b2e=y2e,w2e=b2e,OD=Math.max;function _2e(e,t,r){return t=OD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=OD(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),w2e(e,this,l)}}var j2e=_2e;function S2e(e){return function(){return e}}var N2e=S2e,E2e=bd,C2e=function(){try{var e=E2e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Iq=C2e,T2e=N2e,DD=Iq,A2e=Sm,k2e=DD?function(e,t){return DD(e,"toString",{configurable:!0,enumerable:!1,value:T2e(t),writable:!0})}:A2e,P2e=k2e,O2e=800,D2e=16,R2e=Date.now;function M2e(e){var t=0,r=0;return function(){var n=R2e(),a=D2e-(n-r);if(r=n,a>0){if(++t>=O2e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var I2e=M2e,F2e=P2e,$2e=I2e,L2e=$2e(F2e),B2e=L2e,U2e=Sm,q2e=j2e,z2e=B2e;function H2e(e,t){return z2e(q2e(e,t,U2e),e+"")}var V2e=H2e,W2e=HA,G2e=ig,K2e=ok,X2e=Xc;function Y2e(e,t,r){if(!X2e(r))return!1;var n=typeof t;return(n=="number"?G2e(r)&&K2e(t,r.length):n=="string"&&t in r)?W2e(r[t],e):!1}var Kw=Y2e,Q2e=Dq,Z2e=x2e,J2e=V2e,RD=Kw,eSe=J2e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&RD(e,t[0],t[1])?t=[]:r>2&&RD(t[0],t[1],t[2])&&(t=[t[0]]),Z2e(e,Q2e(t,1),[])}),tSe=eSe;const dk=Qt(tSe);function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}function rSe(e,t){return sSe(e)||iSe(e,t)||aSe(e,t)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aSe(e,t){if(e){if(typeof e=="string")return MD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MD(e,t)}}function MD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sSe(e){if(Array.isArray(e))return e}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){oSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oSe(e,t,r){return t=lSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lSe(e){var t=cSe(e,"string");return L0(t)=="symbol"?t:t+""}function cSe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uSe(e){return Array.isArray(e)&&wn(e[0])&&wn(e[1])?e.join(" ~ "):e}var dSe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,g=t.labelFormatter,x=t.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var k={padding:0,margin:0},P=(h?dk(d,h):d).map(function(L,B){if(L.type==="none")return null;var M=o2({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),D=L.formatter||f||uSe,O=L.value,W=L.name,ne=O,ee=W;if(D&&ne!=null&&ee!=null){var I=D(O,W,L,B,d);if(Array.isArray(I)){var X=rSe(I,2);ne=X[0],ee=X[1]}else ne=I}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:M},wn(ee)?F.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,wn(ee)?F.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,F.createElement("span",{className:"recharts-tooltip-item-value"},ne),F.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:k},P)}return null},b=o2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=o2({margin:0},u),N=!Pt(p),S=N?p:"",E=Tt("recharts-default-tooltip",m),C=Tt("recharts-tooltip-label",v);N&&g&&d!==void 0&&d!==null&&(S=g(p,d));var T=y?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",aE({className:E,style:b},T),F.createElement("p",{className:C,style:j},F.isValidElement(S)?S:"".concat(S)),w())};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function ox(e,t,r){return t=fSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fSe(e){var t=hSe(e,"string");return B0(t)=="symbol"?t:t+""}function hSe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp="recharts-tooltip-wrapper",mSe={visibility:"hidden"};function pSe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Tt(tp,ox(ox(ox(ox({},"".concat(tp,"-right"),Ue(r)&&t&&Ue(t.x)&&r>=t.x),"".concat(tp,"-left"),Ue(r)&&t&&Ue(t.x)&&r<t.x),"".concat(tp,"-bottom"),Ue(n)&&t&&Ue(t.y)&&n>=t.y),"".concat(tp,"-top"),Ue(n)&&t&&Ue(t.y)&&n<t.y))}function FD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Ue(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function vSe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function gSe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=FD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=FD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=vSe({translateX:d,translateY:f,useTranslate3d:l})):u=mSe,{cssProperties:u,cssClasses:pSe({translateX:d,translateY:f,coordinate:r})}}function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){sE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ySe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function bSe(e,t,r){return t&&ySe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wSe(e,t,r){return t=h1(t),_Se(e,Fq()?Reflect.construct(t,r||[],h1(e).constructor):t.apply(e,r))}function _Se(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jSe(e)}function jSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!e})()}function h1(e){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(e)}function SSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function sE(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=NSe(e,"string");return Eh(t)=="symbol"?t:t+""}function NSe(e,t){if(Eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Eh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BD=1,ESe=function(e){function t(){var r;xSe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wSe(this,t,[].concat(a)),sE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return SSe(t,e),bSe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>BD||Math.abs(n.height-this.state.lastBoundingBox.height)>BD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=gSe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),b=w.cssClasses,j=w.cssProperties,N=LD(LD({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return F.createElement("div",{tabIndex:-1,className:b,style:N,ref:function(E){n.wrapperNode=E}},u)}}])}(_.PureComponent),CSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Go={isSsr:CSe(),get:function(t){return Go[t]},set:function(t,r){if(typeof t=="string")Go[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Go[a]=t[a]})}}};function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){fk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ASe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bq(n.key),n)}}function kSe(e,t,r){return t&&ASe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PSe(e,t,r){return t=m1(t),OSe(e,Lq()?Reflect.construct(t,r||[],m1(e).constructor):t.apply(e,r))}function OSe(e,t){if(t&&(Ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DSe(e)}function DSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!e})()}function m1(e){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(e)}function RSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oE(e,t)}function oE(e,t){return oE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oE(e,t)}function fk(e,t,r){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=MSe(e,"string");return Ch(t)=="symbol"?t:t+""}function MSe(e,t){if(Ch(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ISe(e){return e.dataKey}function FSe(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(dSe,t)}var Ii=function(e){function t(){return TSe(this,t),PSe(this,t,arguments)}return RSe(t,e),kSe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,g=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,j=v??[];f&&j.length&&(j=Aq(v.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),p,ISe));var N=j.length>0;return F.createElement(ESe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:g,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:b},FSe(u,qD(qD({},this.props),{},{payload:j})))}}])}(_.PureComponent);fk(Ii,"displayName","Tooltip");fk(Ii,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Go.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $Se=wo,LSe=function(){return $Se.Date.now()},BSe=LSe,USe=/\s/;function qSe(e){for(var t=e.length;t--&&USe.test(e.charAt(t)););return t}var zSe=qSe,HSe=zSe,VSe=/^\s+/;function WSe(e){return e&&e.slice(0,HSe(e)+1).replace(VSe,"")}var GSe=WSe,KSe=GSe,zD=Xc,XSe=gm,HD=NaN,YSe=/^[-+]0x[0-9a-f]+$/i,QSe=/^0b[01]+$/i,ZSe=/^0o[0-7]+$/i,JSe=parseInt;function eNe(e){if(typeof e=="number")return e;if(XSe(e))return HD;if(zD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=KSe(e);var r=QSe.test(e);return r||ZSe.test(e)?JSe(e.slice(2),r?2:8):YSe.test(e)?HD:+e}var Uq=eNe,tNe=Xc,l2=BSe,VD=Uq,rNe="Expected a function",nNe=Math.max,aNe=Math.min;function iNe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(rNe);t=VD(t)||0,tNe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?nNe(VD(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,E=a;return n=a=void 0,u=N,o=e.apply(E,S),o}function v(N){return u=N,l=setTimeout(x,t),d?m(N):o}function p(N){var S=N-c,E=N-u,C=t-S;return f?aNe(C,i-E):C}function g(N){var S=N-c,E=N-u;return c===void 0||S>=t||S<0||f&&E>=i}function x(){var N=l2();if(g(N))return y(N);l=setTimeout(x,p(N))}function y(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function b(){return l===void 0?o:y(l2())}function j(){var N=l2(),S=g(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return j.cancel=w,j.flush=b,j}var sNe=iNe,oNe=sNe,lNe=Xc,cNe="Expected a function";function uNe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(cNe);return lNe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),oNe(e,t,{leading:n,maxWait:t,trailing:a})}var dNe=uNe;const qq=Qt(dNe);function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){fNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fNe(e,t,r){return t=hNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hNe(e){var t=mNe(e,"string");return U0(t)=="symbol"?t:t+""}function mNe(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pNe(e,t){return yNe(e)||xNe(e,t)||gNe(e,t)||vNe()}function vNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gNe(e,t){if(e){if(typeof e=="string")return GD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GD(e,t)}}function GD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function yNe(e){if(Array.isArray(e))return e}var lE=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,g=e.id,x=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,j=_.useRef(null),N=_.useRef();N.current=y,_.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=_.useState({containerWidth:a.width,containerHeight:a.height}),E=pNe(S,2),C=E[0],T=E[1],A=_.useCallback(function(P,L){T(function(B){var M=Math.round(P),D=Math.round(L);return B.containerWidth===M&&B.containerHeight===D?B:{containerWidth:M,containerHeight:D}})},[]);_.useEffect(function(){var P=function(W){var ne,ee=W[0].contentRect,I=ee.width,X=ee.height;A(I,X),(ne=N.current)===null||ne===void 0||ne.call(N,I,X)};p>0&&(P=qq(P,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(P),B=j.current.getBoundingClientRect(),M=B.width,D=B.height;return A(M,D),L.observe(j.current),function(){L.disconnect()}},[A,p]);var k=_.useMemo(function(){var P=C.containerWidth,L=C.containerHeight;if(P<0||L<0)return null;Es(Cu(o)||Cu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Es(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=Cu(o)?P:o,M=Cu(c)?L:c;r&&r>0&&(B?M=B/r:M&&(B=M*r),h&&M>h&&(M=h)),Es(B>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,M,o,c,d,f,r);var D=!Array.isArray(m)&&Wo(m.type).endsWith("Chart");return F.Children.map(m,function(O){return $U.isElement(O)?_.cloneElement(O,lx({width:B,height:M},D?{style:lx({height:"100%",width:"100%",maxHeight:M,maxWidth:B},O.props.style)}:{})):O})},[r,m,c,h,f,d,C,o]);return F.createElement("div",{id:g?"".concat(g):void 0,className:Tt("recharts-responsive-container",x),style:lx(lx({},b),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},k)}),Xw=function(t){return null};Xw.displayName="Cell";function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function KD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=_Ne(e,"string");return q0(t)=="symbol"?t:t+""}function _Ne(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ld={widthCache:{},cacheCount:0},jNe=2e3,SNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XD="recharts_measurement_span";function NNe(e){var t=cE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Lp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Go.isSsr)return{width:0,height:0};var n=NNe(r),a=JSON.stringify({text:t,copyStyle:n});if(Ld.widthCache[a])return Ld.widthCache[a];try{var i=document.getElementById(XD);i||(i=document.createElement("span"),i.setAttribute("id",XD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cE(cE({},SNe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ld.widthCache[a]=c,++Ld.cacheCount>jNe&&(Ld.cacheCount=0,Ld.widthCache={}),c}catch{return{width:0,height:0}}},ENe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}function p1(e,t){return kNe(e)||ANe(e,t)||TNe(e,t)||CNe()}function CNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e,t){if(e){if(typeof e=="string")return YD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YD(e,t)}}function YD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ANe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kNe(e){if(Array.isArray(e))return e}function PNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DNe(n.key),n)}}function ONe(e,t,r){return t&&QD(e.prototype,t),r&&QD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DNe(e){var t=RNe(e,"string");return z0(t)=="symbol"?t:t+""}function RNe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,INe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FNe=Object.keys(zq),mf="NaN";function $Ne(e,t){return e*zq[t]}var cx=function(){function e(t,r){PNe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!MNe.test(r)&&(this.num=NaN,this.unit=""),FNe.includes(r)&&(this.num=$Ne(t,r),this.unit="px")}return ONe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=INe.exec(r))!==null&&n!==void 0?n:[],i=p1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Hq(e){if(e.includes(mf))return mf;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ZD.exec(t))!==null&&r!==void 0?r:[],a=p1(n,4),i=a[1],o=a[2],l=a[3],c=cx.parse(i??""),u=cx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mf;t=t.replace(ZD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=JD.exec(t))!==null&&f!==void 0?f:[],m=p1(h,4),v=m[1],p=m[2],g=m[3],x=cx.parse(v??""),y=cx.parse(g??""),w=p==="+"?x.add(y):x.subtract(y);if(w.isNaN())return mf;t=t.replace(JD,w.toString())}return t}var eR=/\(([^()]*)\)/;function LNe(e){for(var t=e;t.includes("(");){var r=eR.exec(t),n=p1(r,2),a=n[1];t=t.replace(eR,Hq(a))}return t}function BNe(e){var t=e.replace(/\s+/g,"");return t=LNe(t),t=Hq(t),t}function UNe(e){try{return BNe(e)}catch{return mf}}function c2(e){var t=UNe(e.slice(5,-1));return t===mf?"":t}var qNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],zNe=["dx","dy","angle","className","breakAll"];function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uE.apply(this,arguments)}function tR(e,t){if(e==null)return{};var r=HNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rR(e,t){return KNe(e)||GNe(e,t)||WNe(e,t)||VNe()}function VNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WNe(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KNe(e){if(Array.isArray(e))return e}var Vq=/[ \f\n\r\t\v\u2028\u2029]+/,Wq=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Pt(r)||(n?i=r.toString().split(""):i=r.toString().split(Vq));var o=i.map(function(c){return{word:c,width:Lp(c,a).width}}),l=n?0:Lp("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},XNe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Ue(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(M,D){var O=D.word,W=D.width,ne=M[M.length-1];if(ne&&(a==null||i||ne.width+W+n<Number(a)))ne.words.push(O),ne.width+=W+n;else{var ee={words:[O],width:W};M.push(ee)}return M},[])},m=h(r),v=function(B){return B.reduce(function(M,D){return M.width>D.width?M:D})};if(!d)return m;for(var p="",g=function(B){var M=f.slice(0,B),D=Wq({breakAll:u,style:c,children:M+p}).wordsWithComputedWidth,O=h(D),W=O.length>o||v(O).width>Number(a);return[W,O]},x=0,y=f.length-1,w=0,b;x<=y&&w<=f.length-1;){var j=Math.floor((x+y)/2),N=j-1,S=g(N),E=rR(S,2),C=E[0],T=E[1],A=g(j),k=rR(A,1),P=k[0];if(!C&&!P&&(x=j+1),C&&P&&(y=j-1),!C&&P){b=T;break}w++}return b||m},aR=function(t){var r=Pt(t)?[]:t.toString().split(Vq);return[{words:r}]},YNe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Go.isSsr){var c,u,d=Wq({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return aR(a);return XNe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return aR(a)},iR="#808080",cd=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,g=t.fill,x=g===void 0?iR:g,y=tR(t,qNe),w=_.useMemo(function(){return YNe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,j=y.dy,N=y.angle,S=y.className,E=y.breakAll,C=tR(y,zNe);if(!wn(n)||!wn(i))return null;var T=n+(Ue(b)?b:0),A=i+(Ue(j)?j:0),k;switch(p){case"start":k=c2("calc(".concat(u,")"));break;case"middle":k=c2("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=c2("calc(".concat(w.length-1," * -").concat(l,")"));break}var P=[];if(f){var L=w[0].width,B=y.width;P.push("scale(".concat((Ue(B)?B/L:1)/L,")"))}return N&&P.push("rotate(".concat(N,", ").concat(T,", ").concat(A,")")),P.length&&(C.transform=P.join(" ")),F.createElement("text",uE({},ht(C,!0),{x:T,y:A,className:Tt("recharts-text",S),textAnchor:m,fill:x.includes("url")?iR:x}),w.map(function(M,D){var O=M.words.join(E?"":" ");return F.createElement("tspan",{x:T,dy:D===0?k:l,key:"".concat(O,"-").concat(D)},O)}))};function bc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QNe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hk(e){let t,r,n;e.length!==2?(t=bc,r=(l,c)=>bc(e(l),c),n=(l,c)=>e(l)-c):(t=e===bc||e===QNe?e:ZNe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function ZNe(){return 0}function Gq(e){return e===null?NaN:+e}function*JNe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eEe=hk(bc),sg=eEe.right;hk(Gq).center;class sR extends Map{constructor(t,r=nEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(oR(this,t))}has(t){return super.has(oR(this,t))}set(t,r){return super.set(tEe(this,t),r)}delete(t){return super.delete(rEe(this,t))}}function oR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aEe(e=bc){if(e===bc)return Kq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iEe=Math.sqrt(50),sEe=Math.sqrt(10),oEe=Math.sqrt(2);function v1(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=iEe?10:i>=sEe?5:i>=oEe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?v1(e,t,r*2):[l,c,u]}function dE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?v1(t,e,r):v1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function fE(e,t,r){return t=+t,e=+e,r=+r,v1(e,t,r)[2]}function hE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?fE(t,e,r):fE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function lR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Xq(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Kq:aEe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));Xq(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(rp(e,r,t),a(e[n],i)>0&&rp(e,r,n);o<l;){for(rp(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?rp(e,r,l):(++l,rp(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function rp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lEe(e,t,r){if(e=Float64Array.from(JNe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return cR(e);if(t>=1)return lR(e);var n,a=(n-1)*t,i=Math.floor(a),o=lR(Xq(e,i).subarray(0,i+1)),l=cR(e.subarray(i+1));return o+(l-o)*(a-i)}}function cEe(e,t,r=Gq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function uEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ts(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mE=Symbol("implicit");function mk(){var e=new sR,t=[],r=[],n=mE;function a(i){let o=e.get(i);if(o===void 0){if(n!==mE)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new sR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return mk(t,r).unknown(n)},ts.apply(a,arguments),a}function H0(){var e=mk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;i=(p-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=uEe(h).map(function(x){return v+i*x});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return H0(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ts.apply(f(),arguments)}function Yq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yq(t())},e}function Bp(){return Yq(H0.apply(null,arguments).paddingInner(1))}function pk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function og(){}var V0=.7,g1=1/V0,Mf="\\s*([+-]?\\d+)\\s*",W0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dEe=/^#([0-9a-f]{3,8})$/,fEe=new RegExp(`^rgb\\(${Mf},${Mf},${Mf}\\)$`),hEe=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),mEe=new RegExp(`^rgba\\(${Mf},${Mf},${Mf},${W0}\\)$`),pEe=new RegExp(`^rgba\\(${so},${so},${so},${W0}\\)$`),vEe=new RegExp(`^hsl\\(${W0},${so},${so}\\)$`),gEe=new RegExp(`^hsla\\(${W0},${so},${so},${W0}\\)$`),uR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pk(og,G0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dR,formatHex:dR,formatHex8:xEe,formatHsl:yEe,formatRgb:fR,toString:fR});function dR(){return this.rgb().formatHex()}function xEe(){return this.rgb().formatHex8()}function yEe(){return Zq(this).formatHsl()}function fR(){return this.rgb().formatRgb()}function G0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hR(t):r===3?new Va(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ux(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ux(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=fEe.exec(e))?new Va(t[1],t[2],t[3],1):(t=hEe.exec(e))?new Va(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mEe.exec(e))?ux(t[1],t[2],t[3],t[4]):(t=pEe.exec(e))?ux(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vEe.exec(e))?vR(t[1],t[2]/100,t[3]/100,1):(t=gEe.exec(e))?vR(t[1],t[2]/100,t[3]/100,t[4]):uR.hasOwnProperty(e)?hR(uR[e]):e==="transparent"?new Va(NaN,NaN,NaN,0):null}function hR(e){return new Va(e>>16&255,e>>8&255,e&255,1)}function ux(e,t,r,n){return n<=0&&(e=t=r=NaN),new Va(e,t,r,n)}function bEe(e){return e instanceof og||(e=G0(e)),e?(e=e.rgb(),new Va(e.r,e.g,e.b,e.opacity)):new Va}function pE(e,t,r,n){return arguments.length===1?bEe(e):new Va(e,t,r,n??1)}function Va(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}pk(Va,pE,Qq(og,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?V0:Math.pow(V0,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Va(qu(this.r),qu(this.g),qu(this.b),x1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mR,formatHex:mR,formatHex8:wEe,formatRgb:pR,toString:pR}));function mR(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function wEe(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function pR(){const e=x1(this.opacity);return`${e===1?"rgb(":"rgba("}${qu(this.r)}, ${qu(this.g)}, ${qu(this.b)}${e===1?")":`, ${e})`}`}function x1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tu(e){return e=qu(e),(e<16?"0":"")+e.toString(16)}function vR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vs(e,t,r,n)}function Zq(e){if(e instanceof vs)return new vs(e.h,e.s,e.l,e.opacity);if(e instanceof og||(e=G0(e)),!e)return new vs;if(e instanceof vs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new vs(o,l,c,e.opacity)}function _Ee(e,t,r,n){return arguments.length===1?Zq(e):new vs(e,t,r,n??1)}function vs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}pk(vs,_Ee,Qq(og,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new vs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?V0:Math.pow(V0,e),new vs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Va(u2(e>=240?e-240:e+120,a,n),u2(e,a,n),u2(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vs(gR(this.h),dx(this.s),dx(this.l),x1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=x1(this.opacity);return`${e===1?"hsl(":"hsla("}${gR(this.h)}, ${dx(this.s)*100}%, ${dx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gR(e){return e=(e||0)%360,e<0?e+360:e}function dx(e){return Math.max(0,Math.min(1,e||0))}function u2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vk=e=>()=>e;function jEe(e,t){return function(r){return e+r*t}}function SEe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NEe(e){return(e=+e)==1?Jq:function(t,r){return r-t?SEe(t,r,e):vk(isNaN(t)?r:t)}}function Jq(e,t){var r=t-e;return r?jEe(e,r):vk(isNaN(e)?t:e)}const xR=function e(t){var r=NEe(t);function n(a,i){var o=r((a=pE(a)).r,(i=pE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Jq(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function EEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function CEe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TEe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Nm(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function AEe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function y1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kEe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var vE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,d2=new RegExp(vE.source,"g");function PEe(e){return function(){return e}}function OEe(e){return function(t){return e(t)+""}}function DEe(e,t){var r=vE.lastIndex=d2.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=vE.exec(e))&&(a=d2.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:y1(n,a)})),r=d2.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?OEe(c[0].x):PEe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nm(e,t){var r=typeof t,n;return t==null||r==="boolean"?vk(t):(r==="number"?y1:r==="string"?(n=G0(t))?(t=n,xR):DEe:t instanceof G0?xR:t instanceof Date?AEe:CEe(t)?EEe:Array.isArray(t)?TEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kEe:y1)(e,t)}function gk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function REe(e,t){t===void 0&&(t=e,e=Nm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function MEe(e){return function(){return e}}function b1(e){return+e}var yR=[0,1];function Ea(e){return e}function gE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MEe(isNaN(t)?NaN:.5)}function IEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function FEe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=gE(a,n),i=r(o,i)):(n=gE(n,a),i=r(i,o)),function(l){return i(n(l))}}function $Ee(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=gE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=sg(e,l,1,n)-1;return i[c](a[c](l))}}function lg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yw(){var e=yR,t=yR,r=Nm,n,a,i,o=Ea,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ea&&(o=IEe(e[0],e[h-1])),l=h>2?$Ee:FEe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),y1)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,b1),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=gk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ea,d()):o!==Ea},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function xk(){return Yw()(Ea,Ea)}function LEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function w1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Th(e){return e=w1(Math.abs(e)),e?e[1]:NaN}function BEe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function UEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function K0(e){if(!(t=qEe.exec(e)))throw new Error("invalid format: "+e);var t;return new yk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}K0.prototype=yk.prototype;function yk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ez;function HEe(e,t){var r=w1(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(ez=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+w1(e,Math.max(0,t+i-1))[0]}function bR(e,t){var r=w1(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const wR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bR(e*100,t),r:bR,s:HEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _R(e){return e}var jR=Array.prototype.map,SR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VEe(e){var t=e.grouping===void 0||e.thousands===void 0?_R:BEe(jR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_R:UEe(jR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=K0(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,g=f.zero,x=f.width,y=f.comma,w=f.precision,b=f.trim,j=f.type;j==="n"?(y=!0,j="g"):wR[j]||(w===void 0&&(w=12),b=!0,j="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=p==="$"?n:/[%p]/.test(j)?o:"",E=wR[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(A){var k=N,P=S,L,B,M;if(j==="c")P=E(A)+P,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?c:E(Math.abs(A),w),b&&(A=zEe(A)),D&&+A==0&&v!=="+"&&(D=!1),k=(D?v==="("?v:l:v==="-"||v==="("?"":v)+k,P=(j==="s"?SR[8+ez/3]:"")+P+(D&&v==="("?")":""),C){for(L=-1,B=A.length;++L<B;)if(M=A.charCodeAt(L),48>M||M>57){P=(M===46?a+A.slice(L+1):A.slice(L))+P,A=A.slice(0,L);break}}}y&&!g&&(A=t(A,1/0));var O=k.length+A.length+P.length,W=O<x?new Array(x-O+1).join(h):"";switch(y&&g&&(A=t(W+A,W.length?x-P.length:1/0),W=""),m){case"<":A=k+A+P+W;break;case"=":A=k+W+A+P;break;case"^":A=W.slice(0,O=W.length>>1)+k+A+P+W.slice(O);break;default:A=W+k+A+P;break}return i(A)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=K0(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Th(h)/3)))*3,p=Math.pow(10,-v),g=SR[8+v/3];return function(x){return m(p*x)+g}}return{format:u,formatPrefix:d}}var fx,bk,tz;WEe({thousands:",",grouping:[3],currency:["$",""]});function WEe(e){return fx=VEe(e),bk=fx.format,tz=fx.formatPrefix,fx}function GEe(e){return Math.max(0,-Th(Math.abs(e)))}function KEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Th(t)/3)))*3-Th(Math.abs(e)))}function XEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Th(t)-Th(e))+1}function rz(e,t,r,n){var a=hE(e,t,r),i;switch(n=K0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=KEe(a,o))&&(n.precision=i),tz(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=XEe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=GEe(a))&&(n.precision=i-(n.type==="%")*2);break}}return bk(n)}function Yc(e){var t=e.domain;return e.ticks=function(r){var n=t();return dE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=fE(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _1(){var e=xk();return e.copy=function(){return lg(e,_1())},ts.apply(e,arguments),Yc(e)}function nz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,b1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nz(e).unknown(t)},e=arguments.length?Array.from(e,b1):[0,1],Yc(r)}function az(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function NR(e){return Math.log(e)}function ER(e){return Math.exp(e)}function YEe(e){return-Math.log(-e)}function QEe(e){return-Math.exp(-e)}function ZEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JEe(e){return e===10?ZEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eCe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CR(e){return(t,r)=>-e(-t,r)}function wk(e){const t=e(NR,ER),r=t.domain;let n=10,a,i;function o(){return a=eCe(n),i=JEe(n),r()[0]<0?(a=CR(a),i=CR(i),e(YEe,QEe)):e(NR,ER),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const g=l==null?10:+l;let x=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<g&&(x=dE(u,d,g))}else x=dE(h,m,Math.min(m-h,g)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=K0(c)).precision==null&&(c.trim=!0),c=bk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(az(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function iz(){const e=wk(Yw()).domain([1,10]);return e.copy=()=>lg(e,iz()).base(e.base()),ts.apply(e,arguments),e}function TR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _k(e){var t=1,r=e(TR(t),AR(t));return r.constant=function(n){return arguments.length?e(TR(t=+n),AR(t)):t},Yc(r)}function sz(){var e=_k(Yw());return e.copy=function(){return lg(e,sz()).constant(e.constant())},ts.apply(e,arguments)}function kR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tCe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rCe(e){return e<0?-e*e:e*e}function jk(e){var t=e(Ea,Ea),r=1;function n(){return r===1?e(Ea,Ea):r===.5?e(tCe,rCe):e(kR(r),kR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yc(t)}function Sk(){var e=jk(Yw());return e.copy=function(){return lg(e,Sk()).exponent(e.exponent())},ts.apply(e,arguments),e}function nCe(){return Sk.apply(null,arguments).exponent(.5)}function PR(e){return Math.sign(e)*e*e}function aCe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oz(){var e=xk(),t=[0,1],r=!1,n;function a(i){var o=aCe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(PR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,b1)).map(PR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return oz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ts.apply(a,arguments),Yc(a)}function lz(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=cEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[sg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lz().domain(e).range(t).unknown(n)},ts.apply(i,arguments)}function cz(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[sg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cz().domain([e,t]).range(a).unknown(i)},ts.apply(Yc(o),arguments)}function uz(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[sg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uz().domain(e).range(t).unknown(r)},ts.apply(a,arguments)}const f2=new Date,h2=new Date;function jn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>jn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(f2.setTime(+i),h2.setTime(+o),e(f2),e(h2),Math.floor(r(f2,h2))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const j1=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);j1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):j1);j1.range;const Uo=1e3,Ui=Uo*60,qo=Ui*60,cl=qo*24,Nk=cl*7,OR=cl*30,m2=cl*365,Au=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCSeconds());Au.range;const Ek=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getMinutes());Ek.range;const Ck=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCMinutes());Ck.range;const Tk=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo-e.getMinutes()*Ui)},(e,t)=>{e.setTime(+e+t*qo)},(e,t)=>(t-e)/qo,e=>e.getHours());Tk.range;const Ak=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qo)},(e,t)=>(t-e)/qo,e=>e.getUTCHours());Ak.range;const cg=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/cl,e=>e.getDate()-1);cg.range;const Qw=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cl,e=>e.getUTCDate()-1);Qw.range;const dz=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cl,e=>Math.floor(e/cl));dz.range;function wd(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/Nk)}const Zw=wd(0),S1=wd(1),iCe=wd(2),sCe=wd(3),Ah=wd(4),oCe=wd(5),lCe=wd(6);Zw.range;S1.range;iCe.range;sCe.range;Ah.range;oCe.range;lCe.range;function _d(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nk)}const Jw=_d(0),N1=_d(1),cCe=_d(2),uCe=_d(3),kh=_d(4),dCe=_d(5),fCe=_d(6);Jw.range;N1.range;cCe.range;uCe.range;kh.range;dCe.range;fCe.range;const kk=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kk.range;const Pk=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Pk.range;const ul=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ul.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ul.range;const dl=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});dl.range;function fz(e,t,r,n,a,i){const o=[[Au,1,Uo],[Au,5,5*Uo],[Au,15,15*Uo],[Au,30,30*Uo],[i,1,Ui],[i,5,5*Ui],[i,15,15*Ui],[i,30,30*Ui],[a,1,qo],[a,3,3*qo],[a,6,6*qo],[a,12,12*qo],[n,1,cl],[n,2,2*cl],[r,1,Nk],[t,1,OR],[t,3,3*OR],[e,1,m2]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=hk(([,,g])=>g).right(o,h);if(m===o.length)return e.every(hE(u/m2,d/m2,f));if(m===0)return j1.every(Math.max(hE(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[hCe,mCe]=fz(dl,Pk,Jw,dz,Ak,Ck),[pCe,vCe]=fz(ul,kk,Zw,cg,Tk,Ek);function p2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function v2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gCe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=ap(a),d=ip(a),f=ap(i),h=ip(i),m=ap(o),v=ip(o),p=ap(l),g=ip(l),x=ap(c),y=ip(c),w={a:D,A:O,b:W,B:ne,c:null,d:$R,e:$R,f:BCe,g:YCe,G:ZCe,H:FCe,I:$Ce,j:LCe,L:hz,m:UCe,M:qCe,p:ee,q:I,Q:UR,s:qR,S:zCe,u:HCe,U:VCe,V:WCe,w:GCe,W:KCe,x:null,X:null,y:XCe,Y:QCe,Z:JCe,"%":BR},b={a:X,A:Y,b:Q,B:ie,c:null,d:LR,e:LR,f:nTe,g:hTe,G:pTe,H:eTe,I:tTe,j:rTe,L:pz,m:aTe,M:iTe,p:he,q:we,Q:UR,s:qR,S:sTe,u:oTe,U:lTe,V:cTe,w:uTe,W:dTe,x:null,X:null,y:fTe,Y:mTe,Z:vTe,"%":BR},j={a:T,A,b:k,B:P,c:L,d:IR,e:IR,f:DCe,g:MR,G:RR,H:FR,I:FR,j:ACe,L:OCe,m:TCe,M:kCe,p:C,q:CCe,Q:MCe,s:ICe,S:PCe,u:_Ce,U:jCe,V:SCe,w:wCe,W:NCe,x:B,X:M,y:MR,Y:RR,Z:ECe,"%":RCe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),b.x=N(r,b),b.X=N(n,b),b.c=N(t,b);function N(se,G){return function(ye){var ae=[],et=-1,Le=0,yt=se.length,rt,Te,K;for(ye instanceof Date||(ye=new Date(+ye));++et<yt;)se.charCodeAt(et)===37&&(ae.push(se.slice(Le,et)),(Te=DR[rt=se.charAt(++et)])!=null?rt=se.charAt(++et):Te=rt==="e"?" ":"0",(K=G[rt])&&(rt=K(ye,Te)),ae.push(rt),Le=et+1);return ae.push(se.slice(Le,et)),ae.join("")}}function S(se,G){return function(ye){var ae=np(1900,void 0,1),et=E(ae,se,ye+="",0),Le,yt;if(et!=ye.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(G&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(Le=v2(np(ae.y,0,1)),yt=Le.getUTCDay(),Le=yt>4||yt===0?N1.ceil(Le):N1(Le),Le=Qw.offset(Le,(ae.V-1)*7),ae.y=Le.getUTCFullYear(),ae.m=Le.getUTCMonth(),ae.d=Le.getUTCDate()+(ae.w+6)%7):(Le=p2(np(ae.y,0,1)),yt=Le.getDay(),Le=yt>4||yt===0?S1.ceil(Le):S1(Le),Le=cg.offset(Le,(ae.V-1)*7),ae.y=Le.getFullYear(),ae.m=Le.getMonth(),ae.d=Le.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),yt="Z"in ae?v2(np(ae.y,0,1)).getUTCDay():p2(np(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(yt+5)%7:ae.w+ae.U*7-(yt+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,v2(ae)):p2(ae)}}function E(se,G,ye,ae){for(var et=0,Le=G.length,yt=ye.length,rt,Te;et<Le;){if(ae>=yt)return-1;if(rt=G.charCodeAt(et++),rt===37){if(rt=G.charAt(et++),Te=j[rt in DR?G.charAt(et++):rt],!Te||(ae=Te(se,ye,ae))<0)return-1}else if(rt!=ye.charCodeAt(ae++))return-1}return ae}function C(se,G,ye){var ae=u.exec(G.slice(ye));return ae?(se.p=d.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function T(se,G,ye){var ae=m.exec(G.slice(ye));return ae?(se.w=v.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function A(se,G,ye){var ae=f.exec(G.slice(ye));return ae?(se.w=h.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function k(se,G,ye){var ae=x.exec(G.slice(ye));return ae?(se.m=y.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function P(se,G,ye){var ae=p.exec(G.slice(ye));return ae?(se.m=g.get(ae[0].toLowerCase()),ye+ae[0].length):-1}function L(se,G,ye){return E(se,t,G,ye)}function B(se,G,ye){return E(se,r,G,ye)}function M(se,G,ye){return E(se,n,G,ye)}function D(se){return o[se.getDay()]}function O(se){return i[se.getDay()]}function W(se){return c[se.getMonth()]}function ne(se){return l[se.getMonth()]}function ee(se){return a[+(se.getHours()>=12)]}function I(se){return 1+~~(se.getMonth()/3)}function X(se){return o[se.getUTCDay()]}function Y(se){return i[se.getUTCDay()]}function Q(se){return c[se.getUTCMonth()]}function ie(se){return l[se.getUTCMonth()]}function he(se){return a[+(se.getUTCHours()>=12)]}function we(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var G=N(se+="",w);return G.toString=function(){return se},G},parse:function(se){var G=S(se+="",!1);return G.toString=function(){return se},G},utcFormat:function(se){var G=N(se+="",b);return G.toString=function(){return se},G},utcParse:function(se){var G=S(se+="",!0);return G.toString=function(){return se},G}}}var DR={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,xCe=/^%/,yCe=/[\\^$*+?|[\]().{}]/g;function Wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function bCe(e){return e.replace(yCe,"\\$&")}function ap(e){return new RegExp("^(?:"+e.map(bCe).join("|")+")","i")}function ip(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function wCe(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _Ce(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function jCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function SCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function NCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function RR(e,t,r){var n=Fn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ECe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function CCe(e,t,r){var n=Fn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function TCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ACe(e,t,r){var n=Fn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FR(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function PCe(e,t,r){var n=Fn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function OCe(e,t,r){var n=Fn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function DCe(e,t,r){var n=Fn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RCe(e,t,r){var n=xCe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function MCe(e,t,r){var n=Fn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ICe(e,t,r){var n=Fn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $R(e,t){return Wt(e.getDate(),t,2)}function FCe(e,t){return Wt(e.getHours(),t,2)}function $Ce(e,t){return Wt(e.getHours()%12||12,t,2)}function LCe(e,t){return Wt(1+cg.count(ul(e),e),t,3)}function hz(e,t){return Wt(e.getMilliseconds(),t,3)}function BCe(e,t){return hz(e,t)+"000"}function UCe(e,t){return Wt(e.getMonth()+1,t,2)}function qCe(e,t){return Wt(e.getMinutes(),t,2)}function zCe(e,t){return Wt(e.getSeconds(),t,2)}function HCe(e){var t=e.getDay();return t===0?7:t}function VCe(e,t){return Wt(Zw.count(ul(e)-1,e),t,2)}function mz(e){var t=e.getDay();return t>=4||t===0?Ah(e):Ah.ceil(e)}function WCe(e,t){return e=mz(e),Wt(Ah.count(ul(e),e)+(ul(e).getDay()===4),t,2)}function GCe(e){return e.getDay()}function KCe(e,t){return Wt(S1.count(ul(e)-1,e),t,2)}function XCe(e,t){return Wt(e.getFullYear()%100,t,2)}function YCe(e,t){return e=mz(e),Wt(e.getFullYear()%100,t,2)}function QCe(e,t){return Wt(e.getFullYear()%1e4,t,4)}function ZCe(e,t){var r=e.getDay();return e=r>=4||r===0?Ah(e):Ah.ceil(e),Wt(e.getFullYear()%1e4,t,4)}function JCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wt(t/60|0,"0",2)+Wt(t%60,"0",2)}function LR(e,t){return Wt(e.getUTCDate(),t,2)}function eTe(e,t){return Wt(e.getUTCHours(),t,2)}function tTe(e,t){return Wt(e.getUTCHours()%12||12,t,2)}function rTe(e,t){return Wt(1+Qw.count(dl(e),e),t,3)}function pz(e,t){return Wt(e.getUTCMilliseconds(),t,3)}function nTe(e,t){return pz(e,t)+"000"}function aTe(e,t){return Wt(e.getUTCMonth()+1,t,2)}function iTe(e,t){return Wt(e.getUTCMinutes(),t,2)}function sTe(e,t){return Wt(e.getUTCSeconds(),t,2)}function oTe(e){var t=e.getUTCDay();return t===0?7:t}function lTe(e,t){return Wt(Jw.count(dl(e)-1,e),t,2)}function vz(e){var t=e.getUTCDay();return t>=4||t===0?kh(e):kh.ceil(e)}function cTe(e,t){return e=vz(e),Wt(kh.count(dl(e),e)+(dl(e).getUTCDay()===4),t,2)}function uTe(e){return e.getUTCDay()}function dTe(e,t){return Wt(N1.count(dl(e)-1,e),t,2)}function fTe(e,t){return Wt(e.getUTCFullYear()%100,t,2)}function hTe(e,t){return e=vz(e),Wt(e.getUTCFullYear()%100,t,2)}function mTe(e,t){return Wt(e.getUTCFullYear()%1e4,t,4)}function pTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kh(e):kh.ceil(e),Wt(e.getUTCFullYear()%1e4,t,4)}function vTe(){return"+0000"}function BR(){return"%"}function UR(e){return+e}function qR(e){return Math.floor(+e/1e3)}var Bd,gz,xz;gTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gTe(e){return Bd=gCe(e),gz=Bd.format,Bd.parse,xz=Bd.utcFormat,Bd.utcParse,Bd}function xTe(e){return new Date(e)}function yTe(e){return e instanceof Date?+e:+new Date(+e)}function Ok(e,t,r,n,a,i,o,l,c,u){var d=xk(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),b=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?v:o(N)<N?p:i(N)<N?g:n(N)<N?a(N)<N?x:y:r(N)<N?w:b)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,yTe)):h().map(xTe)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(az(S,N)):d},d.copy=function(){return lg(d,Ok(e,t,r,n,a,i,o,l,c,u))},d}function bTe(){return ts.apply(Ok(pCe,vCe,ul,kk,Zw,cg,Tk,Ek,Au,gz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wTe(){return ts.apply(Ok(hCe,mCe,dl,Pk,Jw,Qw,Ak,Ck,Au,xz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e_(){var e=0,t=1,r,n,a,i,o=Ea,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Nm),u.rangeRound=d(gk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Qc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yz(){var e=Yc(e_()(Ea));return e.copy=function(){return Qc(e,yz())},jl.apply(e,arguments)}function bz(){var e=wk(e_()).domain([1,10]);return e.copy=function(){return Qc(e,bz()).base(e.base())},jl.apply(e,arguments)}function wz(){var e=_k(e_());return e.copy=function(){return Qc(e,wz()).constant(e.constant())},jl.apply(e,arguments)}function Dk(){var e=jk(e_());return e.copy=function(){return Qc(e,Dk()).exponent(e.exponent())},jl.apply(e,arguments)}function _Te(){return Dk.apply(null,arguments).exponent(.5)}function _z(){var e=[],t=Ea;function r(n){if(n!=null&&!isNaN(n=+n))return t((sg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>lEe(e,i/n))},r.copy=function(){return _z(t).domain(e)},jl.apply(r,arguments)}function t_(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Ea,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(g){var x,y,w;return arguments.length?([x,y,w]=g,u=REe(p,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Nm),m.rangeRound=v(gk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function jz(){var e=Yc(t_()(Ea));return e.copy=function(){return Qc(e,jz())},jl.apply(e,arguments)}function Sz(){var e=wk(t_()).domain([.1,1,10]);return e.copy=function(){return Qc(e,Sz()).base(e.base())},jl.apply(e,arguments)}function Nz(){var e=_k(t_());return e.copy=function(){return Qc(e,Nz()).constant(e.constant())},jl.apply(e,arguments)}function Rk(){var e=jk(t_());return e.copy=function(){return Qc(e,Rk()).exponent(e.exponent())},jl.apply(e,arguments)}function jTe(){return Rk.apply(null,arguments).exponent(.5)}const zR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:H0,scaleDiverging:jz,scaleDivergingLog:Sz,scaleDivergingPow:Rk,scaleDivergingSqrt:jTe,scaleDivergingSymlog:Nz,scaleIdentity:nz,scaleImplicit:mE,scaleLinear:_1,scaleLog:iz,scaleOrdinal:mk,scalePoint:Bp,scalePow:Sk,scaleQuantile:lz,scaleQuantize:cz,scaleRadial:oz,scaleSequential:yz,scaleSequentialLog:bz,scaleSequentialPow:Dk,scaleSequentialQuantile:_z,scaleSequentialSqrt:_Te,scaleSequentialSymlog:wz,scaleSqrt:nCe,scaleSymlog:sz,scaleThreshold:uz,scaleTime:bTe,scaleUtc:wTe,tickFormat:rz},Symbol.toStringTag,{value:"Module"}));var STe=gm;function NTe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!STe(o):r(o,l)))var l=o,c=i}return c}var r_=NTe;function ETe(e,t){return e>t}var Ez=ETe,CTe=r_,TTe=Ez,ATe=Sm;function kTe(e){return e&&e.length?CTe(e,ATe,TTe):void 0}var PTe=kTe;const n_=Qt(PTe);function OTe(e,t){return e<t}var Cz=OTe,DTe=r_,RTe=Cz,MTe=Sm;function ITe(e){return e&&e.length?DTe(e,MTe,RTe):void 0}var FTe=ITe;const a_=Qt(FTe);var $Te=KA,LTe=_o,BTe=Mq,UTe=ti;function qTe(e,t){var r=UTe(e)?$Te:BTe;return r(e,LTe(t))}var zTe=qTe,HTe=Dq,VTe=zTe;function WTe(e,t){return HTe(VTe(e,t),1)}var GTe=WTe;const KTe=Qt(GTe);var XTe=ck;function YTe(e,t){return XTe(e,t)}var QTe=YTe;const i_=Qt(QTe);var Em=1e9,ZTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ik,kr=!0,Yi="[DecimalError] ",zu=Yi+"Invalid argument: ",Mk=Yi+"Exponent out of range: ",Cm=Math.floor,vu=Math.pow,JTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi,En=1e7,Nr=7,Tz=9007199254740991,E1=Cm(Tz/Nr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(e){return Ko(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var t=this,r=t.constructor;return mr(Ko(t,new r(e),0,1),r.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return ln(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(hi))throw Error(Yi+"NaN");if(r.s<1)throw Error(Yi+(r.s?"NaN":"-Infinity"));return r.eq(hi)?new n(0):(kr=!1,t=Ko(X0(r,i),X0(e,i),i),kr=!0,mr(t,a))};Je.minus=Je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Pz(t,e):Az(t,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Yi+"NaN");return r.s?(kr=!1,t=Ko(r,e,0,1).times(e),kr=!0,r.minus(t)):mr(new n(r),a)};Je.naturalExponential=Je.exp=function(){return kz(this)};Je.naturalLogarithm=Je.ln=function(){return X0(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Az(t,e):Pz(t,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zu+e);if(t=ln(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Je.squareRoot=Je.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Yi+"NaN")}for(e=ln(l),kr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=to(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ko(l,i,o+2)).times(.5),to(i.d).slice(0,o)===(t=to(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(mr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return kr=!0,mr(n,r)};Je.times=Je.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%En|0,t=l/En|0;i[a]=(i[a]+t)%En|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,kr?mr(e,f.precision):e};Je.toDecimalPlaces=Je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(po(e,0,Em),t===void 0?t=n.rounding:po(t,0,8),mr(r,e+ln(r)+1,t))};Je.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ud(n,!0):(po(e,0,Em),t===void 0?t=a.rounding:po(t,0,8),n=mr(new a(n),e+1,t),r=ud(n,!0,e+1)),r};Je.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ud(a):(po(e,0,Em),t===void 0?t=i.rounding:po(t,0,8),n=mr(new i(a),e+ln(a)+1,t),r=ud(n.abs(),!1,e+ln(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var e=this,t=e.constructor;return mr(new t(e),ln(e)+1,t.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(hi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Yi+"Infinity");return l}if(l.eq(hi))return l;if(n=c.precision,e.eq(hi))return mr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=Tz){for(a=new c(hi),t=Math.ceil(n/Nr+4),kr=!1;r%2&&(a=a.times(l),VR(a.d,t)),r=Cm(r/2),r!==0;)l=l.times(l),VR(l.d,t);return kr=!0,e.s<0?new c(hi).div(a):mr(a,n)}}else if(i<0)throw Error(Yi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,kr=!1,a=e.times(X0(l,n+u)),kr=!0,a=kz(a),a.s=i,a};Je.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ln(a),n=ud(a,r<=i.toExpNeg||r>=i.toExpPos)):(po(e,1,Em),t===void 0?t=i.rounding:po(t,0,8),a=mr(new i(a),e,t),r=ln(a),n=ud(a,e<=r||r<=i.toExpNeg,e)),n};Je.toSignificantDigits=Je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(po(e,1,Em),t===void 0?t=n.rounding:po(t,0,8)),mr(new n(r),e,t)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ln(e),r=e.constructor;return ud(e,t<=r.toExpNeg||t>=r.toExpPos)};function Az(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),kr?mr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Nr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/En|0,c[i]%=En;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,kr?mr(t,f):t}function po(e,t,r){if(e!==~~e||e<t||e>r)throw Error(zu+e)}function to(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Nr-n.length,r&&(i+=Ul(r)),i+=n;o=e[t],n=o+"",r=Nr-n.length,r&&(i+=Ul(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ko=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%En|0,o=i/En|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*En+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,v,p,g,x,y,w,b,j,N,S,E,C=n.constructor,T=n.s==a.s?1:-1,A=n.d,k=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Yi+"Division by zero");for(c=n.e-a.e,S=k.length,j=A.length,m=new C(T),v=m.d=[],u=0;k[u]==(A[u]||0);)++u;if(k[u]>(A[u]||0)&&--c,i==null?y=i=C.precision:o?y=i+(ln(n)-ln(a))+1:y=i,y<0)return new C(0);if(y=y/Nr+2|0,u=0,S==1)for(d=0,k=k[0],y++;(u<j||d)&&y--;u++)w=d*En+(A[u]||0),v[u]=w/k|0,d=w%k|0;else{for(d=En/(k[0]+1)|0,d>1&&(k=e(k,d),A=e(A,d),S=k.length,j=A.length),b=S,p=A.slice(0,S),g=p.length;g<S;)p[g++]=0;E=k.slice(),E.unshift(0),N=k[0],k[1]>=En/2&&++N;do d=0,l=t(k,p,S,g),l<0?(x=p[0],S!=g&&(x=x*En+(p[1]||0)),d=x/N|0,d>1?(d>=En&&(d=En-1),f=e(k,d),h=f.length,g=p.length,l=t(f,p,h,g),l==1&&(d--,r(f,S<h?E:k,h))):(d==0&&(l=d=1),f=k.slice()),h=f.length,h<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(k,p,S,g),l<1&&(d++,r(p,S<g?E:k,g))),g=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[g++]=A[b]||0:(p=[A[b]],g=1);while((b++<j||p[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,mr(m,o?i+ln(m)+1:i)}}();function kz(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(ln(e)>16)throw Error(Mk+ln(e));if(!e.s)return new d(hi);for(t==null?(kr=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(vu(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(hi),d.precision=l;;){if(a=mr(a.times(e),l),r=r.times(++c),o=i.plus(Ko(a,r,l)),to(o.d).slice(0,l)===to(i.d).slice(0,l)){for(;u--;)i=mr(i.times(i),l);return d.precision=f,t==null?(kr=!0,mr(i,f)):i}i=o}}function ln(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function g2(e,t,r){if(t>e.LN10.sd())throw kr=!0,r&&(e.precision=r),Error(Yi+"LN10 precision limit exceeded");return mr(new e(e.LN10),t)}function Ul(e){for(var t="";e--;)t+="0";return t}function X0(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(Yi+(m.s?"NaN":"-Infinity"));if(m.eq(hi))return new p(0);if(t==null?(kr=!1,u=g):u=t,m.eq(10))return t==null&&(kr=!0),g2(p,u);if(u+=h,p.precision=u,r=to(v),n=r.charAt(0),i=ln(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=to(m.d),n=r.charAt(0),f++;i=ln(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=g2(p,u+2,g).times(i+""),m=X0(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=g,t==null?(kr=!0,mr(m,g)):m;for(l=o=m=Ko(m.minus(hi),m.plus(hi),u),d=mr(m.times(m),u),a=3;;){if(o=mr(o.times(d),u),c=l.plus(Ko(o,new p(a),u)),to(c.d).slice(0,u)===to(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(g2(p,u+2,g).times(i+""))),l=Ko(l,new p(f),u),p.precision=g,t==null?(kr=!0,mr(l,g)):l;l=c,a+=2}}function HR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Cm(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nr;n<a;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),kr&&(e.e>E1||e.e<-E1))throw Error(Mk+r)}else e.s=0,e.e=0,e.d=[0];return e}function mr(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Nr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Nr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Nr,a=n-Nr+o}if(r!==void 0&&(i=vu(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/vu(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ln(e),f.length=1,t=t-i-1,f[0]=vu(10,(Nr-t%Nr)%Nr),e.e=Cm(-t/Nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=vu(10,Nr-n),f[d]=a>0?(u/vu(10,o-a)%vu(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==En&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=En)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(kr&&(e.e>E1||e.e<-E1))throw Error(Mk+ln(e));return e}function Pz(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),kr?mr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Nr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=En-1;--c[i],c[a]+=En}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,kr?mr(t,m):t):new h(0)}function ud(e,t,r){var n,a=ln(e),i=to(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ul(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ul(-a-1)+i,r&&(n=r-o)>0&&(i+=Ul(n))):a>=o?(i+=Ul(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ul(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ul(n))),e.s<0?"-"+i:i}function VR(e,t){if(e.length>t)return e.length=t,!0}function Oz(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return HR(o,i.toString())}else if(typeof i!="string")throw Error(zu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,JTe.test(i))HR(o,i);else throw Error(zu+i)}if(a.prototype=Je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Oz,a.config=a.set=eAe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function eAe(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,r,n,a=["precision",1,Em,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Cm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(zu+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zu+r+": "+n);return this}var Ik=Oz(ZTe);hi=new Ik(1);const fr=Ik;function tAe(e){return iAe(e)||aAe(e)||nAe(e)||rAe()}function rAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nAe(e,t){if(e){if(typeof e=="string")return xE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(e,t)}}function aAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iAe(e){if(Array.isArray(e))return xE(e)}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sAe=function(t){return t},Dz={"@@functional/placeholder":!0},Rz=function(t){return t===Dz},WR=function(t){return function r(){return arguments.length===0||arguments.length===1&&Rz(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},oAe=function e(t,r){return t===1?r:WR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Dz}).length;return o>=t?r.apply(void 0,a):e(t-o,WR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Rz(f)?c.shift():f});return r.apply(void 0,tAe(d).concat(c))}))})},s_=function(t){return oAe(t.length,t)},yE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},lAe=s_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),cAe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sAe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},bE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Mz=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function uAe(e){var t;return e===0?t=1:t=Math.floor(new fr(e).abs().log(10).toNumber())+1,t}function dAe(e,t,r){for(var n=new fr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var fAe=s_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),hAe=s_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),mAe=s_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const o_={rangeStep:dAe,getDigitCount:uAe,interpolateNumber:fAe,uninterpolateNumber:hAe,uninterpolateTruncation:mAe};function wE(e){return gAe(e)||vAe(e)||Iz(e)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gAe(e){if(Array.isArray(e))return _E(e)}function Y0(e,t){return bAe(e)||yAe(e,t)||Iz(e,t)||xAe()}function xAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function bAe(e){if(Array.isArray(e))return e}function Fz(e){var t=Y0(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function $z(e,t,r){if(e.lte(0))return new fr(0);var n=o_.getDigitCount(e.toNumber()),a=new fr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new fr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new fr(Math.ceil(c))}function wAe(e,t,r){var n=1,a=new fr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new fr(10).pow(o_.getDigitCount(e)-1),a=new fr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new fr(Math.floor(e)))}else e===0?a=new fr(Math.floor((t-1)/2)):r||(a=new fr(Math.floor(e)));var o=Math.floor((t-1)/2),l=cAe(lAe(function(c){return a.add(new fr(c-o).mul(n)).toNumber()}),yE);return l(0,t)}function Lz(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var i=$z(new fr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new fr(0):(o=new fr(e).add(t).div(2),o=o.sub(new fr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new fr(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Lz(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new fr(l).mul(i)),tickMax:o.add(new fr(c).mul(i))})}function _Ae(e){var t=Y0(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Fz([r,n]),c=Y0(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(wE(yE(0,a-1).map(function(){return 1/0}))):[].concat(wE(yE(0,a-1).map(function(){return-1/0})),[d]);return r>n?bE(f):f}if(u===d)return wAe(u,a,i);var h=Lz(u,d,o,i),m=h.step,v=h.tickMin,p=h.tickMax,g=o_.rangeStep(v,p.add(new fr(.1).mul(m)),m);return r>n?bE(g):g}function jAe(e,t){var r=Y0(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Fz([n,a]),l=Y0(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=$z(new fr(u).sub(c).div(d-1),i,0),h=[].concat(wE(o_.rangeStep(new fr(c),new fr(u).sub(new fr(.99).mul(f)),f)),[u]);return n>a?bE(h):h}var SAe=Mz(_Ae),NAe=Mz(jAe),EAe="Invariant failed";function dd(e,t){throw new Error(EAe)}var CAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(this,arguments)}function TAe(e,t){return OAe(e)||PAe(e,t)||kAe(e,t)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kAe(e,t){if(e){if(typeof e=="string")return GR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function OAe(e){if(Array.isArray(e))return e}function DAe(e,t){if(e==null)return{};var r=RAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qz(n.key),n)}}function FAe(e,t,r){return t&&IAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ae(e,t,r){return t=T1(t),LAe(e,Bz()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function LAe(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(e)}function BAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jE(e,t)}function jE(e,t){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jE(e,t)}function Uz(e,t,r){return t=qz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qz(e){var t=qAe(e,"string");return Ph(t)=="symbol"?t:t+""}function qAe(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l_=function(e){function t(){return MAe(this,t),$Ae(this,t,arguments)}return UAe(t,e),FAe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=DAe(n,CAe),m=ht(h,!1);this.props.direction==="x"&&d.type!=="number"&&dd();var v=c.map(function(p){var g=u(p,l),x=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var j=[],N,S;if(Array.isArray(b)){var E=TAe(b,2);N=E[0],S=E[1]}else N=S=b;if(i==="vertical"){var C=d.scale,T=y+a,A=T+o,k=T-o,P=C(w-N),L=C(w+S);j.push({x1:L,y1:A,x2:L,y2:k}),j.push({x1:P,y1:T,x2:L,y2:T}),j.push({x1:P,y1:A,x2:P,y2:k})}else if(i==="horizontal"){var B=f.scale,M=x+a,D=M-o,O=M+o,W=B(w-N),ne=B(w+S);j.push({x1:D,y1:ne,x2:O,y2:ne}),j.push({x1:M,y1:W,x2:M,y2:ne}),j.push({x1:D,y1:W,x2:O,y2:W})}return F.createElement(sr,C1({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return F.createElement("line",C1({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return F.createElement(sr,{className:"recharts-errorBars"},v)}}])}(F.Component);Uz(l_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Uz(l_,"displayName","ErrorBar");function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){zAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zAe(e,t,r){return t=HAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HAe(e){var t=VAe(e,"string");return Q0(t)=="symbol"?t:t+""}function VAe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zz=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=li(r,Rf);if(!o)return null;var l=Rf.defaultProps,c=l!==void 0?iu(iu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?iu(iu({},h),f.props):{},v=m.dataKey,p=m.name,g=m.legendType,x=m.hide;return{inactive:x,dataKey:v,type:c.iconType||g||"square",color:Fk(f),value:p||v,payload:m}}),iu(iu(iu({},c),Rf.getWithHeight(o,a)),{},{payload:u,item:o})};function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function XR(e){return XAe(e)||KAe(e)||GAe(e)||WAe()}function WAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function KAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XAe(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){If(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function If(e,t,r){return t=YAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YAe(e){var t=QAe(e,"string");return Z0(t)=="symbol"?t:t+""}function QAe(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(e,t,r){return Pt(e)||Pt(t)?r:wn(t)?xi(e,t,r):xt(t)?t(e):r}function Up(e,t,r,n){var a=KTe(e,function(l){return oa(l,t)});if(r==="number"){var i=a.filter(function(l){return Ue(l)||parseFloat(l)});return i.length?[a_(i),n_(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Pt(l)}):a;return o.map(function(l){return wn(l)||l instanceof Date?l:""})}var ZAe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Sa(f-d)!==Sa(h-f)){var v=[];if(Sa(h-f)===Sa(c[1]-c[0])){m=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var g=h+c[1]-c[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=v[0]&&t<=v[1]){o=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<l-1&&t>(n[b].coordinate+n[b-1].coordinate)/2&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b===l-1&&t>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o},Fk=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},JAe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],p=v.items,g=v.cateAxisId,x=p.filter(function(S){return Wo(S.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?zr(zr({},y),x[0].props):x[0].props,b=w.barSize,j=w[g];o[j]||(o[j]=[]);var N=Pt(b)?r:b;o[j].push({item:x[0],stackList:x.slice(1),barSize:Pt(N)?void 0:Na(N,n,0)})}}return o},eke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Na(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,v=o.reduce(function(b,j){return b+j.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,g={offset:p-u,size:0};d=o.reduce(function(b,j){var N={item:j.item,position:{offset:g.offset+g.size+u,size:h?m:j.barSize}},S=[].concat(XR(b),[N]);return g=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){S.push({item:E,position:g})}),S},f)}else{var x=Na(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(b,j,N){var S=[].concat(XR(b),[{item:j.item,position:{offset:x+(y+u)*N+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return d},tke=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=zz({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&Ue(t[m]))return zr(zr({},t),{},If({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&Ue(t[v]))return zr(zr({},t),{},If({},v,t[v]+(h||0)))}return t},rke=function(t,r,n){return Pt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Hz=function(t,r,n,a,i){var o=r.props.children,l=Wi(o,l_).filter(function(u){return rke(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=oa(d,n);if(Pt(f))return u;var h=Array.isArray(f)?[a_(f),n_(f)]:[f,f],m=c.reduce(function(v,p){var g=oa(d,p,0),x=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},nke=function(t,r,n,a,i){var o=r.map(function(l){return Hz(t,l,n,i,a)}).filter(function(l){return!Pt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Vz=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Hz(t,c,u,a)||Up(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Wz=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Gz=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},zo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Sa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!ng(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},x2=new WeakMap,hx=function(t,r){if(typeof r!="function")return t;x2.has(t)||x2.set(t,new WeakMap);var n=x2.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Kz=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:H0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:_1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bp(),realScaleType:"point"}:i==="category"?{scale:H0(),realScaleType:"band"}:{scale:_1(),realScaleType:"linear"};if(rg(a)){var c="scale".concat(qw(a));return{scale:(zR[c]||Bp)(),realScaleType:zR[c]?c:"point"}}return xt(a)?{scale:a}:{scale:Bp(),realScaleType:"point"}},QR=1e-4,Xz=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-QR,o=Math.max(a[0],a[1])+QR,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},ake=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ike=function(t,r){if(!r||r.length!==2||!Ue(r[0])||!Ue(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ue(t[0])||t[0]<n)&&(i[0]=n),(!Ue(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},ske=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=ng(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},oke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=ng(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},lke={sign:ske,expand:Cxe,none:jh,silhouette:Txe,wiggle:Axe,positive:oke},cke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=lke[n],o=Exe().keys(a).value(function(l,c){return+oa(l,c,0)}).order(KN).offset(i);return o(t)},uke=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?zr(zr({},h.type.defaultProps),h.props):h.props,p=v.stackId,g=v.hide;if(g)return f;var x=v[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(wn(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[ag("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return zr(zr({},f),{},If({},x,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var x=m.stackGroups[g];return zr(zr({},p),{},If({},g,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:cke(t,x.items,i)}))},v)}return zr(zr({},f),{},If({},h,m))},d)},Yz=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=SAe(u,i,l);return t.domain([a_(d),n_(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=NAe(f,i,l);return{niceTicks:h}}return null},ZR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=oa(o,r.dataKey,r.domain[l]);return Pt(c)?null:r.scale(c)-i/2+a},dke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},fke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(wn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},hke=function(t){return t.reduce(function(r,n){return[a_(n.concat([r[0]]).filter(Ue)),n_(n.concat([r[1]]).filter(Ue))]},[1/0,-1/0])},Qz=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=hke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},JR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NE=function(t,r,n){if(xt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Ue(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(JR.test(t[0])){var i=+JR.exec(t[0])[1];a[0]=r[0]-i}else xt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ue(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(eM.test(t[1])){var o=+eM.exec(t[1])[1];a[1]=r[1]+o}else xt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},A1=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=dk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},tM=function(t,r,n){return!t||!t.length||i_(t,xi(n,"type.defaultProps.domain"))?r:t},Zz=function(t,r){var n=t.type.defaultProps?zr(zr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return zr(zr({},ht(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Fk(t),value:oa(r,a),type:c,payload:r,chartType:u,hide:d})};function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){Jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jz(e,t,r){return t=mke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mke(e){var t=pke(e,"string");return J0(t)=="symbol"?t:t+""}function pke(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vke(e,t){return bke(e)||yke(e,t)||xke(e,t)||gke()}function gke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xke(e,t){if(e){if(typeof e=="string")return nM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nM(e,t)}}function nM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bke(e){if(Array.isArray(e))return e}var k1=Math.PI/180,wke=function(t){return t*180/Math.PI},br=function(t,r,n,a){return{x:t+Math.cos(-k1*a)*n,y:r+Math.sin(-k1*a)*n}},eH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_ke=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Na(t.cx,o,o/2),f=Na(t.cy,l,l/2),h=eH(o,l,n),m=Na(t.innerRadius,h,0),v=Na(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(g,x){var y=r[x],w=y.domain,b=y.reversed,j;if(Pt(y.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,v]),b&&(j=[j[1],j[0]]);else{j=y.range;var N=j,S=vke(N,2);c=S[0],u=S[1]}var E=Kz(y,i),C=E.realScaleType,T=E.scale;T.domain(w).range(j),Xz(T);var A=Yz(T,Mo(Mo({},y),{},{realScaleType:C})),k=Mo(Mo(Mo({},y),A),{},{range:j,radius:v,realScaleType:C,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Mo(Mo({},g),{},Jz({},x,k))},{})},jke=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},Ske=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=jke({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:wke(u),angleInRadian:u}},Nke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Eke=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},aM=function(t,r){var n=t.x,a=t.y,i=Ske({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Nke(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Mo(Mo({},r),{},{radius:o,angle:Eke(m,r)}):null},tH=function(t){return!_.isValidElement(t)&&!xt(t)&&typeof t!="boolean"?t.className:""};function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var Cke=["offset"];function Tke(e){return Oke(e)||Pke(e)||kke(e)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kke(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function Pke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oke(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Dke(e,t){if(e==null)return{};var r=Rke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){Mke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mke(e,t,r){return t=Ike(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ike(e){var t=Fke(e,"string");return ev(t)=="symbol"?t:t+""}function Fke(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)}var $ke=function(t){var r=t.value,n=t.formatter,a=Pt(t.children)?r:t.children;return xt(n)?n(a):a},Lke=function(t,r){var n=Sa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Bke=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,g=(f+h)/2,x=Lke(m,v),y=x>=0?1:-1,w,b;a==="insideStart"?(w=m+y*o,b=p):a==="insideEnd"?(w=v-y*o,b=!p):a==="end"&&(w=v+y*o,b=p),b=x<=0?b:!b;var j=br(u,d,g,w),N=br(u,d,g,w+(b?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),E=Pt(t.id)?ag("recharts-radial-line-"):t.id;return F.createElement("text",tv({},n,{dominantBaseline:"central",className:Tt("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:E,d:S})),F.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Uke=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=br(o,l,u+n,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,x=br(o,l,g,h),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},qke=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,g=p*a,x=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return hn(hn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var b={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return hn(hn({},b),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return hn(hn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return hn(hn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return i==="insideLeft"?hn({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?hn({x:l+u-g,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):i==="insideTop"?hn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},S):i==="insideBottom"?hn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):i==="insideTopLeft"?hn({x:l+g,y:c+h,textAnchor:y,verticalAnchor:v},S):i==="insideTopRight"?hn({x:l+u-g,y:c+h,textAnchor:x,verticalAnchor:v},S):i==="insideBottomLeft"?hn({x:l+g,y:c+d-h,textAnchor:y,verticalAnchor:m},S):i==="insideBottomRight"?hn({x:l+u-g,y:c+d-h,textAnchor:x,verticalAnchor:m},S):xm(i)&&(Ue(i.x)||Cu(i.x))&&(Ue(i.y)||Cu(i.y))?hn({x:l+Na(i.x,u),y:c+Na(i.y,d),textAnchor:"end",verticalAnchor:"end"},S):hn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},zke=function(t){return"cx"in t&&Ue(t.cx)};function Tn(e){var t=e.offset,r=t===void 0?5:t,n=Dke(e,Cke),a=hn({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Pt(l)&&Pt(c)&&!_.isValidElement(u)&&!xt(u))return null;if(_.isValidElement(u))return _.cloneElement(u,a);var m;if(xt(u)){if(m=_.createElement(u,a),_.isValidElement(m))return m}else m=$ke(a);var v=zke(i),p=ht(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Bke(a,m,p);var g=v?Uke(a):qke(a);return F.createElement(cd,tv({className:Tt("recharts-label",f)},p,g,{breakAll:h}),m)}Tn.displayName="Label";var rH=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,p=t.width,g=t.height,x=t.clockWise,y=t.labelViewBox;if(y)return y;if(Ue(p)&&Ue(g)){if(Ue(f)&&Ue(h))return{x:f,y:h,width:p,height:g};if(Ue(m)&&Ue(v))return{x:m,y:v,width:p,height:g}}return Ue(f)&&Ue(h)?{x:f,y:h,width:0,height:0}:Ue(r)&&Ue(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},Hke=function(t,r){return t?t===!0?F.createElement(Tn,{key:"label-implicit",viewBox:r}):wn(t)?F.createElement(Tn,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===Tn?_.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):xt(t)?F.createElement(Tn,{key:"label-implicit",content:t,viewBox:r}):xm(t)?F.createElement(Tn,tv({viewBox:r},t,{key:"label-implicit"})):null:null},Vke=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=rH(t),o=Wi(a,Tn).map(function(c,u){return _.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=Hke(t.label,r||i);return[l].concat(Tke(o))};Tn.parseViewBox=rH;Tn.renderCallByParent=Vke;function Wke(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Gke=Wke;const Kke=Qt(Gke);function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}var Xke=["valueAccessor"],Yke=["data","dataKey","clockWise","id","textBreakAll"];function Qke(e){return tPe(e)||ePe(e)||Jke(e)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function ePe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tPe(e){if(Array.isArray(e))return CE(e)}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(this,arguments)}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(n){rPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rPe(e,t,r){return t=nPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nPe(e){var t=aPe(e,"string");return rv(t)=="symbol"?t:t+""}function aPe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lM(e,t){if(e==null)return{};var r=iPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var sPe=function(t){return Array.isArray(t.value)?Kke(t.value):t.value};function wc(e){var t=e.valueAccessor,r=t===void 0?sPe:t,n=lM(e,Xke),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=lM(n,Yke);return!a||!a.length?null:F.createElement(sr,{className:"recharts-label-list"},a.map(function(d,f){var h=Pt(i)?r(d,f):oa(d&&d.payload,i),m=Pt(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(Tn,P1({},ht(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Tn.parseViewBox(Pt(o)?d:oM(oM({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}wc.displayName="LabelList";function oPe(e,t){return e?e===!0?F.createElement(wc,{key:"labelList-implicit",data:t}):F.isValidElement(e)||xt(e)?F.createElement(wc,{key:"labelList-implicit",data:t,content:e}):xm(e)?F.createElement(wc,P1({data:t},e,{key:"labelList-implicit"})):null:null}function lPe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Wi(n,wc).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=oPe(e.label,t);return[i].concat(Qke(a))}wc.renderCallByParent=lPe;function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TE.apply(this,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){cPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cPe(e,t,r){return t=uPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uPe(e){var t=dPe(e,"string");return nv(t)=="symbol"?t:t+""}function dPe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fPe=function(t,r){var n=Sa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},mx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/k1,h=u?i:i+o*f,m=br(r,n,d,h),v=br(r,n,a,h),p=u?i-o*f:i,g=br(r,n,d*Math.cos(f*k1),p);return{center:m,circleTangency:v,lineTangency:g,theta:f}},nH=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=fPe(o,l),u=o+c,d=br(r,n,i,o),f=br(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=br(r,n,a,o),v=br(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},hPe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Sa(d-u),h=mx({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,p=h.theta,g=mx({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(b<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nH({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=mx({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,E=N.lineTangency,C=N.theta,T=mx({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=T.circleTangency,k=T.lineTangency,P=T.theta,L=c?Math.abs(u-d):Math.abs(u-d)-C-P;if(L<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},mPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aH=function(t){var r=uM(uM({},mPe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=Tt("recharts-sector",h),v=o-i,p=Na(l,v,0,!0),g;return p>0&&Math.abs(d-f)<360?g=hPe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=nH({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),F.createElement("path",TE({},ht(r,!0),{className:m,d:g,role:"img"}))};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AE.apply(this,arguments)}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){pPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pPe(e,t,r){return t=vPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=gPe(e,"string");return av(t)=="symbol"?t:t+""}function gPe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hM={curveBasisClosed:pxe,curveBasisOpen:vxe,curveBasis:mxe,curveBumpX:exe,curveBumpY:txe,curveLinearClosed:gxe,curveLinear:Hw,curveMonotoneX:xxe,curveMonotoneY:yxe,curveNatural:bxe,curveStep:wxe,curveStepAfter:jxe,curveStepBefore:_xe},px=function(t){return t.x===+t.x&&t.y===+t.y},sp=function(t){return t.x},op=function(t){return t.y},xPe=function(t,r){if(xt(t))return t;var n="curve".concat(qw(t));return(n==="curveMonotone"||n==="curveBump")&&r?hM["".concat(n).concat(r==="vertical"?"Y":"X")]:hM[n]||Hw},yPe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=xPe(n,l),f=u?i.filter(function(p){return px(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return px(p)}):o,v=f.map(function(p,g){return fM(fM({},p),{},{base:m[g]})});return l==="vertical"?h=ix().y(op).x1(sp).x0(function(p){return p.base.x}):h=ix().x(sp).y1(op).y0(function(p){return p.base.y}),h.defined(px).curve(d),h(v)}return l==="vertical"&&Ue(o)?h=ix().y(op).x1(sp).x0(o):Ue(o)?h=ix().x(sp).y1(op).y0(o):h=ZU().x(sp).y(op),h.defined(px).curve(d),h(f)},kE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?yPe(t):a;return F.createElement("path",AE({},ht(t,!1),r1(t),{className:Tt("recharts-curve",r),d:o,ref:i}))},iH={exports:{}},bPe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wPe=bPe,_Pe=wPe;function sH(){}function oH(){}oH.resetWarningCache=sH;var jPe=function(){function e(n,a,i,o,l,c){if(c!==_Pe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oH,resetWarningCache:sH};return r.PropTypes=r,r};iH.exports=jPe();var SPe=iH.exports;const St=Qt(SPe);var NPe=Object.getOwnPropertyNames,EPe=Object.getOwnPropertySymbols,CPe=Object.prototype.hasOwnProperty;function mM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function vx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function pM(e){return NPe(e).concat(EPe(e))}var lH=Object.hasOwn||function(e,t){return CPe.call(e,t)};function Tm(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var cH="_owner",vM=Object.getOwnPropertyDescriptor,gM=Object.keys;function TPe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function APe(e,t){return Tm(e.getTime(),t.getTime())}function xM(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],v=l.value,p=v[0],g=v[1];!u&&!n[d]&&(u=r.equals(h,p,i,d,e,t,r)&&r.equals(m,g,h,p,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;i++}return!0}function kPe(e,t,r){var n=gM(e),a=n.length;if(gM(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===cH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lH(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function lp(e,t,r){var n=pM(e),a=n.length;if(pM(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===cH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!lH(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=vM(e,i),l=vM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function PPe(e,t){return Tm(e.valueOf(),t.valueOf())}function OPe(e,t){return e.source===t.source&&e.flags===t.flags}function yM(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function DPe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var RPe="[object Arguments]",MPe="[object Boolean]",IPe="[object Date]",FPe="[object Map]",$Pe="[object Number]",LPe="[object Object]",BPe="[object RegExp]",UPe="[object Set]",qPe="[object String]",zPe=Array.isArray,bM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wM=Object.assign,HPe=Object.prototype.toString.call.bind(Object.prototype.toString);function VPe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return a(d,f,h);if(zPe(d))return t(d,f,h);if(bM!=null&&bM(d))return c(d,f,h);if(m===Date)return r(d,f,h);if(m===RegExp)return o(d,f,h);if(m===Map)return n(d,f,h);if(m===Set)return l(d,f,h);var v=HPe(d);return v===IPe?r(d,f,h):v===BPe?o(d,f,h):v===FPe?n(d,f,h):v===UPe?l(d,f,h):v===LPe?typeof d.then!="function"&&typeof f.then!="function"&&a(d,f,h):v===RPe?a(d,f,h):v===MPe||v===$Pe||v===qPe?i(d,f,h):!1}}function WPe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?lp:TPe,areDatesEqual:APe,areMapsEqual:n?mM(xM,lp):xM,areObjectsEqual:n?lp:kPe,arePrimitiveWrappersEqual:PPe,areRegExpsEqual:OPe,areSetsEqual:n?mM(yM,lp):yM,areTypedArraysEqual:n?lp:DPe};if(r&&(a=wM({},a,r(a))),t){var i=vx(a.areArraysEqual),o=vx(a.areMapsEqual),l=vx(a.areObjectsEqual),c=vx(a.areSetsEqual);a=wM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function GPe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function KPe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var XPe=Zc();Zc({strict:!0});Zc({circular:!0});Zc({circular:!0,strict:!0});Zc({createInternalComparator:function(){return Tm}});Zc({strict:!0,createInternalComparator:function(){return Tm}});Zc({circular:!0,createInternalComparator:function(){return Tm}});Zc({circular:!0,createInternalComparator:function(){return Tm},strict:!0});function Zc(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=WPe(e),c=VPe(l),u=n?n(c):GPe(c);return KPe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function YPe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _M(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):YPe(a)};requestAnimationFrame(n)}function PE(e){"@babel/helpers - typeof";return PE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PE(e)}function QPe(e){return tOe(e)||eOe(e)||JPe(e)||ZPe()}function ZPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(e,t){if(e){if(typeof e=="string")return jM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(e,t)}}function jM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tOe(e){if(Array.isArray(e))return e}function rOe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=QPe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){_M(a.bind(null,u),c);return}a(c),_M(a.bind(null,u));return}PE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return t=nOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nOe(e){var t=aOe(e,"string");return iv(t)==="symbol"?t:String(t)}function aOe(e,t){if(iv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iOe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},sOe=function(t){return t},oOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qp=function(t,r){return Object.keys(r).reduce(function(n,a){return NM(NM({},n),{},uH({},a,t(a,r[a])))},{})},EM=function(t,r,n){return t.map(function(a){return"".concat(oOe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lOe(e,t){return dOe(e)||uOe(e,t)||dH(e,t)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dOe(e){if(Array.isArray(e))return e}function fOe(e){return pOe(e)||mOe(e)||dH(e)||hOe()}function hOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function mOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pOe(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O1=1e-4,fH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},hH=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},CM=function(t,r){return function(n){var a=fH(t,r);return hH(a,n)}},vOe=function(t,r){return function(n){var a=fH(t,r),i=[].concat(fOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return hH(i,n)}},TM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=lOe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=CM(a,o),h=CM(i,l),m=vOe(a,o),v=function(x){return x>1?1:x<0?0:x},p=function(x){for(var y=x>1?1:x,w=y,b=0;b<8;++b){var j=f(w)-y,N=m(w);if(Math.abs(j-y)<O1||N<O1)return h(w);w=v(w-j/N)}return h(w)};return p.isStepper=!1,p},gOe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,v=h*i,p=h+(m-v)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<O1&&Math.abs(p)<O1?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},xOe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TM(a);case"spring":return gOe();default:if(a.split("(")[0]==="cubic-bezier")return TM(a)}return typeof a=="function"?a:null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function AM(e){return wOe(e)||bOe(e)||mH(e)||yOe()}function yOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wOe(e){if(Array.isArray(e))return RE(e)}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return t=_Oe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Oe(e){var t=jOe(e,"string");return sv(t)==="symbol"?t:String(t)}function jOe(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SOe(e,t){return COe(e)||EOe(e,t)||mH(e,t)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(e,t){if(e){if(typeof e=="string")return RE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RE(e,t)}}function RE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function COe(e){if(Array.isArray(e))return e}var D1=function(t,r,n){return t+(r-t)*n},ME=function(t){var r=t.from,n=t.to;return r!==n},TOe=function e(t,r,n){var a=qp(function(i,o){if(ME(o)){var l=t(o.from,o.to,o.velocity),c=SOe(l,2),u=c[0],d=c[1];return Bn(Bn({},o),{},{from:u,velocity:d})}return o},r);return n<1?qp(function(i,o){return ME(o)?Bn(Bn({},o),{},{velocity:D1(o.velocity,a[i].velocity,n),from:D1(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const AOe=function(e,t,r,n,a){var i=iOe(e,t),o=i.reduce(function(g,x){return Bn(Bn({},g),{},DE({},x,[e[x],t[x]]))},{}),l=i.reduce(function(g,x){return Bn(Bn({},g),{},DE({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return qp(function(x,y){return y.from},l)},m=function(){return!Object.values(l).filter(ME).length},v=function(x){u||(u=x);var y=x-u,w=y/r.dt;l=TOe(r,l,w),a(Bn(Bn(Bn({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var y=(x-d)/n,w=qp(function(j,N){return D1.apply(void 0,AM(N).concat([r(y)]))},o);if(a(Bn(Bn(Bn({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=qp(function(j,N){return D1.apply(void 0,AM(N).concat([r(1)]))},o);a(Bn(Bn(Bn({},e),t),b))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}var kOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function POe(e,t){if(e==null)return{};var r=OOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OOe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function y2(e){return IOe(e)||MOe(e)||ROe(e)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function MOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IOe(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){wp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wp(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function LOe(e,t,r){return t&&$Oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pH(e){var t=BOe(e,"string");return Oh(t)==="symbol"?t:String(t)}function BOe(e,t){if(Oh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FE(e,t)}function qOe(e){var t=zOe();return function(){var n=R1(e),a;if(t){var i=R1(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return $E(this,a)}}function $E(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LE(e)}function LE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R1(e){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(e)}var fl=function(e){UOe(r,e);var t=qOe(r);function r(n,a){var i;FOe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(LE(i)),i.changeStyle=i.changeStyle.bind(LE(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),$E(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},$E(i);i.state={style:c?wp({},c,u):u}}else i.state={style:{}};return i}return LOe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?wp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(XPe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:a.to;if(this.state&&h){var g={style:c?wp({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(as(as({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=AOe(o,l,xOe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,g,x){if(x===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,j=g.style,N=g.properties,S=g.onAnimationEnd,E=x>0?o[x-1]:g,C=N||Object.keys(j);if(typeof b=="function"||b==="spring")return[].concat(y2(p),[i.runJSAnimation.bind(i,{from:E.style,to:j,duration:y,easing:b}),y]);var T=EM(C,y,b),A=as(as(as({},E.style),j),{},{transition:T});return[].concat(y2(p),[A,y,S]).filter(sOe)};return this.manager.start([c].concat(y2(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rOe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?wp({},l,c):c,g=EM(Object.keys(p),o,u);v.start([d,i,as(as({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=POe(a,kOe),u=_.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var v=m.props,p=v.style,g=p===void 0?{}:p,x=v.className,y=_.cloneElement(m,as(as({},c),{},{style:as(as({},g),d),className:x}));return y};return u===1?f(_.Children.only(i)):F.createElement("div",null,_.Children.map(i,function(h){return f(h)}))}}]),r}(_.PureComponent);fl.displayName="Animate";fl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fl.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};St.object,St.object,St.object,St.element;St.object,St.object,St.object,St.oneOfType([St.array,St.element]),St.any;function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(this,arguments)}function HOe(e,t){return KOe(e)||GOe(e,t)||WOe(e,t)||VOe()}function VOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WOe(e,t){if(e){if(typeof e=="string")return OM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(e,t)}}function OM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KOe(e){if(Array.isArray(e))return e}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){XOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XOe(e,t,r){return t=YOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YOe(e){var t=QOe(e,"string");return ov(t)=="symbol"?t:t+""}function QOe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MM=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},ZOe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},JOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$k=function(t){var r=RM(RM({},JOe),t),n=_.useRef(),a=_.useState(-1),i=HOe(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Tt("recharts-rectangle",m);return y?F.createElement(fl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:y},function(b){var j=b.width,N=b.height,S=b.x,E=b.y;return F.createElement(fl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:x,easing:v},F.createElement("path",M1({},ht(r,!0),{className:w,d:MM(S,E,j,N,h),ref:n})))}):F.createElement("path",M1({},ht(r,!0),{className:w,d:MM(c,u,d,f,h)}))},e4e=["points","className","baseLinePoints","connectNulls"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function t4e(e,t){if(e==null)return{};var r=r4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IM(e){return s4e(e)||i4e(e)||a4e(e)||n4e()}function n4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(e,t){if(e){if(typeof e=="string")return BE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}}function i4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s4e(e){if(Array.isArray(e))return BE(e)}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FM=function(t){return t&&t.x===+t.x&&t.y===+t.y},o4e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){FM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},zp=function(t,r){var n=o4e(t);r&&(n=[n.reduce(function(i,o){return[].concat(IM(i),IM(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},l4e=function(t,r,n){var a=zp(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(zp(r.reverse(),n).slice(1))},c4e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=t4e(t,e4e);if(!r||!r.length)return null;var l=Tt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=l4e(r,a,i);return F.createElement("g",{className:l},F.createElement("path",pf({},ht(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?F.createElement("path",pf({},ht(o,!0),{fill:"none",d:zp(r,i)})):null,c?F.createElement("path",pf({},ht(o,!0),{fill:"none",d:zp(a,i)})):null)}var d=zp(r,i);return F.createElement("path",pf({},ht(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function UE(){return UE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UE.apply(this,arguments)}var Lk=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?F.createElement("circle",UE({},ht(t,!1),r1(t),{className:o,cx:r,cy:n,r:a})):null};function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}var u4e=["x","y","top","left","width","height","className"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qE.apply(this,arguments)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){f4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4e(e,t,r){return t=h4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4e(e){var t=m4e(e,"string");return lv(t)=="symbol"?t:t+""}function m4e(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p4e(e,t){if(e==null)return{};var r=v4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var g4e=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},x4e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,p=p4e(t,u4e),g=d4e({x:n,y:i,top:l,left:u,width:f,height:m},p);return!Ue(n)||!Ue(i)||!Ue(f)||!Ue(m)||!Ue(l)||!Ue(u)?null:F.createElement("path",qE({},ht(g,!0),{className:Tt("recharts-cross",v),d:g4e(n,i,f,m,l,u)}))},y4e=r_,b4e=Ez,w4e=_o;function _4e(e,t){return e&&e.length?y4e(e,w4e(t),b4e):void 0}var j4e=_4e;const S4e=Qt(j4e);var N4e=r_,E4e=_o,C4e=Cz;function T4e(e,t){return e&&e.length?N4e(e,E4e(t),C4e):void 0}var A4e=T4e;const k4e=Qt(A4e);var P4e=["cx","cy","angle","ticks","axisLine"],O4e=["ticks","tick","angle","tickFormatter","stroke"];function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BM(e,t){if(e==null)return{};var r=D4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function M4e(e,t,r){return t&&UM(e.prototype,t),r&&UM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I4e(e,t,r){return t=I1(t),F4e(e,vH()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function F4e(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $4e(e)}function $4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function L4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zE(e,t)}function c_(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=B4e(e,"string");return Dh(t)=="symbol"?t:t+""}function B4e(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_=function(e){function t(){return R4e(this,t),I4e(this,t,arguments)}return L4e(t,e),M4e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return br(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=S4e(l,function(d){return d.coordinate||0}),u=k4e(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=BM(n,P4e),d=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),f=br(a,i,d[0],o),h=br(a,i,d[1],o),m=su(su(su({},ht(u,!1)),{},{fill:"none"},ht(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return F.createElement("line",Hp({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=BM(a,O4e),f=this.getTickTextAnchor(),h=ht(d,!1),m=ht(o,!1),v=i.map(function(p,g){var x=n.getTickValueCoord(p),y=su(su(su(su({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:g},x),{},{payload:p});return F.createElement(sr,Hp({className:Tt("recharts-polar-radius-axis-tick",tH(o)),key:"tick-".concat(p.coordinate)},ld(n.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return F.createElement(sr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:F.createElement(sr,{className:Tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Tn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):xt(n)?o=n(a):o=F.createElement(cd,Hp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(_.PureComponent);c_(u_,"displayName","PolarRadiusAxis");c_(u_,"axisType","radiusAxis");c_(u_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function q4e(e,t,r){return t&&zM(e.prototype,t),r&&zM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4e(e,t,r){return t=F1(t),H4e(e,xH()?Reflect.construct(t,r||[],F1(e).constructor):t.apply(e,r))}function H4e(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V4e(e)}function V4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function F1(e){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(e)}function W4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HE(e,t)}function HE(e,t){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HE(e,t)}function d_(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=G4e(e,"string");return Rh(t)=="symbol"?t:t+""}function G4e(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K4e=Math.PI/180,HM=1e-5,f_=function(e){function t(){return U4e(this,t),z4e(this,t,arguments)}return W4e(t,e),q4e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=br(i,o,l,n.coordinate),h=br(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*K4e),o;return i>HM?o=a==="outer"?"start":"end":i<-HM?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ou(ou({},ht(this.props,!1)),{},{fill:"none"},ht(l,!1));if(c==="circle")return F.createElement(Lk,bu({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return br(a,i,o,h.coordinate)});return F.createElement(c4e,bu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ht(this.props,!1),f=ht(o,!1),h=ou(ou({},d),{},{fill:"none"},ht(l,!1)),m=i.map(function(v,p){var g=n.getTickLineCoord(v),x=n.getTickTextAnchor(v),y=ou(ou(ou({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:v,x:g.x2,y:g.y2});return F.createElement(sr,bu({className:Tt("recharts-polar-angle-axis-tick",tH(o)),key:"tick-".concat(v.coordinate)},ld(n.props,v,p)),l&&F.createElement("line",bu({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,y,c?c(v.value,p):v.value))});return F.createElement(sr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:F.createElement(sr,{className:Tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):xt(n)?o=n(a):o=F.createElement(cd,bu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(_.PureComponent);d_(f_,"displayName","PolarAngleAxis");d_(f_,"axisType","angleAxis");d_(f_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var X4e=_q,Y4e=X4e(Object.getPrototypeOf,Object),Q4e=Y4e,Z4e=wl,J4e=Q4e,e3e=_l,t3e="[object Object]",r3e=Function.prototype,n3e=Object.prototype,bH=r3e.toString,a3e=n3e.hasOwnProperty,i3e=bH.call(Object);function s3e(e){if(!e3e(e)||Z4e(e)!=t3e)return!1;var t=J4e(e);if(t===null)return!0;var r=a3e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&bH.call(r)==i3e}var o3e=s3e;const l3e=Qt(o3e);var c3e=wl,u3e=_l,d3e="[object Boolean]";function f3e(e){return e===!0||e===!1||u3e(e)&&c3e(e)==d3e}var h3e=f3e;const m3e=Qt(h3e);function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}function p3e(e,t){return y3e(e)||x3e(e,t)||g3e(e,t)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(e,t){if(e){if(typeof e=="string")return VM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VM(e,t)}}function VM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function y3e(e){if(Array.isArray(e))return e}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){b3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b3e(e,t,r){return t=w3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w3e(e){var t=_3e(e,"string");return cv(t)=="symbol"?t:t+""}function _3e(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KM=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},j3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},S3e=function(t){var r=GM(GM({},j3e),t),n=_.useRef(),a=_.useState(-1),i=p3e(a,2),o=i[0],l=i[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Tt("recharts-trapezoid",m);return x?F.createElement(fl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:x},function(w){var b=w.upperWidth,j=w.lowerWidth,N=w.height,S=w.x,E=w.y;return F.createElement(fl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:v},F.createElement("path",$1({},ht(r,!0),{className:y,d:KM(S,E,b,j,N),ref:n})))}):F.createElement("g",null,F.createElement("path",$1({},ht(r,!0),{className:y,d:KM(c,u,d,f,h)})))},N3e=["option","shapeType","propTransformer","activeClassName","isActive"];function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function E3e(e,t){if(e==null)return{};var r=C3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(r),!0).forEach(function(n){T3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3e(e,t,r){return t=A3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3e(e){var t=k3e(e,"string");return uv(t)=="symbol"?t:t+""}function k3e(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P3e(e,t){return L1(L1({},t),e)}function O3e(e,t){return e==="symbols"}function YM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement($k,r);case"trapezoid":return F.createElement(S3e,r);case"sector":return F.createElement(aH,r);case"symbols":if(O3e(t))return F.createElement(nk,r);break;default:return null}}function D3e(e){return _.isValidElement(e)?e.props:e}function wH(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?P3e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=E3e(e,N3e),u;if(_.isValidElement(t))u=_.cloneElement(t,L1(L1({},c),D3e(t)));else if(xt(t))u=t(c);else if(l3e(t)&&!m3e(t)){var d=a(t,c);u=F.createElement(YM,{shapeType:r,elementProps:d})}else{var f=c;u=F.createElement(YM,{shapeType:r,elementProps:f})}return l?F.createElement(sr,{className:o},u):u}function h_(e,t){return t!=null&&"trapezoids"in e.props}function m_(e,t){return t!=null&&"sectors"in e.props}function dv(e,t){return t!=null&&"points"in e.props}function R3e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function M3e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function I3e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function F3e(e,t){var r;return h_(e,t)?r=R3e:m_(e,t)?r=M3e:dv(e,t)&&(r=I3e),r}function $3e(e,t){var r;return h_(e,t)?r="trapezoids":m_(e,t)?r="sectors":dv(e,t)&&(r="points"),r}function L3e(e,t){if(h_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(m_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dv(e,t)?t.payload:{}}function B3e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=$3e(r,t),i=L3e(r,t),o=n.filter(function(c,u){var d=i_(i,c),f=r.props[a].filter(function(v){var p=F3e(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Qx;function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){Li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jH(n.key),n)}}function q3e(e,t,r){return t&&ZM(e.prototype,t),r&&ZM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function z3e(e,t,r){return t=B1(t),H3e(e,_H()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function H3e(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V3e(e)}function V3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function W3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VE(e,t)}function Li(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=G3e(e,"string");return Mh(t)=="symbol"?t:t+""}function G3e(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jc=function(e){function t(r){var n;return U3e(this,t),n=z3e(this,t,[r]),Li(n,"pieRef",null),Li(n,"sectorRefs",[]),Li(n,"id",ag("recharts-pie-")),Li(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),xt(a)&&a()}),Li(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),xt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return W3e(t,e),q3e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ht(this.props,!1),f=ht(o,!1),h=ht(l,!1),m=o&&o.offsetRadius||20,v=n.map(function(p,g){var x=(p.startAngle+p.endAngle)/2,y=br(p.cx,p.cy,p.outerRadius+m,x),w=gr(gr(gr(gr({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=gr(gr(gr(gr({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[br(p.cx,p.cy,p.outerRadius,x),y]}),j=c;return Pt(c)&&Pt(u)?j="value":Pt(c)&&(j=u),F.createElement(sr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,oa(p,j)))});return F.createElement(sr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,v=gr(gr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return F.createElement(sr,vf({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},ld(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),F.createElement(wH,vf({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return F.createElement(fl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,g=[],x=i&&i[0],y=x.startAngle;return i.forEach(function(w,b){var j=h&&h[b],N=b>0?xi(w,"paddingAngle",0):0;if(j){var S=Bl(j.endAngle-j.startAngle,w.endAngle-w.startAngle),E=gr(gr({},w),{},{startAngle:y+N,endAngle:y+S(p)+N});g.push(E),y=E.endAngle}else{var C=w.endAngle,T=w.startAngle,A=Bl(0,C-T),k=A(p),P=gr(gr({},w),{},{startAngle:y+N,endAngle:y+k+N});g.push(P),y=P.endAngle}}),F.createElement(sr,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!i_(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Ue(u)||!Ue(d)||!Ue(f)||!Ue(h))return null;var p=Tt("recharts-pie",l);return F.createElement(sr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Tn.renderCallByParent(this.props,null,!1),(!m||v)&&wc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);if(xt(n))return n(a);var o=Tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return F.createElement(kE,vf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(F.isValidElement(n))return F.cloneElement(n,a);var o=i;if(xt(n)&&(o=n(a),F.isValidElement(o)))return o;var l=Tt("recharts-pie-label-text",typeof n!="boolean"&&!xt(n)?n.className:"");return F.createElement(cd,vf({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);Qx=Jc;Li(Jc,"displayName","Pie");Li(Jc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Go.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Li(Jc,"parseDeltaAngle",function(e,t){var r=Sa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Li(Jc,"getRealPieData",function(e){var t=e.data,r=e.children,n=ht(e,!1),a=Wi(r,Xw);return t&&t.length?t.map(function(i,o){return gr(gr(gr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return gr(gr({},n),i.props)}):[]});Li(Jc,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=eH(a,i),l=n+Na(e.cx,a,a/2),c=r+Na(e.cy,i,i/2),u=Na(e.innerRadius,o,0),d=Na(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Li(Jc,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?gr(gr({},t.type.defaultProps),t.props):t.props,a=Qx.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=Qx.parseCoordinateOfPie(n,r),p=Qx.parseDeltaAngle(o,l),g=Math.abs(p),x=u;Pt(u)&&Pt(f)?(Es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Pt(u)&&(Es(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(E){return oa(E,x,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*m-w,j=a.reduce(function(E,C){var T=oa(C,x,0);return E+(Ue(T)?T:0)},0),N;if(j>0){var S;N=a.map(function(E,C){var T=oa(E,x,0),A=oa(E,d,C),k=(Ue(T)?T:0)/j,P;C?P=S.endAngle+Sa(p)*c*(T!==0?1:0):P=o;var L=P+Sa(p)*((T!==0?m:0)+k*b),B=(P+L)/2,M=(v.innerRadius+v.outerRadius)/2,D=[{name:A,value:T,payload:E,dataKey:x,type:h}],O=br(v.cx,v.cy,M,B);return S=gr(gr(gr({percent:k,cornerRadius:i,name:A,tooltipPayload:D,midAngle:B,middleRadius:M,tooltipPosition:O},E),v),{},{value:oa(E,x),startAngle:P,endAngle:L,payload:E,paddingAngle:Sa(p)*c}),S})}return gr(gr({},v),{},{sectors:N,data:a})});var K3e=Math.ceil,X3e=Math.max;function Y3e(e,t,r,n){for(var a=-1,i=X3e(K3e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Q3e=Y3e,Z3e=Uq,JM=1/0,J3e=17976931348623157e292;function eDe(e){if(!e)return e===0?e:0;if(e=Z3e(e),e===JM||e===-JM){var t=e<0?-1:1;return t*J3e}return e===e?e:0}var SH=eDe,tDe=Q3e,rDe=Kw,b2=SH;function nDe(e){return function(t,r,n){return n&&typeof n!="number"&&rDe(t,r,n)&&(r=n=void 0),t=b2(t),r===void 0?(r=t,t=0):r=b2(r),n=n===void 0?t<r?1:-1:b2(n),tDe(t,r,n,e)}}var aDe=nDe,iDe=aDe,sDe=iDe(),oDe=sDe;const U1=Qt(oDe);function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){NH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NH(e,t,r){return t=lDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lDe(e){var t=cDe(e,"string");return fv(t)=="symbol"?t:t+""}function cDe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uDe=["Webkit","Moz","O","ms"],dDe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=uDe.reduce(function(i,o){return tI(tI({},i),{},NH({},o+n,r))},{});return a[t]=r,a};function Ih(e){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(e)}function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q1.apply(this,arguments)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){ni(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CH(n.key),n)}}function hDe(e,t,r){return t&&nI(e.prototype,t),r&&nI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mDe(e,t,r){return t=z1(t),pDe(e,EH()?Reflect.construct(t,r||[],z1(e).constructor):t.apply(e,r))}function pDe(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(e)}function vDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function z1(e){return z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z1(e)}function gDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WE(e,t)}function ni(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=xDe(e,"string");return Ih(t)=="symbol"?t:t+""}function xDe(e,t){if(Ih(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yDe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Bp().domain(U1(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},aI=function(t){return t.changedTouches&&!!t.changedTouches.length},Fh=function(e){function t(r){var n;return fDe(this,t),n=mDe(this,t,[r]),ni(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ni(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ni(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ni(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ni(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ni(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ni(n,"handleSlideDragStart",function(a){var i=aI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return gDe(t,e),hDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),v=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=oa(i[n],l,n);return xt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==h||g.endIndex!==m)&&v&&v(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=aI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,g=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),x[o]=u+y;var w=this.getIndex(x),b=w.startIndex,j=w.endIndex,N=function(){var E=g.length-1;return o==="startX"&&(l>c?b%p===0:j%p===0)||l<c&&j===E||o==="endX"&&(l>c?j%p===0:b%p===0)||l>c&&j===E};this.setState(ni(ni({},o,u+y),"brushMoveStartX",n.pageX),function(){v&&N()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ni({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return F.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=_.Children.only(u);return f?F.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,g=c.endIndex,x=Math.max(n,this.props.x),y=w2(w2({},ht(this.props,!1)),{},{x,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=v[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return F.createElement(sr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return F.createElement(sr,{className:"recharts-brush-texts"},F.createElement(cd,q1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},v),this.getTextOfTick(a)),F.createElement(cd,q1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,g=h.isSlideMoving,x=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!Ue(l)||!Ue(c)||!Ue(u)||!Ue(d)||u<=0||d<=0)return null;var w=Tt("recharts-brush",i),b=F.Children.count(o)===1,j=dDe("userSelect","none");return F.createElement(sr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||g||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return F.isValidElement(n)?i=F.cloneElement(n,a):xt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return w2({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?yDe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(_.PureComponent);ni(Fh,"displayName","Brush");ni(Fh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bDe=uk;function wDe(e,t){var r;return bDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var _De=wDe,jDe=mq,SDe=_o,NDe=_De,EDe=ti,CDe=Kw;function TDe(e,t,r){var n=EDe(e)?jDe:NDe;return r&&CDe(e,t,r)&&(t=void 0),n(e,SDe(t))}var ADe=TDe;const kDe=Qt(ADe);var oo=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},iI=Iq;function PDe(e,t,r){t=="__proto__"&&iI?iI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ODe=PDe,DDe=ODe,RDe=Rq,MDe=_o;function IDe(e,t){var r={};return t=MDe(t),RDe(e,function(n,a,i){DDe(r,a,t(n,a,i))}),r}var FDe=IDe;const $De=Qt(FDe);function LDe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var BDe=LDe,UDe=uk;function qDe(e,t){var r=!0;return UDe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var zDe=qDe,HDe=BDe,VDe=zDe,WDe=_o,GDe=ti,KDe=Kw;function XDe(e,t,r){var n=GDe(e)?HDe:VDe;return r&&KDe(e,t,r)&&(t=void 0),n(e,WDe(t))}var YDe=XDe;const TH=Qt(YDe);var QDe=["x","y"];function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){ZDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZDe(e,t,r){return t=JDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JDe(e){var t=eRe(e,"string");return hv(t)=="symbol"?t:t+""}function eRe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tRe(e,t){if(e==null)return{};var r=rRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nRe(e,t){var r=e.x,n=e.y,a=tRe(e,QDe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return cp(cp(cp(cp(cp({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function oI(e){return F.createElement(wH,GE({shapeType:"rectangle",propTransformer:nRe,activeClassName:"recharts-active-bar"},e))}var aRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||dd(),r)}},iRe=["value","background"],AH;function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function sRe(e,t){if(e==null)return{};var r=oRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H1.apply(this,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PH(n.key),n)}}function cRe(e,t,r){return t&&cI(e.prototype,t),r&&cI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uRe(e,t,r){return t=V1(t),dRe(e,kH()?Reflect.construct(t,r||[],V1(e).constructor):t.apply(e,r))}function dRe(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fRe(e)}function fRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function V1(e){return V1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V1(e)}function hRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KE(e,t)}function oc(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=mRe(e,"string");return $h(t)=="symbol"?t:t+""}function mRe(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hl=function(e){function t(){var r;lRe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uRe(this,t,[].concat(a)),oc(r,"state",{isAnimationFinished:!1}),oc(r,"id",ag("recharts-bar-")),oc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),oc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return hRe(t,e),cRe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ht(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:o,p=en(en(en({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(sr,H1({className:"recharts-bar-rectangle"},ld(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),F.createElement(oI,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return F.createElement(fl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=i.map(function(g,x){var y=h&&h[x];if(y){var w=Bl(y.x,g.x),b=Bl(y.y,g.y),j=Bl(y.width,g.width),N=Bl(y.height,g.height);return en(en({},g),{},{x:w(v),y:b(v),width:j(v),height:N(v)})}if(o==="horizontal"){var S=Bl(0,g.height),E=S(v);return en(en({},g),{},{y:g.y+g.height-E,height:E})}var C=Bl(0,g.width),T=C(v);return en(en({},g),{},{width:T})});return F.createElement(sr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!i_(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ht(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=sRe(u,iRe);if(!f)return null;var m=en(en(en(en(en({},h),{},{fill:"#eee"},f),c),ld(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(oI,H1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Wi(d,l_);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(g,x){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:oa(g,x)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return F.createElement(sr,v,f.map(function(p){return F.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,p=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,x=Tt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,j=Pt(p)?this.id:p;return F.createElement(sr,{className:x},y||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,F.createElement(sr,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,j),(!m||g)&&wc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(_.PureComponent);AH=hl;oc(hl,"displayName","Bar");oc(hl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Go.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oc(hl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=ake(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,g=p!==void 0?en(en({},p),r.props):r.props,x=g.dataKey,y=g.children,w=g.minPointSize,b=v==="horizontal"?o:i,j=u?b.scale.domain():null,N=dke({numericAxis:b}),S=Wi(y,Xw),E=f.map(function(C,T){var A,k,P,L,B,M;u?A=ike(u[d+T],j):(A=oa(C,x),Array.isArray(A)||(A=[N,A]));var D=aRe(w,AH.defaultProps.minPointSize)(A[1],T);if(v==="horizontal"){var O,W=[o.scale(A[0]),o.scale(A[1])],ne=W[0],ee=W[1];k=ZR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:C,index:T}),P=(O=ee??ne)!==null&&O!==void 0?O:void 0,L=m.size;var I=ne-ee;if(B=Number.isNaN(I)?0:I,M={x:k,y:o.y,width:L,height:o.height},Math.abs(D)>0&&Math.abs(B)<Math.abs(D)){var X=Sa(B||D)*(Math.abs(D)-Math.abs(B));P-=X,B+=X}}else{var Y=[i.scale(A[0]),i.scale(A[1])],Q=Y[0],ie=Y[1];if(k=Q,P=ZR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:T}),L=ie-Q,B=m.size,M={x:i.x,y:P,width:i.width,height:B},Math.abs(D)>0&&Math.abs(L)<Math.abs(D)){var he=Sa(L||D)*(Math.abs(D)-Math.abs(L));L+=he}}return en(en(en({},C),{},{x:k,y:P,width:L,height:B,value:u?A:A[1],payload:C,background:M},S&&S[T]&&S[T].props),{},{tooltipPayload:[Zz(r,C)],tooltipPosition:{x:k+L/2,y:P+B/2}})});return en({data:E,layout:v},h)});function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function pRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OH(n.key),n)}}function vRe(e,t,r){return t&&uI(e.prototype,t),r&&uI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){p_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p_(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=gRe(e,"string");return mv(t)=="symbol"?t:t+""}function gRe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xRe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!li(u,hl);return d.reduce(function(m,v){var p=r[v],g=p.orientation,x=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,j=p.reversed,N="".concat(g).concat(b?"Mirror":""),S,E,C,T,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var k=x[1]-x[0],P=1/0,L=p.categoricalDomain.sort();if(L.forEach(function(Y,Q){Q>0&&(P=Math.min((Y||0)-(L[Q-1]||0),P))}),Number.isFinite(P)){var B=P/k,M=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(S=B*M/2),p.padding==="no-gap"){var D=Na(t.barCategoryGap,B*M),O=B*M/2;S=O-D-(O-D)/M*D}}}a==="xAxis"?E=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:E=p.range,j&&(E=[E[1],E[0]]);var W=Kz(p,i,h),ne=W.scale,ee=W.realScaleType;ne.domain(x).range(E),Xz(ne);var I=Yz(ne,fs(fs({},p),{},{realScaleType:ee}));a==="xAxis"?(A=g==="top"&&!b||g==="bottom"&&b,C=n.left,T=f[N]-A*p.height):a==="yAxis"&&(A=g==="left"&&!b||g==="right"&&b,C=f[N]-A*p.width,T=n.top);var X=fs(fs(fs({},p),I),{},{realScaleType:ee,x:C,y:T,scale:ne,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return X.bandSize=A1(X,I),!p.hide&&a==="xAxis"?f[N]+=(A?-1:1)*X.height:p.hide||(f[N]+=(A?-1:1)*X.width),fs(fs({},m),{},p_({},v,X))},{})},DH=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},yRe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return DH({x:r,y:n},{x:a,y:i})},RH=function(){function e(t){pRe(this,e),this.scale=t}return vRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();p_(RH,"EPS",1e-4);var Bk=function(t){var r=Object.keys(t).reduce(function(n,a){return fs(fs({},n),{},p_({},a,RH.create(t[a])))},{});return fs(fs({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $De(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return TH(a,function(i,o){return r[o].isInRange(i)})}})};function bRe(e){return(e%180+180)%180}var wRe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bRe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_Re=_o,jRe=ig,SRe=Ww;function NRe(e){return function(t,r,n){var a=Object(t);if(!jRe(t)){var i=_Re(r);t=SRe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var ERe=NRe,CRe=SH;function TRe(e){var t=CRe(e),r=t%1;return t===t?r?t-r:t:0}var ARe=TRe,kRe=Tq,PRe=_o,ORe=ARe,DRe=Math.max;function RRe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ORe(r);return a<0&&(a=DRe(n+a,0)),kRe(e,PRe(t),a)}var MRe=RRe,IRe=ERe,FRe=MRe,$Re=IRe(FRe),LRe=$Re;const BRe=Qt(LRe);var URe=G0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Uk=_.createContext(void 0),qk=_.createContext(void 0),MH=_.createContext(void 0),IH=_.createContext({}),FH=_.createContext(void 0),$H=_.createContext(0),LH=_.createContext(0),fI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=URe(i);return F.createElement(Uk.Provider,{value:n},F.createElement(qk.Provider,{value:a},F.createElement(IH.Provider,{value:i},F.createElement(MH.Provider,{value:d},F.createElement(FH.Provider,{value:o},F.createElement($H.Provider,{value:u},F.createElement(LH.Provider,{value:c},l)))))))},qRe=function(){return _.useContext(FH)},BH=function(t){var r=_.useContext(Uk);r==null&&dd();var n=r[t];return n==null&&dd(),n},zRe=function(){var t=_.useContext(Uk);return Kl(t)},HRe=function(){var t=_.useContext(qk),r=BRe(t,function(n){return TH(n.domain,Number.isFinite)});return r||Kl(t)},UH=function(t){var r=_.useContext(qk);r==null&&dd();var n=r[t];return n==null&&dd(),n},VRe=function(){var t=_.useContext(MH);return t},WRe=function(){return _.useContext(IH)},zk=function(){return _.useContext(LH)},Hk=function(){return _.useContext($H)};function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function GRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zH(n.key),n)}}function XRe(e,t,r){return t&&KRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YRe(e,t,r){return t=W1(t),QRe(e,qH()?Reflect.construct(t,r||[],W1(e).constructor):t.apply(e,r))}function QRe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZRe(e)}function ZRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qH=function(){return!!e})()}function W1(e){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(e)}function JRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(n){Vk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vk(e,t,r){return t=zH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=eMe(e,"string");return Lh(t)=="symbol"?t:t+""}function eMe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tMe(e,t){return iMe(e)||aMe(e,t)||nMe(e,t)||rMe()}function rMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nMe(e,t){if(e){if(typeof e=="string")return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(e,t)}}function pI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iMe(e){if(Array.isArray(e))return e}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}var sMe=function(t,r){var n;return F.isValidElement(t)?n=F.cloneElement(t,r):xt(t)?n=t(r):n=F.createElement("line",YE({},r,{className:"recharts-reference-line-line"})),n},oMe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var v=u.y,p=t.y.apply(v,{position:o});if(oo(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?g.reverse():g}if(r){var x=u.x,y=t.x.apply(x,{position:o});if(oo(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=u.segment,j=b.map(function(N){return t.apply(N,{position:o})});return oo(u,"discard")&&kDe(j,function(N){return!t.isInRange(N)})?null:j}return null};function lMe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=qRe(),d=BH(a),f=UH(i),h=VRe();if(!u||!h)return null;Es(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Bk({x:d.scale,y:f.scale}),v=wn(t),p=wn(r),g=n&&n.length===2,x=oMe(m,v,p,g,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=tMe(x,2),w=y[0],b=w.x,j=w.y,N=y[1],S=N.x,E=N.y,C=oo(e,"hidden")?"url(#".concat(u,")"):void 0,T=mI(mI({clipPath:C},ht(e,!0)),{},{x1:b,y1:j,x2:S,y2:E});return F.createElement(sr,{className:Tt("recharts-reference-line",l)},sMe(o,T),Tn.renderCallByParent(e,yRe({x1:b,y1:j,x2:S,y2:E})))}var Wk=function(e){function t(){return GRe(this,t),YRe(this,t,arguments)}return JRe(t,e),XRe(t,[{key:"render",value:function(){return F.createElement(lMe,this.props)}}])}(F.Component);Vk(Wk,"displayName","ReferenceLine");Vk(Wk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QE.apply(this,arguments)}function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){v_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VH(n.key),n)}}function dMe(e,t,r){return t&&uMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fMe(e,t,r){return t=G1(t),hMe(e,HH()?Reflect.construct(t,r||[],G1(e).constructor):t.apply(e,r))}function hMe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mMe(e)}function mMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!e})()}function G1(e){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G1(e)}function pMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZE(e,t)}function v_(e,t,r){return t=VH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=vMe(e,"string");return Bh(t)=="symbol"?t:t+""}function vMe(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gMe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Bk({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return oo(t,"discard")&&!o.isInRange(l)?null:l},g_=function(e){function t(){return cMe(this,t),fMe(this,t,arguments)}return pMe(t,e),dMe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=wn(a),d=wn(i);if(Es(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gMe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,p=v.shape,g=v.className,x=oo(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=gI(gI({clipPath:x},ht(this.props,!0)),{},{cx:h,cy:m});return F.createElement(sr,{className:Tt("recharts-reference-dot",g)},t.renderDot(p,y),Tn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(F.Component);v_(g_,"displayName","ReferenceDot");v_(g_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});v_(g_,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):xt(e)?r=e(t):r=F.createElement(Lk,QE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){x_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GH(n.key),n)}}function bMe(e,t,r){return t&&yMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wMe(e,t,r){return t=K1(t),_Me(e,WH()?Reflect.construct(t,r||[],K1(e).constructor):t.apply(e,r))}function _Me(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jMe(e)}function jMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(e)}function SMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}function eC(e,t){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eC(e,t)}function x_(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=NMe(e,"string");return Uh(t)=="symbol"?t:t+""}function NMe(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EMe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Bk({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return oo(i,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:DH(m,v)},y_=function(e){function t(){return xMe(this,t),wMe(this,t,arguments)}return SMe(t,e),bMe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Es(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wn(a),h=wn(i),m=wn(o),v=wn(l),p=this.props.shape;if(!f&&!h&&!m&&!v&&!p)return null;var g=EMe(f,h,m,v,this.props);if(!g&&!p)return null;var x=oo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(sr,{className:Tt("recharts-reference-area",c)},t.renderRect(p,yI(yI({clipPath:x},ht(this.props,!0)),g)),Tn.renderCallByParent(this.props,g))}}])}(F.Component);x_(y_,"displayName","ReferenceArea");x_(y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});x_(y_,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):xt(e)?r=e(t):r=F.createElement($k,JE({},t,{className:"recharts-reference-area-rect"})),r});function KH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function CMe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wRe(n,r)}function TMe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function X1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function AMe(e,t){return KH(e,t+1)}function kMe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:KH(n,u)};var p=c,g,x=function(){return g===void 0&&(g=r(v,p)),g},y=v.coordinate,w=c===0||X1(e,y,x,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(x()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){PMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PMe(e,t,r){return t=OMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OMe(e){var t=DMe(e,"string");return pv(t)=="symbol"?t:t+""}function DMe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RMe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],v,p=function(){return v===void 0&&(v=r(m,h)),v};if(h===o-1){var g=e*(m.coordinate+e*p()/2-c);i[h]=m=aa(aa({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=aa(aa({},m),{},{tickCoord:m.coordinate});var x=X1(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),i[h]=aa(aa({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function MMe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=aa(aa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=X1(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=aa(aa({},d),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(y){var w=o[y],b,j=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var N=e*(w.coordinate-e*j()/2-c);o[y]=w=aa(aa({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[y]=w=aa(aa({},w),{},{tickCoord:w.coordinate});var S=X1(e,w.tickCoord,j,c,u);S&&(c=w.tickCoord+e*(j()/2+a),o[y]=aa(aa({},w),{},{isShow:!0}))},g=0;g<v;g++)p(g);return o}function Gk(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Ue(c)||Go.isSsr)return AMe(a,typeof c=="number"&&Ue(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Lp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var j=xt(u)?u(w.value,b):w.value;return m==="width"?CMe(Lp(j,{fontSize:t,letterSpacing:r}),v,f):Lp(j,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?Sa(a[1].coordinate-a[0].coordinate):1,x=TMe(i,g,m);return c==="equidistantPreserveStart"?kMe(g,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=MMe(g,x,p,a,o,c==="preserveStartEnd"):h=RMe(g,x,p,a,o),h.filter(function(y){return y.isShow}))}var IMe=["viewBox"],FMe=["viewBox"],$Me=["ticks"];function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){Kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _2(e,t){if(e==null)return{};var r=LMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YH(n.key),n)}}function UMe(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qMe(e,t,r){return t=Y1(t),zMe(e,XH()?Reflect.construct(t,r||[],Y1(e).constructor):t.apply(e,r))}function zMe(e,t){if(t&&(qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HMe(e)}function HMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!e})()}function Y1(e){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y1(e)}function VMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}function tC(e,t){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tC(e,t)}function Kk(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=WMe(e,"string");return qh(t)=="symbol"?t:t+""}function WMe(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Am=function(e){function t(r){var n;return BMe(this,t),n=qMe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return VMe(t,e),UMe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=_2(n,IMe),l=this.props,c=l.viewBox,u=_2(l,FMe);return!Df(i,c)||!Df(o,u)||!Df(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,p,g,x,y,w=f?-1:1,b=n.tickSize||d,j=Ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*h,x=j;break;case"left":p=g=n.coordinate,v=i+ +!f*l,m=v-w*b,x=m-w*h,y=j;break;case"right":p=g=n.coordinate,v=i+ +f*l,m=v+w*b,x=m+w*h,y=j;break;default:m=v=n.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*h,x=j;break}return{line:{x1:m,y1:p,x2:v,y2:g},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ha(ha(ha({},ht(this.props,!1)),ht(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=ha(ha({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=ha(ha({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return F.createElement("line",gf({},f,{className:Tt("recharts-cartesian-axis-line",xi(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Gk(ha(ha({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=ht(this.props,!1),x=ht(d,!1),y=ha(ha({},g),{},{fill:"none"},ht(c,!1)),w=m.map(function(b,j){var N=o.getTickLineCoord(b),S=N.line,E=N.tick,C=ha(ha(ha(ha({textAnchor:v,verticalAnchor:p},g),{},{stroke:"none",fill:u},x),E),{},{index:j,payload:b,visibleTicksCount:m.length,tickFormatter:f});return F.createElement(sr,gf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},ld(o.props,b,j)),c&&F.createElement("line",gf({},y,S,{className:Tt("recharts-cartesian-axis-tick-line",xi(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(xt(f)?f(b.value,j):b.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=_2(f,$Me),v=h;return xt(c)&&(v=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!v||!v.length?null:F.createElement(sr,{className:Tt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return F.isValidElement(n)?o=F.cloneElement(n,a):xt(n)?o=n(a):o=F.createElement(cd,gf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(_.Component);Kk(Am,"displayName","CartesianAxis");Kk(Am,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GMe=["x1","y1","x2","y2","key"],KMe=["offset"];function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){XMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XMe(e,t,r){return t=YMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YMe(e){var t=QMe(e,"string");return fd(t)=="symbol"?t:t+""}function QMe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function SI(e,t){if(e==null)return{};var r=ZMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QH(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(xt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=SI(t,GMe),u=ht(c,!1);u.offset;var d=SI(u,KMe);r=F.createElement("line",ku({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function eIe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=sa(sa({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return QH(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function tIe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=sa(sa({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return QH(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function rIe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var g=m%t.length;return F.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nIe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?i+l-h:d[m+1]-h;if(p<=0)return null;var g=m%n.length;return F.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var aIe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Gz(Gk(sa(sa(sa({},Am.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},iIe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Gz(Gk(sa(sa(sa({},Am.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Ud={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xk(e){var t,r,n,a,i,o,l=zk(),c=Hk(),u=WRe(),d=sa(sa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ud.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ud.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ud.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ud.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ud.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ud.verticalFill,x:Ue(e.x)?e.x:u.left,y:Ue(e.y)?e.y:u.top,width:Ue(e.width)?e.width:u.width,height:Ue(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,g=d.horizontalValues,x=d.verticalValues,y=zRe(),w=HRe();if(!Ue(m)||m<=0||!Ue(v)||v<=0||!Ue(f)||f!==+f||!Ue(h)||h!==+h)return null;var b=d.verticalCoordinatesGenerator||aIe,j=d.horizontalCoordinatesGenerator||iIe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&xt(j)){var E=g&&g.length,C=j({yAxis:w?sa(sa({},w),{},{ticks:E?g:w.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Es(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fd(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&xt(b)){var T=x&&x.length,A=b({xAxis:y?sa(sa({},y),{},{ticks:T?x:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Es(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fd(A),"]")),Array.isArray(A)&&(S=A)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(JMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(eIe,ku({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:w})),F.createElement(tIe,ku({},d,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),F.createElement(rIe,ku({},d,{horizontalPoints:N})),F.createElement(nIe,ku({},d,{verticalPoints:S})))}Xk.displayName="CartesianGrid";function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function sIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eV(n.key),n)}}function lIe(e,t,r){return t&&oIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cIe(e,t,r){return t=Q1(t),uIe(e,ZH()?Reflect.construct(t,r||[],Q1(e).constructor):t.apply(e,r))}function uIe(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dIe(e)}function dIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZH=function(){return!!e})()}function Q1(e){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q1(e)}function fIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rC(e,t)}function JH(e,t,r){return t=eV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=hIe(e,"string");return zh(t)=="symbol"?t:t+""}function hIe(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function mIe(e){var t=e.xAxisId,r=zk(),n=Hk(),a=BH(t);return a==null?null:F.createElement(Am,nC({},a,{className:Tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return zo(o,!0)}}))}var ug=function(e){function t(){return sIe(this,t),cIe(this,t,arguments)}return fIe(t,e),lIe(t,[{key:"render",value:function(){return F.createElement(mIe,this.props)}}])}(F.Component);JH(ug,"displayName","XAxis");JH(ug,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}function pIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nV(n.key),n)}}function gIe(e,t,r){return t&&vIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xIe(e,t,r){return t=Z1(t),yIe(e,tV()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function yIe(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bIe(e)}function bIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aC(e,t)}function aC(e,t){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aC(e,t)}function rV(e,t,r){return t=nV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nV(e){var t=_Ie(e,"string");return Hh(t)=="symbol"?t:t+""}function _Ie(e,t){if(Hh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iC(){return iC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iC.apply(this,arguments)}var jIe=function(t){var r=t.yAxisId,n=zk(),a=Hk(),i=UH(r);return i==null?null:F.createElement(Am,iC({},i,{className:Tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return zo(l,!0)}}))},Vh=function(e){function t(){return pIe(this,t),xIe(this,t,arguments)}return wIe(t,e),gIe(t,[{key:"render",value:function(){return F.createElement(jIe,this.props)}}])}(F.Component);rV(Vh,"displayName","YAxis");rV(Vh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NI(e){return CIe(e)||EIe(e)||NIe(e)||SIe()}function SIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NIe(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function EIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CIe(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oC=function(t,r,n,a,i){var o=Wi(t,Wk),l=Wi(t,g_),c=[].concat(NI(o),NI(l)),u=Wi(t,y_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[d]===n&&oo(g.props,"extendDomain")&&Ue(g.props[f])){var x=g.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,g){if(g.props[d]===n&&oo(g.props,"extendDomain")&&Ue(g.props[m])&&Ue(g.props[v])){var x=g.props[m],y=g.props[v];return[Math.min(p[0],x,y),Math.max(p[1],x,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,g){return Ue(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},aV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],x=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,v),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,j;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),x){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(x-1);j<x;j++)y[j-1]=arguments[j];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var p=0,g=[],x=v.length;p<x;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&g.push(v[p]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(aV);var TIe=aV.exports;const AIe=Qt(TIe);var j2=new AIe,S2="recharts.syncMouseEvents";function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function kIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iV(n.key),n)}}function OIe(e,t,r){return t&&PIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N2(e,t,r){return t=iV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iV(e){var t=DIe(e,"string");return vv(t)=="symbol"?t:t+""}function DIe(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RIe=function(){function e(){kIe(this,e),N2(this,"activeIndex",0),N2(this,"coordinateList",[]),N2(this,"layout","horizontal")}return OIe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function MIe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Ue(n)&&Ue(a))return!0}return!1}function IIe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function sV(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=br(t,r,n,a),l=br(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function FIe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=br(l,c,u,f),m=br(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return sV(t);return[{x:n,y:a},{x:i,y:o}]}function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){$Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ie(e,t,r){return t=LIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LIe(e){var t=BIe(e,"string");return gv(t)=="symbol"?t:t+""}function BIe(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UIe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=kE;if(h==="ScatterChart")v=o,p=x4e;else if(h==="BarChart")v=IIe(f,o,c,d),p=$k;else if(f==="radial"){var g=sV(o),x=g.cx,y=g.cy,w=g.radius,b=g.startAngle,j=g.endAngle;v={cx:x,cy:y,startAngle:b,endAngle:j,innerRadius:w,outerRadius:w},p=aH}else v={points:FIe(f,o,c)},p=kE;var N=gx(gx(gx(gx({stroke:"#ccc",pointerEvents:"none"},c),v),ht(m,!1)),{},{payload:l,payloadIndex:u,className:Tt("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,N):_.createElement(p,N)}var qIe=["item"],zIe=["children","className","width","height","style","compact","title","desc"];function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}function CI(e,t){return WIe(e)||VIe(e,t)||lV(e,t)||HIe()}function HIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WIe(e){if(Array.isArray(e))return e}function TI(e,t){if(e==null)return{};var r=GIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cV(n.key),n)}}function YIe(e,t,r){return t&&XIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QIe(e,t,r){return t=J1(t),ZIe(e,oV()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function ZIe(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JIe(e)}function JIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function eFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lC(e,t)}function lC(e,t){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lC(e,t)}function Gh(e){return nFe(e)||rFe(e)||lV(e)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lV(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function rFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nFe(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){ut(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ut(e,t,r){return t=cV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=aFe(e,"string");return Wh(t)=="symbol"?t:t+""}function aFe(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iFe={xAxis:["bottom","top"],yAxis:["left","right"]},sFe={width:"100%",height:"100%"},uV={x:0,y:0};function xx(e){return e}var oFe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},lFe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ve(ve(ve({},a),br(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ve(ve(ve({},a),br(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return uV},b_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Gh(l),Gh(u)):l},[]);return o.length>0?o:t&&t.length&&Ue(a)&&Ue(i)?t.slice(a,i+1):[]};function dV(e){return e==="number"?[0,"auto"]:void 0}var uC=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=b_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=FN(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Gh(c),[Zz(u,h)]):c},[])},kI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=oFe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=ZAe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=uC(t,r,d,f),m=lFe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},cFe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Wz(d,i);return n.reduce(function(v,p){var g,x=p.type.defaultProps!==void 0?ve(ve({},p.type.defaultProps),p.props):p.props,y=x.type,w=x.dataKey,b=x.allowDataOverflow,j=x.allowDuplicatedCategory,N=x.scale,S=x.ticks,E=x.includeHidden,C=x[o];if(v[C])return v;var T=b_(t.data,{graphicalItems:a.filter(function(I){var X,Y=o in I.props?I.props[o]:(X=I.type.defaultProps)===null||X===void 0?void 0:X[o];return Y===C}),dataStartIndex:c,dataEndIndex:u}),A=T.length,k,P,L;MIe(x.domain,b,y)&&(k=NE(x.domain,null,b),m&&(y==="number"||N!=="auto")&&(L=Up(T,w,"category")));var B=dV(y);if(!k||k.length===0){var M,D=(M=x.domain)!==null&&M!==void 0?M:B;if(w){if(k=Up(T,w,y),y==="category"&&m){var O=zve(k);j&&O?(P=k,k=U1(0,A)):j||(k=tM(D,k,p).reduce(function(I,X){return I.indexOf(X)>=0?I:[].concat(Gh(I),[X])},[]))}else if(y==="category")j?k=k.filter(function(I){return I!==""&&!Pt(I)}):k=tM(D,k,p).reduce(function(I,X){return I.indexOf(X)>=0||X===""||Pt(X)?I:[].concat(Gh(I),[X])},[]);else if(y==="number"){var W=nke(T,a.filter(function(I){var X,Y,Q=o in I.props?I.props[o]:(X=I.type.defaultProps)===null||X===void 0?void 0:X[o],ie="hide"in I.props?I.props.hide:(Y=I.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return Q===C&&(E||!ie)}),w,i,d);W&&(k=W)}m&&(y==="number"||N!=="auto")&&(L=Up(T,w,"category"))}else m?k=U1(0,A):l&&l[C]&&l[C].hasStack&&y==="number"?k=h==="expand"?[0,1]:Qz(l[C].stackGroups,c,u):k=Vz(T,a.filter(function(I){var X=o in I.props?I.props[o]:I.type.defaultProps[o],Y="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return X===C&&(E||!Y)}),y,d,!0);if(y==="number")k=oC(f,k,C,i,S),D&&(k=NE(D,k,b));else if(y==="category"&&D){var ne=D,ee=k.every(function(I){return ne.indexOf(I)>=0});ee&&(k=ne)}}return ve(ve({},v),{},ut({},C,ve(ve({},x),{},{axisType:i,domain:k,categoricalDomain:L,duplicateDomain:P,originalDomain:(g=x.domain)!==null&&g!==void 0?g:B,isCategorical:m,layout:d})))},{})},uFe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=b_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=Wz(d,i),p=-1;return n.reduce(function(g,x){var y=x.type.defaultProps!==void 0?ve(ve({},x.type.defaultProps),x.props):x.props,w=y[o],b=dV("number");if(!g[w]){p++;var j;return v?j=U1(0,m):l&&l[w]&&l[w].hasStack?(j=Qz(l[w].stackGroups,c,u),j=oC(f,j,w,i)):(j=NE(b,Vz(h,n.filter(function(N){var S,E,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],T="hide"in N.props?N.props.hide:(E=N.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),j=oC(f,j,w,i)),ve(ve({},g),{},ut({},w,ve(ve({axisType:i},a.defaultProps),{},{hide:!0,orientation:xi(iFe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:b,isCategorical:v,layout:d})))}return g},{})},dFe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Wi(d,i),m={};return h&&h.length?m=cFe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=uFe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},fFe=function(t){var r=Kl(t),n=zo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dk(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:A1(r,n)}},PI=function(t){var r=t.children,n=t.defaultShowTooltip,a=li(r,Fh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},hFe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Wo(r&&r.type);return n&&n.indexOf("Bar")>=0})},OI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},mFe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=li(f,Fh),v=li(f,Rf),p=Object.keys(c).reduce(function(j,N){var S=c[N],E=S.orientation;return!S.mirror&&!S.hide?ve(ve({},j),{},ut({},E,j[E]+S.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(j,N){var S=o[N],E=S.orientation;return!S.mirror&&!S.hide?ve(ve({},j),{},ut({},E,xi(j,"".concat(E))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),x=ve(ve({},g),p),y=x.bottom;m&&(x.bottom+=m.props.height||Fh.defaultProps.height),v&&r&&(x=tke(x,a,n,r));var w=u-x.left-x.right,b=d-x.top-x.bottom;return ve(ve({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(b,0)})},pFe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},fV=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,x){var y=x.graphicalItems,w=x.stackGroups,b=x.offset,j=x.updateId,N=x.dataStartIndex,S=x.dataEndIndex,E=g.barSize,C=g.layout,T=g.barGap,A=g.barCategoryGap,k=g.maxBarSize,P=OI(C),L=P.numericAxisName,B=P.cateAxisName,M=hFe(y),D=[];return y.forEach(function(O,W){var ne=b_(g.data,{graphicalItems:[O],dataStartIndex:N,dataEndIndex:S}),ee=O.type.defaultProps!==void 0?ve(ve({},O.type.defaultProps),O.props):O.props,I=ee.dataKey,X=ee.maxBarSize,Y=ee["".concat(L,"Id")],Q=ee["".concat(B,"Id")],ie={},he=c.reduce(function(ce,Pe){var Ie=x["".concat(Pe.axisType,"Map")],_e=ee["".concat(Pe.axisType,"Id")];Ie&&Ie[_e]||Pe.axisType==="zAxis"||dd();var Ye=Ie[_e];return ve(ve({},ce),{},ut(ut({},Pe.axisType,Ye),"".concat(Pe.axisType,"Ticks"),zo(Ye)))},ie),we=he[B],se=he["".concat(B,"Ticks")],G=w&&w[Y]&&w[Y].hasStack&&fke(O,w[Y].stackGroups),ye=Wo(O.type).indexOf("Bar")>=0,ae=A1(we,se),et=[],Le=M&&JAe({barSize:E,stackGroups:w,totalSize:pFe(he,B)});if(ye){var yt,rt,Te=Pt(X)?k:X,K=(yt=(rt=A1(we,se,!0))!==null&&rt!==void 0?rt:Te)!==null&&yt!==void 0?yt:0;et=eke({barGap:T,barCategoryGap:A,bandSize:K!==ae?K:ae,sizeList:Le[Q],maxBarSize:Te}),K!==ae&&(et=et.map(function(ce){return ve(ve({},ce),{},{position:ve(ve({},ce.position),{},{offset:ce.position.offset-K/2})})}))}var te=O&&O.type&&O.type.getComposedData;te&&D.push({props:ve(ve({},te(ve(ve({},he),{},{displayedData:ne,props:g,dataKey:I,item:O,bandSize:ae,barPosition:et,offset:b,stackedData:G,layout:C,dataStartIndex:N,dataEndIndex:S}))),{},ut(ut(ut({key:O.key||"item-".concat(W)},L,he[L]),B,he[B]),"animationId",j)),childIndex:ege(O,g.children),item:O})}),D},m=function(g,x){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,j=g.updateId;if(!X3({props:y}))return null;var N=y.children,S=y.layout,E=y.stackOffset,C=y.data,T=y.reverseStackOrder,A=OI(S),k=A.numericAxisName,P=A.cateAxisName,L=Wi(N,n),B=uke(C,L,"".concat(k,"Id"),"".concat(P,"Id"),E,T),M=c.reduce(function(ee,I){var X="".concat(I.axisType,"Map");return ve(ve({},ee),{},ut({},X,dFe(y,ve(ve({},I),{},{graphicalItems:L,stackGroups:I.axisType===k&&B,dataStartIndex:w,dataEndIndex:b}))))},{}),D=mFe(ve(ve({},M),{},{props:y,graphicalItems:L}),x==null?void 0:x.legendBBox);Object.keys(M).forEach(function(ee){M[ee]=d(y,M[ee],D,ee.replace("Map",""),r)});var O=M["".concat(P,"Map")],W=fFe(O),ne=h(y,ve(ve({},M),{},{dataStartIndex:w,dataEndIndex:b,updateId:j,graphicalItems:L,stackGroups:B,offset:D}));return ve(ve({formattedGraphicalItems:ne,graphicalItems:L,offset:D,stackGroups:B},W),M)},v=function(p){function g(x){var y,w,b;return KIe(this,g),b=QIe(this,g,[x]),ut(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(b,"accessibilityManager",new RIe),ut(b,"handleLegendBBoxUpdate",function(j){if(j){var N=b.state,S=N.dataStartIndex,E=N.dataEndIndex,C=N.updateId;b.setState(ve({legendBBox:j},m({props:b.props,dataStartIndex:S,dataEndIndex:E,updateId:C},ve(ve({},b.state),{},{legendBBox:j}))))}}),ut(b,"handleReceiveSyncEvent",function(j,N,S){if(b.props.syncId===j){if(S===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(N)}}),ut(b,"handleBrushChange",function(j){var N=j.startIndex,S=j.endIndex;if(N!==b.state.dataStartIndex||S!==b.state.dataEndIndex){var E=b.state.updateId;b.setState(function(){return ve({dataStartIndex:N,dataEndIndex:S},m({props:b.props,dataStartIndex:N,dataEndIndex:S,updateId:E},b.state))}),b.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),ut(b,"handleMouseEnter",function(j){var N=b.getMouseInfo(j);if(N){var S=ve(ve({},N),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var E=b.props.onMouseEnter;xt(E)&&E(S,j)}}),ut(b,"triggeredAfterMouseMove",function(j){var N=b.getMouseInfo(j),S=N?ve(ve({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var E=b.props.onMouseMove;xt(E)&&E(S,j)}),ut(b,"handleItemMouseEnter",function(j){b.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ut(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),ut(b,"handleMouseMove",function(j){j.persist(),b.throttleTriggeredAfterMouseMove(j)}),ut(b,"handleMouseLeave",function(j){b.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};b.setState(N),b.triggerSyncEvent(N);var S=b.props.onMouseLeave;xt(S)&&S(N,j)}),ut(b,"handleOuterEvent",function(j){var N=Jve(j),S=xi(b.props,"".concat(N));if(N&&xt(S)){var E,C;/.*touch.*/i.test(N)?C=b.getMouseInfo(j.changedTouches[0]):C=b.getMouseInfo(j),S((E=C)!==null&&E!==void 0?E:{},j)}}),ut(b,"handleClick",function(j){var N=b.getMouseInfo(j);if(N){var S=ve(ve({},N),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var E=b.props.onClick;xt(E)&&E(S,j)}}),ut(b,"handleMouseDown",function(j){var N=b.props.onMouseDown;if(xt(N)){var S=b.getMouseInfo(j);N(S,j)}}),ut(b,"handleMouseUp",function(j){var N=b.props.onMouseUp;if(xt(N)){var S=b.getMouseInfo(j);N(S,j)}}),ut(b,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ut(b,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&b.handleMouseDown(j.changedTouches[0])}),ut(b,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&b.handleMouseUp(j.changedTouches[0])}),ut(b,"triggerSyncEvent",function(j){b.props.syncId!==void 0&&j2.emit(S2,b.props.syncId,j,b.eventEmitterSymbol)}),ut(b,"applySyncEvent",function(j){var N=b.props,S=N.layout,E=N.syncMethod,C=b.state.updateId,T=j.dataStartIndex,A=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)b.setState(ve({dataStartIndex:T,dataEndIndex:A},m({props:b.props,dataStartIndex:T,dataEndIndex:A,updateId:C},b.state)));else if(j.activeTooltipIndex!==void 0){var k=j.chartX,P=j.chartY,L=j.activeTooltipIndex,B=b.state,M=B.offset,D=B.tooltipTicks;if(!M)return;if(typeof E=="function")L=E(D,j);else if(E==="value"){L=-1;for(var O=0;O<D.length;O++)if(D[O].value===j.activeLabel){L=O;break}}var W=ve(ve({},M),{},{x:M.left,y:M.top}),ne=Math.min(k,W.x+W.width),ee=Math.min(P,W.y+W.height),I=D[L]&&D[L].value,X=uC(b.state,b.props.data,L),Y=D[L]?{x:S==="horizontal"?D[L].coordinate:ne,y:S==="horizontal"?ee:D[L].coordinate}:uV;b.setState(ve(ve({},j),{},{activeLabel:I,activeCoordinate:Y,activePayload:X,activeTooltipIndex:L}))}else b.setState(j)}),ut(b,"renderCursor",function(j){var N,S=b.state,E=S.isTooltipActive,C=S.activeCoordinate,T=S.activePayload,A=S.offset,k=S.activeTooltipIndex,P=S.tooltipAxisBandSize,L=b.getTooltipEventType(),B=(N=j.props.active)!==null&&N!==void 0?N:E,M=b.props.layout,D=j.key||"_recharts-cursor";return F.createElement(UIe,{key:D,activeCoordinate:C,activePayload:T,activeTooltipIndex:k,chartName:r,element:j,isActive:B,layout:M,offset:A,tooltipAxisBandSize:P,tooltipEventType:L})}),ut(b,"renderPolarAxis",function(j,N,S){var E=xi(j,"type.axisType"),C=xi(b.state,"".concat(E,"Map")),T=j.type.defaultProps,A=T!==void 0?ve(ve({},T),j.props):j.props,k=C&&C[A["".concat(E,"Id")]];return _.cloneElement(j,ve(ve({},k),{},{className:Tt(E,k.className),key:j.key||"".concat(N,"-").concat(S),ticks:zo(k,!0)}))}),ut(b,"renderPolarGrid",function(j){var N=j.props,S=N.radialLines,E=N.polarAngles,C=N.polarRadius,T=b.state,A=T.radiusAxisMap,k=T.angleAxisMap,P=Kl(A),L=Kl(k),B=L.cx,M=L.cy,D=L.innerRadius,O=L.outerRadius;return _.cloneElement(j,{polarAngles:Array.isArray(E)?E:zo(L,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(C)?C:zo(P,!0).map(function(W){return W.coordinate}),cx:B,cy:M,innerRadius:D,outerRadius:O,key:j.key||"polar-grid",radialLines:S})}),ut(b,"renderLegend",function(){var j=b.state.formattedGraphicalItems,N=b.props,S=N.children,E=N.width,C=N.height,T=b.props.margin||{},A=E-(T.left||0)-(T.right||0),k=zz({children:S,formattedGraphicalItems:j,legendWidth:A,legendContent:u});if(!k)return null;var P=k.item,L=TI(k,qIe);return _.cloneElement(P,ve(ve({},L),{},{chartWidth:E,chartHeight:C,margin:T,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),ut(b,"renderTooltip",function(){var j,N=b.props,S=N.children,E=N.accessibilityLayer,C=li(S,Ii);if(!C)return null;var T=b.state,A=T.isTooltipActive,k=T.activeCoordinate,P=T.activePayload,L=T.activeLabel,B=T.offset,M=(j=C.props.active)!==null&&j!==void 0?j:A;return _.cloneElement(C,{viewBox:ve(ve({},B),{},{x:B.left,y:B.top}),active:M,label:L,payload:M?P:[],coordinate:k,accessibilityLayer:E})}),ut(b,"renderBrush",function(j){var N=b.props,S=N.margin,E=N.data,C=b.state,T=C.offset,A=C.dataStartIndex,k=C.dataEndIndex,P=C.updateId;return _.cloneElement(j,{key:j.key||"_recharts-brush",onChange:hx(b.handleBrushChange,j.props.onChange),data:E,x:Ue(j.props.x)?j.props.x:T.left,y:Ue(j.props.y)?j.props.y:T.top+T.height+T.brushBottom-(S.bottom||0),width:Ue(j.props.width)?j.props.width:T.width,startIndex:A,endIndex:k,updateId:"brush-".concat(P)})}),ut(b,"renderReferenceElement",function(j,N,S){if(!j)return null;var E=b,C=E.clipPathId,T=b.state,A=T.xAxisMap,k=T.yAxisMap,P=T.offset,L=j.type.defaultProps||{},B=j.props,M=B.xAxisId,D=M===void 0?L.xAxisId:M,O=B.yAxisId,W=O===void 0?L.yAxisId:O;return _.cloneElement(j,{key:j.key||"".concat(N,"-").concat(S),xAxis:A[D],yAxis:k[W],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:C})}),ut(b,"renderActivePoints",function(j){var N=j.item,S=j.activePoint,E=j.basePoint,C=j.childIndex,T=j.isRange,A=[],k=N.props.key,P=N.item.type.defaultProps!==void 0?ve(ve({},N.item.type.defaultProps),N.item.props):N.item.props,L=P.activeDot,B=P.dataKey,M=ve(ve({index:C,dataKey:B,cx:S.x,cy:S.y,r:4,fill:Fk(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ht(L,!1)),r1(L));return A.push(g.renderActiveDot(L,M,"".concat(k,"-activePoint-").concat(C))),E?A.push(g.renderActiveDot(L,ve(ve({},M),{},{cx:E.x,cy:E.y}),"".concat(k,"-basePoint-").concat(C))):T&&A.push(null),A}),ut(b,"renderGraphicChild",function(j,N,S){var E=b.filterFormatItem(j,N,S);if(!E)return null;var C=b.getTooltipEventType(),T=b.state,A=T.isTooltipActive,k=T.tooltipAxis,P=T.activeTooltipIndex,L=T.activeLabel,B=b.props.children,M=li(B,Ii),D=E.props,O=D.points,W=D.isRange,ne=D.baseLine,ee=E.item.type.defaultProps!==void 0?ve(ve({},E.item.type.defaultProps),E.item.props):E.item.props,I=ee.activeDot,X=ee.hide,Y=ee.activeBar,Q=ee.activeShape,ie=!!(!X&&A&&M&&(I||Y||Q)),he={};C!=="axis"&&M&&M.props.trigger==="click"?he={onClick:hx(b.handleItemMouseEnter,j.props.onClick)}:C!=="axis"&&(he={onMouseLeave:hx(b.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:hx(b.handleItemMouseEnter,j.props.onMouseEnter)});var we=_.cloneElement(j,ve(ve({},E.props),he));function se(Pe){return typeof k.dataKey=="function"?k.dataKey(Pe.payload):null}if(ie)if(P>=0){var G,ye;if(k.dataKey&&!k.allowDuplicatedCategory){var ae=typeof k.dataKey=="function"?se:"payload.".concat(k.dataKey.toString());G=FN(O,ae,L),ye=W&&ne&&FN(ne,ae,L)}else G=O==null?void 0:O[P],ye=W&&ne&&ne[P];if(Q||Y){var et=j.props.activeIndex!==void 0?j.props.activeIndex:P;return[_.cloneElement(j,ve(ve(ve({},E.props),he),{},{activeIndex:et})),null,null]}if(!Pt(G))return[we].concat(Gh(b.renderActivePoints({item:E,activePoint:G,basePoint:ye,childIndex:P,isRange:W})))}else{var Le,yt=(Le=b.getItemByXY(b.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:we},rt=yt.graphicalItem,Te=rt.item,K=Te===void 0?j:Te,te=rt.childIndex,ce=ve(ve(ve({},E.props),he),{},{activeIndex:te});return[_.cloneElement(K,ce),null,null]}return W?[we,null,null]:[we,null]}),ut(b,"renderCustomized",function(j,N,S){return _.cloneElement(j,ve(ve({key:"recharts-customized-".concat(S)},b.props),b.state))}),ut(b,"renderMap",{CartesianGrid:{handler:xx,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:xx},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:xx},YAxis:{handler:xx},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:ag("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=qq(b.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return eFe(g,p),YIe(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,j=y.height,N=y.layout,S=li(w,Ii);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=uC(this.state,b,E,C),A=this.state.tooltipTicks[E].coordinate,k=(this.state.offset.top+j)/2,P=N==="horizontal",L=P?{x:A,y:k}:{y:A,x:k},B=this.state.formattedGraphicalItems.find(function(D){var O=D.item;return O.type.name==="Scatter"});B&&(L=ve(ve({},L),B.props.points[E].tooltipPosition),T=B.props.points[E].tooltipPayload);var M={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:C,activePayload:T,activeCoordinate:L};this.setState(M),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,j;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(y){LN([li(y.children,Ii)],[li(this.props.children,Ii)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=li(this.props.children,Ii);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),j=ENe(b),N={chartX:Math.round(y.pageX-j.left),chartY:Math.round(y.pageY-j.top)},S=b.width/w.offsetWidth||1,E=this.inRange(N.chartX,N.chartY,S);if(!E)return null;var C=this.state,T=C.xAxisMap,A=C.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&T&&A){var P=Kl(T).scale,L=Kl(A).scale,B=P&&P.invert?P.invert(N.chartX):null,M=L&&L.invert?L.invert(N.chartY):null;return ve(ve({},N),{},{xValue:B,yValue:M})}var D=kI(this.state,this.props.data,this.props.layout,E);return D?ve(ve({},N),D):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=y/b,S=w/b;if(j==="horizontal"||j==="vertical"){var E=this.state.offset,C=N>=E.left&&N<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return C?{x:N,y:S}:null}var T=this.state,A=T.angleAxisMap,k=T.radiusAxisMap;if(A&&k){var P=Kl(A);return aM({x:N,y:S},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=li(y,Ii),j={};b&&w==="axis"&&(b.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var N=r1(this.props,this.handleOuterEvent);return ve(ve({},N),j)}},{key:"addListener",value:function(){j2.on(S2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j2.removeListener(S2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var j=this.state.formattedGraphicalItems,N=0,S=j.length;N<S;N++){var E=j[N];if(E.item===y||E.props.key===y.key||w===Wo(E.item.type)&&b===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,j=w.top,N=w.height,S=w.width;return F.createElement("defs",null,F.createElement("clipPath",{id:y},F.createElement("rect",{x:b,y:j,height:N,width:S})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var j=CI(b,2),N=j[0],S=j[1];return ve(ve({},w),{},ut({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var j=CI(b,2),N=j[0],S=j[1];return ve(ve({},w),{},ut({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,j=w.activeItem;if(b&&b.length)for(var N=0,S=b.length;N<S;N++){var E=b[N],C=E.props,T=E.item,A=T.type.defaultProps!==void 0?ve(ve({},T.type.defaultProps),T.props):T.props,k=Wo(T.type);if(k==="Bar"){var P=(C.data||[]).find(function(D){return ZOe(y,D)});if(P)return{graphicalItem:E,payload:P}}else if(k==="RadialBar"){var L=(C.data||[]).find(function(D){return aM(y,D)});if(L)return{graphicalItem:E,payload:L}}else if(h_(E,j)||m_(E,j)||dv(E,j)){var B=B3e({graphicalItem:E,activeTooltipItem:j,itemData:A.data}),M=A.activeIndex===void 0?B:A.activeIndex;return{graphicalItem:ve(ve({},E),{},{childIndex:M}),payload:dv(E,j)?A.data[B]:E.props.data[B]}}}return null}},{key:"render",value:function(){var y=this;if(!X3(this))return null;var w=this.props,b=w.children,j=w.className,N=w.width,S=w.height,E=w.style,C=w.compact,T=w.title,A=w.desc,k=TI(w,zIe),P=ht(k,!1);if(C)return F.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(UN,Vp({},P,{width:N,height:S,title:T,desc:A}),this.renderClipPath(),Q3(b,this.renderMap)));if(this.props.accessibilityLayer){var L,B;P.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,P.role=(B=this.props.role)!==null&&B!==void 0?B:"application",P.onKeyDown=function(D){y.accessibilityManager.keyboardEvent(D)},P.onFocus=function(){y.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return F.createElement(fI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",Vp({className:Tt("recharts-wrapper",j),style:ve({position:"relative",cursor:"default",width:N,height:S},E)},M,{ref:function(O){y.container=O}}),F.createElement(UN,Vp({},P,{width:N,height:S,title:T,desc:A,style:sFe}),this.renderClipPath(),Q3(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);return ut(v,"displayName",r),ut(v,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ut(v,"getDerivedStateFromProps",function(p,g){var x=p.dataKey,y=p.data,w=p.children,b=p.width,j=p.height,N=p.layout,S=p.stackOffset,E=p.margin,C=g.dataStartIndex,T=g.dataEndIndex;if(g.updateId===void 0){var A=PI(p);return ve(ve(ve({},A),{},{updateId:0},m(ve(ve({props:p},A),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:y,prevWidth:b,prevHeight:j,prevLayout:N,prevStackOffset:S,prevMargin:E,prevChildren:w})}if(x!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||j!==g.prevHeight||N!==g.prevLayout||S!==g.prevStackOffset||!Df(E,g.prevMargin)){var k=PI(p),P={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},L=ve(ve({},kI(g,y,N)),{},{updateId:g.updateId+1}),B=ve(ve(ve({},k),P),L);return ve(ve(ve({},B),m(ve({props:p},B),g)),{},{prevDataKey:x,prevData:y,prevWidth:b,prevHeight:j,prevLayout:N,prevStackOffset:S,prevMargin:E,prevChildren:w})}if(!LN(w,g.prevChildren)){var M,D,O,W,ne=li(w,Fh),ee=ne&&(M=(D=ne.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:C,I=ne&&(O=(W=ne.props)===null||W===void 0?void 0:W.endIndex)!==null&&O!==void 0?O:T,X=ee!==C||I!==T,Y=!Pt(y),Q=Y&&!X?g.updateId:g.updateId+1;return ve(ve({updateId:Q},m(ve(ve({props:p},g),{},{updateId:Q,dataStartIndex:ee,dataEndIndex:I}),g)),{},{prevChildren:w,dataStartIndex:ee,dataEndIndex:I})}return null}),ut(v,"renderActiveDot",function(p,g,x){var y;return _.isValidElement(p)?y=_.cloneElement(p,g):xt(p)?y=p(g):y=F.createElement(Lk,g),F.createElement(sr,{className:"recharts-active-dot",key:x},y)}),function(g){return F.createElement(v,g)}},hV=fV({chartName:"BarChart",GraphicalChild:hl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ug},{axisType:"yAxis",AxisComp:Vh}],formatAxisMap:xRe}),DI=fV({chartName:"PieChart",GraphicalChild:Jc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:f_},{axisType:"radiusAxis",AxisComp:u_}],formatAxisMap:_ke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const RI=()=>{const{refreshUserClaims:e}=Gt(),{branchId:t,setBranchId:r,branches:n,isSuperAdmin:a}=Kr();_.useEffect(()=>{Mt("AdminDashboard component mounted, refreshing user claims"),(async()=>{await e()})()},[e]);const{data:i,isLoading:o}=it({queryKey:["roomsCount",t],queryFn:async()=>{if(!t)return 0;Mt("Fetching rooms count");const{count:x,error:y}=await Z.from("rooms").select("*",{count:"exact",head:!0}).eq("branch_id",t);if(y)throw y;return Mt("Rooms count received",x),x||0},enabled:!!t}),{data:l,isLoading:c}=it({queryKey:["equipmentCount",t],queryFn:async()=>{if(!t)return 0;Mt("Fetching equipment count");const{count:x,error:y}=await Z.from("equipment").select("*",{count:"exact",head:!0}).eq("branch_id",t);if(y)throw y;return Mt("Equipment count received",x),x||0},enabled:!!t}),{data:u,isLoading:d}=it({queryKey:["bookingsCount",t],queryFn:async()=>{if(!t)return 0;Mt("Fetching bookings count");const{count:x,error:y}=await Z.from("bookings").select("*",{count:"exact",head:!0}).eq("branch_id",t);if(y)throw y;return Mt("Bookings count received",x),x||0},enabled:!!t}),{data:f,isLoading:h}=it({queryKey:["clientsCount",t],queryFn:async()=>{if(!t)return 0;Mt("Fetching clients count");const{count:x,error:y}=await Z.from("profiles").select("*",{count:"exact",head:!0}).eq("role","client").eq("branch_id",t);if(y)throw y;return Mt("Clients count received",x),x||0},enabled:!!t}),{data:m,isLoading:v}=it({queryKey:["recentBookings",t],queryFn:async()=>{if(!t)return[];const x=Wx(new Date,30).toISOString(),{data:y,error:w}=await Z.from("bookings").select("start_time, total_price, status").gte("start_time",x).eq("branch_id",t).order("start_time");if(w)throw w;const b={};return y==null||y.forEach(j=>{const N=We(new Date(j.start_time),"dd/MM",{locale:ir});b[N]||(b[N]={total:0,count:0}),j.status!=="cancelled"&&(b[N].total+=Number(j.total_price),b[N].count+=1)}),Object.entries(b).map(([j,N])=>({date:j,valor:parseFloat(N.total.toFixed(2)),reservas:N.count})).slice(-14)},enabled:!!t}),{data:p,isLoading:g}=it({queryKey:["monthlyRevenue",t],queryFn:async()=>{if(!t)return 0;const x=Yr(new Date).toISOString(),y=Gs(new Date).toISOString(),{data:w,error:b}=await Z.from("bookings").select("total_price").gte("start_time",x).lte("start_time",y).neq("status","cancelled").eq("branch_id",t);if(b)throw b;return(w==null?void 0:w.reduce((N,S)=>N+Number(S.total_price),0))||0},enabled:!!t});return Mt("AdminDashboard render state",{roomsLoading:o,equipmentLoading:c,bookingsLoading:d}),s.jsxs("div",{className:"space-y-6 md:space-y-8 max-w-7xl mx-auto px-2 sm:px-4 pb-8 md:pb-10",children:[a&&n&&s.jsx("div",{className:"mb-3 md:mb-4 max-w-full sm:max-w-xs",children:s.jsxs(zt,{value:t||void 0,onValueChange:r,children:[s.jsx($t,{className:"text-sm md:text-base",children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:n.map(x=>s.jsx(Xe,{value:x.id,children:x.name},x.id))})]})}),s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-gray-900 mb-2 mt-2 md:mt-4 tracking-tight",children:"Painel Administrativo"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsxs(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white flex flex-row items-center gap-3 md:gap-4 p-3 md:p-4",children:[s.jsx("div",{className:"bg-blue-100 rounded-lg md:rounded-xl p-2 md:p-3 flex items-center justify-center flex-shrink-0",children:s.jsx(RT,{className:"h-6 w-6 md:h-8 md:w-8 text-blue-700"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xl md:text-3xl font-bold text-gray-900",children:o?s.jsx(pt,{className:"h-6 md:h-8 w-12 md:w-16"}):i}),s.jsx("div",{className:"text-xs md:text-sm text-gray-500 font-medium mt-1",children:"Salas"})]})]}),s.jsxs(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white flex flex-row items-center gap-3 md:gap-4 p-3 md:p-4",children:[s.jsx("div",{className:"bg-green-100 rounded-lg md:rounded-xl p-2 md:p-3 flex items-center justify-center flex-shrink-0",children:s.jsx(OL,{className:"h-6 w-6 md:h-8 md:w-8 text-green-700"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xl md:text-3xl font-bold text-gray-900",children:c?s.jsx(pt,{className:"h-6 md:h-8 w-12 md:w-16"}):l}),s.jsx("div",{className:"text-xs md:text-sm text-gray-500 font-medium mt-1",children:"Equipamentos"})]})]}),s.jsxs(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white flex flex-row items-center gap-3 md:gap-4 p-3 md:p-4",children:[s.jsx("div",{className:"bg-purple-100 rounded-lg md:rounded-xl p-2 md:p-3 flex items-center justify-center flex-shrink-0",children:s.jsx(Py,{className:"h-6 w-6 md:h-8 md:w-8 text-purple-700"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xl md:text-3xl font-bold text-gray-900",children:d?s.jsx(pt,{className:"h-6 md:h-8 w-12 md:w-16"}):u}),s.jsx("div",{className:"text-xs md:text-sm text-gray-500 font-medium mt-1",children:"Reservas"})]})]}),s.jsxs(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white flex flex-row items-center gap-3 md:gap-4 p-3 md:p-4",children:[s.jsx("div",{className:"bg-yellow-100 rounded-lg md:rounded-xl p-2 md:p-3 flex items-center justify-center flex-shrink-0",children:s.jsx(il,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-700"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xl md:text-3xl font-bold text-gray-900",children:h?s.jsx(pt,{className:"h-6 md:h-8 w-12 md:w-16"}):f}),s.jsx("div",{className:"text-xs md:text-sm text-gray-500 font-medium mt-1",children:"Clientes"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-8 mt-6 md:mt-8",children:[s.jsxs(de,{className:"lg:col-span-2 shadow-lg rounded-xl md:rounded-2xl border-0 bg-white",children:[s.jsxs(Se,{className:"p-4 md:p-6",children:[s.jsxs($e,{className:"flex items-center text-base md:text-lg font-bold text-gray-800",children:[s.jsx(Ir,{className:"mr-2 h-5 w-5 md:h-6 md:w-6 text-blue-700"}),s.jsx("span",{className:"text-sm md:text-base",children:"Reservas e Faturamento (14 dias)"})]}),s.jsx(Vr,{className:"text-gray-500 text-xs md:text-sm",children:"Viso dos ltimos 14 dias de atividade"})]}),s.jsx(me,{className:"h-64 md:h-80 p-4 md:p-6",children:v?s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsx(pt,{className:"h-full w-full"})}):s.jsx(lE,{width:"100%",height:"100%",children:s.jsxs(hV,{data:m,margin:{top:10,right:15,left:10,bottom:5},children:[s.jsx(Xk,{strokeDasharray:"3 3"}),s.jsx(ug,{dataKey:"date",fontSize:12}),s.jsx(Vh,{yAxisId:"left",orientation:"left",stroke:"#8884d8",fontSize:12}),s.jsx(Vh,{yAxisId:"right",orientation:"right",stroke:"#82ca9d",fontSize:12}),s.jsx(Ii,{formatter:(x,y)=>y==="valor"?[`R$ ${x}`,"Valor"]:[x,"Reservas"]}),s.jsx(hl,{yAxisId:"left",dataKey:"valor",name:"Valor",fill:"#8884d8",radius:[4,4,0,0]}),s.jsx(hl,{yAxisId:"right",dataKey:"reservas",name:"Reservas",fill:"#82ca9d",radius:[4,4,0,0]})]})})})]}),s.jsxs(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white flex flex-col items-center justify-center",children:[s.jsxs(Se,{className:"p-4 md:p-6",children:[s.jsxs($e,{className:"flex items-center text-base md:text-lg font-bold text-gray-800",children:[s.jsx(Ec,{className:"mr-2 h-5 w-5 md:h-6 md:w-6 text-green-700"}),s.jsx("span",{className:"text-sm md:text-base",children:"Faturamento Mensal"})]}),s.jsx(Vr,{className:"text-gray-500 text-xs md:text-sm",children:"Ms atual"})]}),s.jsx(me,{className:"p-4 md:p-6",children:g?s.jsx(pt,{className:"h-12 md:h-16 w-full"}):s.jsxs("div",{className:"text-center py-4 md:py-8",children:[s.jsxs("div",{className:"text-2xl md:text-4xl font-extrabold text-green-700",children:["R$ ",p==null?void 0:p.toFixed(2)]}),s.jsx("p",{className:"text-muted-foreground mt-2 text-sm md:text-base",children:We(new Date,"MMMM 'de' yyyy",{locale:ir})})]})})]})]}),s.jsxs("div",{className:"bg-muted rounded-xl md:rounded-2xl p-4 md:p-8 mt-6 md:mt-8 shadow-sm border-0",children:[s.jsx("h2",{className:"text-lg md:text-2xl font-bold mb-3 md:mb-4 text-gray-900",children:"Bem-vindo ao Painel Administrativo"}),s.jsxs("p",{className:"text-muted-foreground text-sm md:text-lg",children:["Use o menu lateral para navegar entre as diferentes sees do sistema.",s.jsx("br",{className:"hidden md:block"}),s.jsx("span",{className:"md:hidden",children:" "}),"Aqui voc pode gerenciar salas, equipamentos e reservas."]})]})]})},Da=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:xe("w-full caption-bottom text-sm",e),...t})}));Da.displayName="Table";const Ra=_.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:xe("[&_tr]:border-b",e),...t}));Ra.displayName="TableHeader";const Ma=_.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:xe("[&_tr:last-child]:border-0",e),...t}));Ma.displayName="TableBody";const vFe=_.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));vFe.displayName="TableFooter";const Bt=_.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:xe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bt.displayName="TableRow";const Ae=_.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ae.displayName="TableHead";const je=_.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableCell";const gFe=_.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));gFe.displayName="TableCaption";const mV=()=>{const{user:e}=Gt(),{branchId:t}=Kr(),r=Wr({mutationFn:async a=>{if(!t)throw new Error("Branch ID no encontrado");const{error:i}=await Z.from("admin_logs").insert({admin_id:e==null?void 0:e.id,action:a.action,details:a.details,admin_email:a.admin_email||(e==null?void 0:e.email),branch_id:t});if(i)throw i}});return{logAction:(a,i,o)=>{r.mutate({action:a,details:i,admin_email:o})},isLogging:r.isPending}},dg=()=>{const{logAction:e}=mV(),{user:t}=Gt();return{logCreate:(o,l,c)=>{e(`create_${o}`,{entity_type:o,entity_id:c,entity_data:l,action_type:"CREATE",timestamp:new Date().toISOString()},t==null?void 0:t.email)},logUpdate:(o,l,c,u)=>{e(`update_${o}`,{entity_type:o,entity_id:l,old_data:c,new_data:u,action_type:"UPDATE",timestamp:new Date().toISOString()},t==null?void 0:t.email)},logDelete:(o,l,c)=>{e(`delete_${o}`,{entity_type:o,entity_id:l,entity_data:c,action_type:"DELETE",timestamp:new Date().toISOString()},t==null?void 0:t.email)},logStatusChange:(o,l,c,u,d)=>{e(`status_change_${o}`,{entity_type:o,entity_id:l,entity_name:d,old_status:c,new_status:u,action_type:"STATUS_CHANGE",timestamp:new Date().toISOString()},t==null?void 0:t.email)}}},xFe=()=>{const{refreshUserClaims:e}=Gt(),{branchId:t,setBranchId:r,branches:n,isSuperAdmin:a}=Kr(),{logDelete:i,logStatusChange:o}=dg();_.useEffect(()=>{console.log("AdminRooms component mounted, refreshing user claims"),(async()=>{await e()})()},[e]);const{data:l,isLoading:c,isError:u,error:d,refetch:f}=it({queryKey:["rooms",t],queryFn:async()=>{if(!t)return[];console.log("Fetching rooms data");const{data:v,error:p}=await Z.from("rooms").select("*").eq("branch_id",t).order("name");if(p)throw console.error("Error fetching rooms:",p),p;return console.log("Rooms data received:",v),v},enabled:!!t}),h=async v=>{if(window.confirm("Tem certeza que deseja excluir esta sala?"))try{const{data:p}=await Z.from("rooms").select("*").eq("id",v).single(),{error:g}=await Z.from("rooms").delete().eq("id",v);if(g)throw g;p&&await i("room",v,p),tt({title:"Sala excluda com sucesso"}),f()}catch(p){tt({variant:"destructive",title:"Erro ao excluir sala",description:p.message})}},m=async(v,p)=>{try{const{error:g}=await Z.from("rooms").update({is_active:!p}).eq("id",v);if(g)throw g;await o("room",v,{previous_status:p,new_status:!p,action:p?"deactivated":"activated"},{}),tt({title:p?"Sala desativada com sucesso":"Sala ativada com sucesso"}),f()}catch(g){tt({variant:"destructive",title:"Erro ao atualizar status da sala",description:g.message})}};return console.log("AdminRooms render state:",{isLoading:c,isError:u,roomsCount:l==null?void 0:l.length}),s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(RT,{className:"h-7 w-7 text-blue-700"})," Salas"]}),s.jsx(Vr,{className:"text-gray-500",children:"Gerencie todas as salas cadastradas"})]}),s.jsxs(me,{children:[a&&n&&s.jsx("div",{className:"mb-4 max-w-xs",children:s.jsxs(zt,{value:t||void 0,onValueChange:r,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:n.map(v=>s.jsx(Xe,{value:v.id,children:v.name},v.id))})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciar Salas"}),s.jsx(re,{asChild:!0,children:s.jsxs(wt,{to:"/admin/rooms/new",children:[s.jsx(gl,{className:"mr-2 h-4 w-4"})," Nova Sala"]})})]}),u?s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-6 text-center",children:[s.jsx("p",{className:"text-destructive font-medium mb-2",children:"Erro ao carregar salas"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(d==null?void 0:d.message)||"Ocorreu um erro desconhecido"}),s.jsx(re,{onClick:()=>f(),variant:"outline",children:"Tentar novamente"})]}):c?s.jsxs("div",{className:"space-y-3 py-4",children:[s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"})]}):s.jsx("div",{className:"border rounded-md",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Descrio"}),s.jsx(Ae,{children:"Wi-Fi"}),s.jsx(Ae,{children:"Ar-Condic."}),s.jsx(Ae,{children:"Cadeiras"}),s.jsx(Ae,{children:"Mesas"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{className:"text-right",children:"Aes"})]})}),s.jsx(Ma,{children:l&&l.length>0?l.map(v=>s.jsxs(Bt,{children:[s.jsx(je,{className:"font-medium",children:v.name}),s.jsx(je,{className:"max-w-[200px] truncate",children:v.description}),s.jsx(je,{children:v.has_wifi?"Sim":"No"}),s.jsx(je,{children:v.has_ac?"Sim":"No"}),s.jsx(je,{children:v.has_chairs?"Sim":"No"}),s.jsx(je,{children:v.has_tables?"Sim":"No"}),s.jsx(je,{children:s.jsx(Re,{variant:v.is_active?"default":"outline",children:v.is_active?"Ativo":"Inativo"})}),s.jsxs(je,{className:"text-right space-x-2",children:[s.jsx(re,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(wt,{to:`/admin/rooms/${v.id}`,children:s.jsx(RL,{className:"h-4 w-4"})})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>m(v.id,v.is_active),title:v.is_active?"Desativar sala":"Ativar sala",children:v.is_active?s.jsx(ML,{className:"h-4 w-4 text-red-500"}):s.jsx(IL,{className:"h-4 w-4 text-green-500"})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>h(v.id),children:s.jsx(UL,{className:"h-4 w-4"})})]})]},v.id)):s.jsx(Bt,{children:s.jsx(je,{colSpan:8,className:"text-center py-4",children:"Nenhuma sala cadastrada"})})})]})})]})]})})};var Yk="Checkbox",[yFe,Qze]=Zi(Yk),[bFe,wFe]=yFe(Yk),pV=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=_.useState(null),v=kt(t,b=>m(b)),p=_.useRef(!1),g=h?d||!!h.closest("form"):!0,[x=!1,y]=mo({prop:a,defaultProp:i,onChange:u}),w=_.useRef(x);return _.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const j=()=>y(w.current);return b.addEventListener("reset",j),()=>b.removeEventListener("reset",j)}},[h,y]),s.jsxs(bFe,{scope:r,state:x,disabled:l,children:[s.jsx(lt.button,{type:"button",role:"checkbox","aria-checked":_c(x)?"mixed":x,"aria-required":o,"data-state":xV(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:nt(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:nt(e.onClick,b=>{y(j=>_c(j)?!0:!j),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&s.jsx(_Fe,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:_c(i)?!1:i})]})});pV.displayName=Yk;var vV="CheckboxIndicator",gV=_.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=wFe(vV,r);return s.jsx(ei,{present:n||_c(i.state)||i.state===!0,children:s.jsx(lt.span,{"data-state":xV(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});gV.displayName=vV;var _Fe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=_.useRef(null),l=sw(r),c=ew(t);_.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const v=new Event("click",{bubbles:n});d.indeterminate=_c(r),m.call(d,_c(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=_.useRef(_c(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _c(e){return e==="indeterminate"}function xV(e){return _c(e)?"indeterminate":e?"checked":"unchecked"}var yV=pV,jFe=gV;const _p=_.forwardRef(({className:e,...t},r)=>s.jsx(yV,{ref:r,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(jFe,{className:xe("flex items-center justify-center text-current"),children:s.jsx(fh,{className:"h-4 w-4"})})}));_p.displayName=yV.displayName;const SFe=[{value:"monday",label:"Segunda-feira"},{value:"tuesday",label:"Tera-feira"},{value:"wednesday",label:"Quarta-feira"},{value:"thursday",label:"Quinta-feira"},{value:"friday",label:"Sexta-feira"},{value:"saturday",label:"Sbado"},{value:"sunday",label:"Domingo"}],bV=({schedules:e,onChange:t,title:r="Horrios de Funcionamento"})=>{const n=()=>{const o={weekday:"monday",start_time:"08:00",end_time:"18:00"};t([...e,o])},a=o=>{const l=e.filter((c,u)=>u!==o);t(l)},i=(o,l,c)=>{const u=[...e];u[o]={...u[o],[l]:c},t(u)};return s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center justify-between",children:[r,s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:n,className:"flex items-center gap-2",children:[s.jsx(gl,{className:"h-4 w-4"}),"Adicionar Horrio"]})]})}),s.jsx(me,{children:e.length===0?s.jsx("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:s.jsx("p",{className:"text-muted-foreground",children:'Nenhum horrio configurado. Clique em "Adicionar Horrio" para comear.'})}):s.jsx("div",{className:"space-y-4",children:e.map((o,l)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-card",children:[s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:`weekday-${l}`,children:"Dia da Semana"}),s.jsxs(zt,{value:o.weekday,onValueChange:c=>i(l,"weekday",c),children:[s.jsx($t,{children:s.jsx(Ht,{})}),s.jsx(Lt,{children:SFe.map(c=>s.jsx(Xe,{value:c.value,children:c.label},c.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:`start-time-${l}`,children:"Horrio de Incio"}),s.jsx(Oe,{id:`start-time-${l}`,type:"time",value:o.start_time,onChange:c=>i(l,"start_time",c.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:`end-time-${l}`,children:"Horrio de Trmino"}),s.jsx(Oe,{id:`end-time-${l}`,type:"time",value:o.end_time,onChange:c=>i(l,"end_time",c.target.value)})]})]}),s.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>a(l),className:"text-destructive hover:text-destructive",children:s.jsx(dm,{className:"h-4 w-4"})})]},l))})})]})},Qk=({photos:e,files:t,onFileChange:r,onRemoveFile:n,onRemovePhoto:a,title:i="Fotos"})=>s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:i})}),s.jsxs(me,{className:"space-y-4",children:[e.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.map(o=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:o.url,alt:"Foto",className:"w-full h-32 object-cover rounded-md"}),s.jsx(re,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>a(o.id),children:s.jsx(Vn,{className:"h-4 w-4"})})]},o.id))}),t.length>0&&s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map((o,l)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:URL.createObjectURL(o),alt:`Pr-visualizao ${l}`,className:"w-full h-32 object-cover rounded-md"}),s.jsx(re,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>n(l),children:s.jsx(Vn,{className:"h-4 w-4"})})]},l))}),s.jsx("div",{children:s.jsxs(De,{htmlFor:"photos",className:"cursor-pointer",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 flex flex-col items-center justify-center hover:border-gray-400 transition-colors",children:[s.jsx(qL,{className:"h-8 w-8 text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Clique para selecionar ou arraste as fotos aqui"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, GIF at 10MB"})]}),s.jsx(Oe,{id:"photos",type:"file",accept:"image/*",multiple:!0,onChange:r,className:"hidden"})]})})]})]}),$n=[];for(let e=0;e<256;++e)$n.push((e+256).toString(16).slice(1));function NFe(e,t=0){return($n[e[t+0]]+$n[e[t+1]]+$n[e[t+2]]+$n[e[t+3]]+"-"+$n[e[t+4]]+$n[e[t+5]]+"-"+$n[e[t+6]]+$n[e[t+7]]+"-"+$n[e[t+8]]+$n[e[t+9]]+"-"+$n[e[t+10]]+$n[e[t+11]]+$n[e[t+12]]+$n[e[t+13]]+$n[e[t+14]]+$n[e[t+15]]).toLowerCase()}let E2;const EFe=new Uint8Array(16);function CFe(){if(!E2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E2=crypto.getRandomValues.bind(crypto)}return E2(EFe)}const TFe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),MI={randomUUID:TFe};function AFe(e,t,r){var a;if(MI.randomUUID&&!t&&!e)return MI.randomUUID();e=e||{};const n=e.random??((a=e.rng)==null?void 0:a.call(e))??CFe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,NFe(n)}const II=()=>{const{id:e}=nm(),t=Mn(),r=!!e,[n,a]=_.useState(!1),{user:i}=Gt(),{toast:o}=Pr(),{logCreate:l,logUpdate:c}=dg(),[u,d]=_.useState({name:"",description:"",has_wifi:!1,has_ac:!1,has_chairs:!1,has_tables:!1,price_per_hour:0}),[f,h]=_.useState([]),[m,v]=_.useState([]),[p,g]=_.useState([]),{data:x}=it({queryKey:["room",e],enabled:r,queryFn:async()=>{const{data:E,error:C}=await Z.from("rooms").select("*").eq("id",e).single();if(C)throw C;const{data:T}=await Z.from("room_schedules").select("*").eq("room_id",e),{data:A}=await Z.from("room_photos").select("*").eq("room_id",e);return d(E||{}),T&&h(T.map(k=>({weekday:k.weekday,start_time:k.start_time,end_time:k.end_time}))),A&&v(A.map(k=>({id:k.id,url:k.url}))),{room:E,schedules:T,photos:A}}}),y=E=>{const{name:C,value:T}=E.target;d(A=>({...A,[C]:C==="price_per_hour"?Number(T):T}))},w=(E,C)=>{d(T=>({...T,[E]:C}))},b=E=>{if(!E.target.files||E.target.files.length===0)return;const C=Array.from(E.target.files);g(T=>[...T,...C])},j=E=>{g(C=>C.filter((T,A)=>A!==E))},N=async E=>{const{error:C}=await Z.from("room_photos").delete().eq("id",E);if(C){o({variant:"destructive",title:"Erro ao remover foto",description:C.message});return}v(T=>T.filter(A=>A.id!==E)),o({title:"Foto removida com sucesso"})},S=async E=>{var C;E.preventDefault(),a(!0);try{if(!u.name)throw new Error("O nome da sala  obrigatrio");const T=(C=i==null?void 0:i.user_metadata)==null?void 0:C.branch_id;if(!i||!T)throw new Error("Sesso expirada ou usurio sem filial associada. Faa login novamente.");let A=e,k;if(r){const{error:P}=await Z.from("rooms").update({name:u.name,description:u.description,has_wifi:u.has_wifi,has_ac:u.has_ac,has_chairs:u.has_chairs,has_tables:u.has_tables,price_per_hour:u.price_per_hour}).eq("id",e);k=P,P||await c("room",e,x==null?void 0:x.room,u)}else{const{data:P,error:L}=await Z.from("rooms").insert({name:u.name,description:u.description,has_wifi:u.has_wifi,has_ac:u.has_ac,has_chairs:u.has_chairs,has_tables:u.has_tables,price_per_hour:u.price_per_hour,branch_id:T,is_active:!0}).select("id").single();k=L,A=P==null?void 0:P.id,!L&&A&&await l("room",A,"Sala criada")}if(k||!A)throw new Error((k==null?void 0:k.message)||"Erro desconhecido ao criar/atualizar sala");if(r){const{error:P}=await Z.from("room_schedules").delete().eq("room_id",A);if(P)throw new Error(P.message||"Erro ao remover horrios antigos")}if(f.length>0){const P=f.map(B=>({room_id:A,weekday:B.weekday,start_time:B.start_time,end_time:B.end_time,branch_id:T})),{error:L}=await Z.from("room_schedules").insert(P);if(L)throw new Error(L.message||"Erro ao inserir horrios")}if(p.length>0)for(const P of p){const L=P.name.split(".").pop(),B=`${AFe()}.${L}`,M=`${A}/${B}`,{error:D}=await Z.storage.from("room-photos").upload(M,P);if(D)throw new Error(D.message||"Erro ao fazer upload da imagem");const{data:O}=Z.storage.from("room-photos").getPublicUrl(M),{error:W}=await Z.from("room_photos").insert({room_id:A,url:O.publicUrl,branch_id:T});if(W)throw new Error(W.message||"Erro ao salvar imagem da sala")}o({title:r?"Sala atualizada com sucesso":"Sala criada com sucesso"}),t("/admin/rooms")}catch(T){o({variant:"destructive",title:r?"Erro ao atualizar sala":"Erro ao criar sala",description:T.message||"Erro inesperado"})}finally{a(!1)}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t("/admin/rooms"),className:"flex items-center gap-2",children:[s.jsx(DT,{className:"h-4 w-4"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold",children:r?"Editar Sala":"Criar Sala"})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Informaes Bsicas"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"name",children:"Nome da Sala *"}),s.jsx(Oe,{id:"name",name:"name",value:u.name||"",onChange:y,placeholder:"Digite o nome da sala",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"description",children:"Descrio"}),s.jsx(bl,{id:"description",name:"description",value:u.description||"",onChange:y,placeholder:"Descreva a sala",rows:3})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"price_per_hour",children:"Preo por Hora (R$) *"}),s.jsx(Oe,{id:"price_per_hour",name:"price_per_hour",type:"number",min:"0",step:"0.01",value:u.price_per_hour||0,onChange:y,required:!0})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{children:"Caractersticas da Sala"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_p,{id:"has_wifi",checked:!!u.has_wifi,onCheckedChange:E=>w("has_wifi",!!E)}),s.jsx(De,{htmlFor:"has_wifi",children:"Possui Wi-Fi"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_p,{id:"has_ac",checked:!!u.has_ac,onCheckedChange:E=>w("has_ac",!!E)}),s.jsx(De,{htmlFor:"has_ac",children:"Possui Ar-Condicionado"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_p,{id:"has_chairs",checked:!!u.has_chairs,onCheckedChange:E=>w("has_chairs",!!E)}),s.jsx(De,{htmlFor:"has_chairs",children:"Possui Cadeiras"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_p,{id:"has_tables",checked:!!u.has_tables,onCheckedChange:E=>w("has_tables",!!E)}),s.jsx(De,{htmlFor:"has_tables",children:"Possui Mesas"})]})]})]})]})]}),s.jsx(bV,{schedules:f,onChange:h,title:"Horrios de Funcionamento"}),s.jsx(Qk,{photos:m,files:p,onFileChange:b,onRemoveFile:j,onRemovePhoto:N,title:"Fotos da Sala"}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/admin/rooms"),children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:n,children:n?"Salvando...":r?"Atualizar":"Criar"})]})]})]})})},kFe=()=>{const{refreshUserClaims:e}=Gt(),{branchId:t,setBranchId:r,branches:n,isSuperAdmin:a}=Kr(),{logDelete:i,logStatusChange:o}=dg();_.useEffect(()=>{console.log("AdminEquipment component mounted, refreshing user claims"),(async()=>{await e()})()},[e]);const{data:l,isLoading:c,isError:u,error:d,refetch:f}=it({queryKey:["equipment",t],queryFn:async()=>{if(!t)return[];console.log("Fetching equipment data");const{data:v,error:p}=await Z.from("equipment").select("*").eq("branch_id",t).order("name");if(p)throw console.error("Error fetching equipment:",p),p;return console.log("Equipment data received:",v),v},enabled:!!t}),h=async v=>{if(window.confirm("Tem certeza que deseja excluir este equipamento?"))try{const{data:p}=await Z.from("equipment").select("*").eq("id",v).single(),{error:g}=await Z.from("equipment").delete().eq("id",v);if(g)throw g;p&&await i("equipment",v,p),tt({title:"Equipamento excludo com sucesso"}),f()}catch(p){tt({variant:"destructive",title:"Erro ao excluir equipamento",description:p.message})}},m=async(v,p)=>{try{const{error:g}=await Z.from("equipment").update({is_active:!p}).eq("id",v);if(g)throw g;await o("equipment",v,{previous_status:p,new_status:!p,action:p?"deactivated":"activated"},{}),tt({title:p?"Equipamento desativado com sucesso":"Equipamento ativado com sucesso"}),f()}catch(g){tt({variant:"destructive",title:"Erro ao atualizar status do equipamento",description:g.message})}};return console.log("AdminEquipment render state:",{isLoading:c,isError:u,equipmentCount:l==null?void 0:l.length}),s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(wre,{className:"h-7 w-7 text-blue-700"})," Equipamentos"]}),s.jsx(Vr,{className:"text-gray-500",children:"Gerencie todos os equipamentos cadastrados"})]}),s.jsxs(me,{children:[a&&n&&s.jsx("div",{className:"mb-4 max-w-xs",children:s.jsxs(zt,{value:t||void 0,onValueChange:r,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:n.map(v=>s.jsx(Xe,{value:v.id,children:v.name},v.id))})]})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Gerenciar Equipamentos"}),s.jsx(re,{asChild:!0,children:s.jsxs(wt,{to:"/admin/equipment/new",children:[s.jsx(gl,{className:"mr-2 h-4 w-4"})," Novo Equipamento"]})})]}),u?s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-6 text-center",children:[s.jsx("p",{className:"text-destructive font-medium mb-2",children:"Erro ao carregar equipamentos"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(d==null?void 0:d.message)||"Ocorreu um erro desconhecido"}),s.jsx(re,{onClick:()=>f(),variant:"outline",children:"Tentar novamente"})]}):c?s.jsxs("div",{className:"space-y-3 py-4",children:[s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"})]}):s.jsx("div",{className:"border rounded-md",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Descrio"}),s.jsx(Ae,{children:"Quantidade"}),s.jsx(Ae,{children:"Preo/Hora"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{className:"text-right",children:"Aes"})]})}),s.jsx(Ma,{children:l&&l.length>0?l.map(v=>s.jsxs(Bt,{children:[s.jsx(je,{className:"font-medium",children:v.name}),s.jsx(je,{className:"max-w-[200px] truncate",children:v.description}),s.jsx(je,{children:v.quantity}),s.jsxs(je,{children:["R$ ",v.price_per_hour.toFixed(2)]}),s.jsx(je,{children:s.jsx(Re,{variant:v.is_active?"default":"outline",children:v.is_active?"Ativo":"Inativo"})}),s.jsxs(je,{className:"text-right space-x-2",children:[s.jsx(re,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(wt,{to:`/admin/equipment/${v.id}`,children:s.jsx(RL,{className:"h-4 w-4"})})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>m(v.id,v.is_active),title:v.is_active?"Desativar equipamento":"Ativar equipamento",children:v.is_active?s.jsx(ML,{className:"h-4 w-4 text-red-500"}):s.jsx(IL,{className:"h-4 w-4 text-green-500"})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>h(v.id),children:s.jsx(UL,{className:"h-4 w-4"})})]})]},v.id)):s.jsx(Bt,{children:s.jsx(je,{colSpan:6,className:"text-center py-4",children:"Nenhum equipamento cadastrado"})})})]})})]})]})})},FI=()=>{const{id:e}=nm(),t=Mn(),r=!!e,[n,a]=_.useState(!1),{user:i}=Gt(),{toast:o}=Pr(),{logCreate:l,logUpdate:c}=dg(),[u,d]=_.useState({name:"",description:"",quantity:1,price_per_hour:0}),[f,h]=_.useState([]),[m,v]=_.useState([]),[p,g]=_.useState([]),{data:x}=it({queryKey:["equipment",e],enabled:r,queryFn:async()=>{const{data:S,error:E}=await Z.from("equipment").select("*").eq("id",e).single();if(E)throw E;const{data:C}=await Z.from("equipment_schedules").select("*").eq("equipment_id",e),{data:T}=await Z.from("equipment_photos").select("*").eq("equipment_id",e);return d(S||{}),C&&h(C.map(A=>({weekday:A.weekday,start_time:A.start_time,end_time:A.end_time}))),T&&v(T),{equipment:S,schedules:C,photos:T}}}),y=S=>{const{name:E,value:C}=S.target;d(T=>({...T,[E]:E==="price_per_hour"||E==="quantity"?Number(C):C}))},w=S=>{const E=Array.from(S.target.files||[]);g(C=>[...C,...E])},b=S=>{g(E=>E.filter((C,T)=>T!==S))},j=async S=>{try{const{error:E}=await Z.from("equipment_photos").delete().eq("id",S);if(E)throw E;v(C=>C.filter(T=>T.id!==S)),o({title:"Foto removida com sucesso"})}catch(E){o({variant:"destructive",title:"Erro ao remover foto",description:E.message})}},N=async S=>{var E;S.preventDefault(),a(!0);try{if(!u.name)throw new Error("O nome do equipamento  obrigatrio");const C=(E=i==null?void 0:i.user_metadata)==null?void 0:E.branch_id;if(!i||!C)throw new Error("Sesso expirada ou usurio sem filial associada. Faa login novamente.");let T=e,A;if(r){const{error:k}=await Z.from("equipment").update({name:u.name,description:u.description,quantity:u.quantity,price_per_hour:u.price_per_hour}).eq("id",e);A=k,k||await c("equipment",e,x==null?void 0:x.equipment,u)}else{const{data:k,error:P}=await Z.from("equipment").insert({name:u.name,description:u.description,quantity:u.quantity,price_per_hour:u.price_per_hour,branch_id:C,is_active:!0}).select("id").single();A=P,T=k==null?void 0:k.id,!P&&T&&await l("equipment",T,"Equipamento criado")}if(A||!T)throw new Error((A==null?void 0:A.message)||"Erro desconhecido ao criar/atualizar equipamento");if(r){const{error:k}=await Z.from("equipment_schedules").delete().eq("equipment_id",T);if(k)throw new Error(k.message||"Erro ao remover horrios antigos")}if(f.length>0){const k=f.map(L=>({equipment_id:T,weekday:L.weekday,start_time:L.start_time,end_time:L.end_time,branch_id:C})),{error:P}=await Z.from("equipment_schedules").insert(k);if(P)throw new Error(P.message||"Erro ao inserir horrios")}if(p.length>0)for(const k of p){const P=`${T}_${Date.now()}_${k.name}`,{data:L,error:B}=await Z.storage.from("equipment-photos").upload(P,k);if(B){console.error("Erro ao fazer upload da foto:",B);continue}const{data:{publicUrl:M}}=Z.storage.from("equipment-photos").getPublicUrl(P);await Z.from("equipment_photos").insert({equipment_id:T,url:M,branch_id:C})}o({title:r?"Equipamento atualizado com sucesso":"Equipamento criado com sucesso"}),t("/admin/equipment")}catch(C){o({variant:"destructive",title:r?"Erro ao atualizar equipamento":"Erro ao criar equipamento",description:C.message||"Erro inesperado"})}finally{a(!1)}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t("/admin/equipment"),className:"flex items-center gap-2",children:[s.jsx(DT,{className:"h-4 w-4"}),"Voltar"]}),s.jsx("h1",{className:"text-2xl font-bold",children:r?"Editar Equipamento":"Criar Equipamento"})]}),s.jsxs("form",{onSubmit:N,className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Informaes Bsicas"})}),s.jsxs(me,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"name",children:"Nome do Equipamento *"}),s.jsx(Oe,{id:"name",name:"name",value:u.name||"",onChange:y,placeholder:"Digite o nome do equipamento",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"description",children:"Descrio"}),s.jsx(bl,{id:"description",name:"description",value:u.description||"",onChange:y,placeholder:"Descreva o equipamento",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"quantity",children:"Quantidade Disponvel *"}),s.jsx(Oe,{id:"quantity",name:"quantity",type:"number",min:"1",value:u.quantity||1,onChange:y,required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"price_per_hour",children:"Preo por Hora (R$) *"}),s.jsx(Oe,{id:"price_per_hour",name:"price_per_hour",type:"number",min:"0",step:"0.01",value:u.price_per_hour||0,onChange:y,required:!0})]})]})]})]}),s.jsx(bV,{schedules:f,onChange:h,title:"Horrios de Disponibilidade"}),s.jsx(Qk,{photos:m,files:p,onFileChange:w,onRemoveFile:b,onRemovePhoto:j,title:"Fotos do Equipamento"}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/admin/equipment"),children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:n,children:n?"Salvando...":r?"Atualizar":"Criar"})]})]})]})})};var Zk="Tabs",[PFe,Zze]=Zi(Zk,[ww]),wV=ww(),[OFe,Jk]=PFe(Zk),_V=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kv(l),[f,h]=mo({prop:n,onChange:a,defaultProp:i});return s.jsx(OFe,{scope:r,baseId:io(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(lt.div,{dir:d,"data-orientation":o,...u,ref:t})})});_V.displayName=Zk;var jV="TabsList",SV=_.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Jk(jV,r),o=wV(r);return s.jsx(z7,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(lt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});SV.displayName=jV;var NV="TabsTrigger",EV=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Jk(NV,r),l=wV(r),c=AV(o.baseId,n),u=kV(o.baseId,n),d=n===o.value;return s.jsx(H7,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(lt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:nt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:nt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:nt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});EV.displayName=NV;var CV="TabsContent",TV=_.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Jk(CV,r),c=AV(l.baseId,n),u=kV(l.baseId,n),d=n===l.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(ei,{present:a||d,children:({present:h})=>s.jsx(lt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});TV.displayName=CV;function AV(e,t){return`${e}-trigger-${t}`}function kV(e,t){return`${e}-content-${t}`}var DFe=_V,PV=SV,OV=EV,DV=TV;const w_=DFe,fg=_.forwardRef(({className:e,...t},r)=>s.jsx(PV,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));fg.displayName=PV.displayName;const Ca=_.forwardRef(({className:e,...t},r)=>s.jsx(OV,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ca.displayName=OV.displayName;const Kh=_.forwardRef(({className:e,...t},r)=>s.jsx(DV,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kh.displayName=DV.displayName;const RFe=({stats:e,isLoading:t,type:r})=>{const a=(()=>{switch(r){case"orders":return{total:"Total de Vendas",paid:"Vendas Pagas",pending:"Vendas Pendentes",cancelled:"Vendas Canceladas"};case"bookings":return{total:"Total de Reservas",paid:"Reservas Pagas",pending:"Reservas Pendentes",cancelled:"Reservas Canceladas"};case"equipment":return{total:"Total de Equipamentos",paid:"Equipamentos Pagos",pending:"Equipamentos Pendentes",cancelled:"Equipamentos Cancelados"};default:return{total:"Total",paid:"Pagas",pending:"Pendentes",cancelled:"Canceladas"}}})();return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:[s.jsx(Gd,{children:s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:s.jsxs(de,{className:"rounded-xl md:rounded-2xl",children:[s.jsx(Se,{className:"pb-1 sm:pb-2 p-3 sm:p-6",children:s.jsx($e,{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:a.total})}),s.jsx(me,{className:"p-3 sm:p-6 pt-0",children:s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold",children:t?s.jsx(pt,{className:"h-6 sm:h-8 w-12 sm:w-16"}):e.total})})]})}),s.jsx(yu,{children:"Total de registros"})]})}),e.faturado!==void 0&&s.jsx(Gd,{children:s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:s.jsxs(de,{className:"rounded-xl md:rounded-2xl",children:[s.jsx(Se,{className:"pb-1 sm:pb-2 p-3 sm:p-6",children:s.jsx($e,{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:"Faturamento"})}),s.jsx(me,{className:"p-3 sm:p-6 pt-0",children:s.jsx("div",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold text-green-700 truncate",children:t?s.jsx(pt,{className:"h-6 sm:h-8 w-16 sm:w-24"}):`R$ ${e.faturado.toFixed(2)}`})})]})}),s.jsx(yu,{children:"Somatrio dos valores pagos"})]})}),s.jsx(Gd,{children:s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:s.jsxs(de,{className:"rounded-xl md:rounded-2xl",children:[s.jsx(Se,{className:"pb-1 sm:pb-2 p-3 sm:p-6",children:s.jsx($e,{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:a.paid})}),s.jsx(me,{className:"p-3 sm:p-6 pt-0",children:s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-green-600",children:t?s.jsx(pt,{className:"h-6 sm:h-8 w-8 sm:w-12"}):e.pagas})})]})}),s.jsx(yu,{children:"Registros j pagos e confirmados"})]})}),s.jsx(Gd,{children:s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:s.jsxs(de,{className:"rounded-xl md:rounded-2xl",children:[s.jsx(Se,{className:"pb-1 sm:pb-2 p-3 sm:p-6",children:s.jsx($e,{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:a.pending})}),s.jsx(me,{className:"p-3 sm:p-6 pt-0",children:s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-yellow-600",children:t?s.jsx(pt,{className:"h-6 sm:h-8 w-8 sm:w-12"}):e.pendentes})})]})}),s.jsx(yu,{children:"Registros aguardando pagamento"})]})}),s.jsx(Gd,{children:s.jsxs(Kd,{children:[s.jsx(Xd,{asChild:!0,children:s.jsxs(de,{className:"rounded-xl md:rounded-2xl",children:[s.jsx(Se,{className:"pb-1 sm:pb-2 p-3 sm:p-6",children:s.jsx($e,{className:"text-xs sm:text-sm font-medium text-muted-foreground truncate",children:a.cancelled})}),s.jsx(me,{className:"p-3 sm:p-6 pt-0",children:s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-red-600",children:t?s.jsx(pt,{className:"h-6 sm:h-8 w-8 sm:w-12"}):e.canceladas})})]})}),s.jsx(yu,{children:"Registros cancelados por falta de pagamento"})]})})]})},MFe={in_process:{label:"Em Processamento",variant:"secondary",className:"bg-blue-100 text-blue-800 hover:bg-blue-200",icon:Wn},paid:{label:"Pago",variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-200",icon:Ss},partial_refunded:{label:"Parcialmente Devolvido",variant:"secondary",className:"bg-orange-100 text-orange-800 hover:bg-orange-200",icon:Wn},pre_authorized:{label:"Pr-autorizado",variant:"secondary",className:"bg-purple-100 text-purple-800 hover:bg-purple-200",icon:Wn},recused:{label:"Recusado",variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-200",icon:R4},pago:{label:"Pago",variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-200",icon:Ss},pending:{label:"Pendente",variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",icon:Wn},"falta pagar":{label:"Falta pagar",variant:"secondary",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",icon:Wn},"cancelado por falta de pagamento":{label:"Cancelado por falta de pagamento",variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-200",icon:R4},confirmed:{label:"Confirmado",variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-200",icon:Ss}},eb=({status:e,className:t})=>{const r=MFe[e]||{label:e,variant:"outline",className:"bg-gray-100 text-gray-800",icon:Zu},n=r.icon;return s.jsxs(Re,{variant:r.variant,className:`${r.className} ${t} flex items-center gap-1`,children:[s.jsx(n,{className:"h-3 w-3"}),r.label]})},__=({recordId:e,recordType:t,currentInvoiceUrl:r,onSuccess:n})=>{const[a,i]=_.useState(null),[o,l]=_.useState(!1),c=Ni(),{user:u}=Gt(),d=async()=>{if(!(!a||!u)){l(!0);try{const v=`invoices/${`invoice_${t}_${e}_${Date.now()}.pdf`}`,{error:p}=await Z.storage.from("invoices").upload(v,a);if(p)throw p;const{data:{publicUrl:g}}=Z.storage.from("invoices").getPublicUrl(v),x=t==="equipment_booking"?"booking_equipment":t==="booking"?"bookings":"orders",{error:y,data:w}=await Z.from(x).update({invoice_url:g,invoice_uploaded_at:new Date().toISOString(),invoice_uploaded_by:u.id}).eq("id",e).select("user_id").single();if(y)throw y;const{data:b,error:j}=await Z.from("profiles").select("email, first_name, last_name").eq("id",w.user_id).single();if(j)console.warn("Erro ao buscar dados do usurio para email:",j);else try{const{error:N}=await Z.functions.invoke("send-invoice-email",{body:{customerEmail:b.email,customerName:`${b.first_name} ${b.last_name}`,orderId:e,invoiceUrl:g,orderType:t==="equipment_booking"?"Reserva de Equipamento":t==="booking"?"Reserva de Sala":"Pedido"}});N?(console.error("Erro ao enviar email:",N),tt({variant:"destructive",title:"Email no enviado",description:"Nota fiscal salva, mas houve erro no envio do email."})):tt({title:"Nota fiscal enviada",description:"A nota fiscal foi salva e enviada por email para o cliente."})}catch(N){console.error("Erro na funo de email:",N),tt({variant:"destructive",title:"Email no enviado",description:"Nota fiscal salva, mas houve erro no envio do email."})}i(null),c.invalidateQueries({queryKey:[t+"s"]}),n==null||n()}catch(m){console.error("Erro ao enviar nota fiscal:",m),tt({variant:"destructive",title:"Erro ao enviar nota fiscal",description:"Ocorreu um erro ao enviar a nota fiscal. Tente novamente."})}finally{l(!1)}}},f=m=>{var p;const v=(p=m.target.files)==null?void 0:p[0];if(v){if(v.type!=="application/pdf"){tt({variant:"destructive",title:"Arquivo invlido",description:"Por favor, selecione apenas arquivos PDF."});return}if(v.size>10*1024*1024){tt({variant:"destructive",title:"Arquivo muito grande",description:"O arquivo deve ter no mximo 10MB."});return}i(v)}},h=()=>{i(null)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(De,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Hi,{className:"h-4 w-4"}),"Nota Fiscal (PDF)"]}),r&&s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[s.jsx(Hi,{className:"h-4 w-4"}),s.jsx("span",{children:"Ver atual"})]})]}),a?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:a.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(a.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{onClick:d,disabled:o,size:"sm",className:"bg-green-600 hover:bg-green-700",children:o?"Enviando...":"Enviar"}),s.jsx(re,{onClick:h,variant:"outline",size:"sm",className:"p-1",children:s.jsx(Vn,{className:"h-4 w-4"})})]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{type:"file",accept:".pdf",onChange:f,className:"flex-1"}),s.jsx(qL,{className:"h-4 w-4 text-gray-400"})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var tb={};tb.version="0.18.5";var RV=1252,IFe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MV=function(e){IFe.indexOf(e)!=-1&&(RV=e)};function FFe(){MV(1252)}var xv=function(e){MV(e)};function $Fe(){xv(1200),FFe()}var yx=function(t){return String.fromCharCode(t)},$I=function(t){return String.fromCharCode(t)},wu,lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function yv(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=lc.charAt(i)+lc.charAt(o)+lc.charAt(l)+lc.charAt(c);return t}function ml(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=lc.indexOf(e.charAt(u++)),o=lc.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=lc.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=lc.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Yt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Sl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function hd(e){return Yt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function LI(e){return Yt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var gs=function(t){return Yt?Sl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function j_(e){if(typeof ArrayBuffer>"u")return gs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function hg(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function LFe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Gn=Yt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Sl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function BFe(e){for(var t=[],r=0,n=e.length+250,a=hd(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=hd(65535),n=65530)}return t.push(a.slice(0,r)),Gn(t)}var Wp=/\u0000/g,bx=/[\u0001-\u0006]/g;function Ff(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ws(e,t){var r=""+e;return r.length>=t?r:Hr("0",t-r.length)+r}function eP(e,t){var r=""+e;return r.length>=t?r:Hr(" ",t-r.length)+r}function rb(e,t){var r=""+e;return r.length>=t?r:r+Hr(" ",t-r.length)}function UFe(e,t){var r=""+Math.round(e);return r.length>=t?r:Hr("0",t-r.length)+r}function qFe(e,t){var r=""+e;return r.length>=t?r:Hr("0",t-r.length)+r}var BI=Math.pow(2,32);function qd(e,t){if(e>BI||e<-BI)return UFe(e,t);var r=Math.round(e);return qFe(r,t)}function nb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var UI=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],C2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function zFe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qI={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HFe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ab(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function wx(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=QFe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var IV=new Date(1899,11,31,0,0,0),VFe=IV.getTime(),WFe=new Date(1900,2,1,0,0,0);function FV(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=WFe&&(r+=24*60*60*1e3),(r-(VFe+(e.getTimezoneOffset()-IV.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function tP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function GFe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function KFe(e){var t=e<0?12:11,r=tP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function XFe(e){var t=tP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function YFe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=KFe(e):t===10?r=e.toFixed(10).substr(0,12):r=XFe(e),tP(GFe(r.toUpperCase()))}function dC(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):YFe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Mc(14,FV(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function QFe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ZFe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return C2[r.m-1][1];case 5:return C2[r.m-1][0];default:return C2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return UI[r.q][0];default:return UI[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ws(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=ws(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?ws(c,u):"";return d}function cc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var $V=/%/g;function JFe(e,t,r){var n=t.replace($V,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+Hr("%",a)}function e$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function LV(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LV(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BV=/# (\?+)( ?)\/( ?)(\d+)/;function t$e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?Hr(" ",e[1].length+1+e[4].length):eP(o,e[1].length)+e[2]+"/"+e[3]+ws(l,e[4].length))}function r$e(e,t,r){return r+(t===0?"":""+t)+Hr(" ",e[1].length+2+e[4].length)}var UV=/^#*0*\.([0#]+)/,qV=/\).*[0#]/,zV=/\(###\) ###\\?-####/;function ya(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function zI(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function HI(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function n$e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function a$e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Pi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Pi("n",n,r):"("+Pi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return e$e(e,t,r);if(t.indexOf("%")!==-1)return JFe(e,t,r);if(t.indexOf("E")!==-1)return LV(t,r);if(t.charCodeAt(0)===36)return"$"+Pi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+qd(c,t.length);if(t.match(/^[#?]+$/))return a=qd(r,0),a==="0"&&(a=""),a.length>t.length?a:ya(t.substr(0,t.length-a.length))+a;if(i=t.match(BV))return t$e(i,c,u);if(t.match(/^#+0+$/))return u+qd(c,t.length-t.indexOf("0"));if(i=t.match(UV))return a=zI(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ya(i[1])).replace(/\.$/,"."+ya(i[1])).replace(/\.(\d*)$/,function(v,p){return"."+p+Hr("0",ya(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+zI(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cc(qd(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Pi(e,t,-r):cc(""+(Math.floor(r)+n$e(r,i[1].length)))+"."+ws(HI(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Pi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ff(Pi(e,t.replace(/[\\-]/g,""),r)),o=0,Ff(Ff(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(zV))return a=Pi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=ab(c,Math.pow(10,o)-1,!1),a=""+u,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=rb(l[2],o),d.length<i[4].length&&(d=ya(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=ab(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eP(l[1],o)+i[2]+"/"+i[3]+rb(l[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=qd(r,0),t.length<=a.length?a:ya(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ya(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=HI(r,i[1].length),r<0?"-"+Pi(e,t,-r):cc(a$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ws(0,3-v.length):"")+v})+"."+ws(o,i[1].length);switch(t){case"###,##0.00":return Pi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=cc(qd(c,0));return m!=="0"?u+m:"";case"###,###.00":return Pi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Pi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function i$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Xo(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function s$e(e,t,r){var n=t.replace($V,""),a=t.length-n.length;return Xo(e,n,r*Math.pow(10,2*a))+Hr("%",a)}function HV(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HV(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Bs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Bs("n",n,r):"("+Bs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return i$e(e,t,r);if(t.indexOf("%")!==-1)return s$e(e,t,r);if(t.indexOf("E")!==-1)return HV(t,r);if(t.charCodeAt(0)===36)return"$"+Bs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+ws(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ya(t.substr(0,t.length-a.length))+a;if(i=t.match(BV))return r$e(i,c,u);if(t.match(/^#+0+$/))return u+ws(c,t.length-t.indexOf("0"));if(i=t.match(UV))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ya(i[1])).replace(/\.$/,"."+ya(i[1])),a=a.replace(/\.(\d*)$/,function(v,p){return"."+p+Hr("0",ya(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+cc(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Bs(e,t,-r):cc(""+r)+"."+Hr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Bs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ff(Bs(e,t.replace(/[\\-]/g,""),r)),o=0,Ff(Ff(t.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<a.length?a.charAt(o++):v==="0"?"0":""}));if(t.match(zV))return a=Bs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=ab(c,Math.pow(10,o)-1,!1),a=""+u,d=Xo("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=rb(l[2],o),d.length<i[4].length&&(d=ya(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=ab(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?eP(l[1],o)+i[2]+"/"+i[3]+rb(l[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ya(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return ya(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Bs(e,t,-r):cc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ws(0,3-v.length):"")+v})+"."+ws(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=cc(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Bs(e,t.slice(0,t.lastIndexOf(".")),r)+ya(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Xo(e,t,r){return(r|0)===r?Bs(e,t,r):Pi(e,t,r)}function o$e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var VV=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function WV(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":nb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(VV))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function l$e(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!nb(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),v=m==="("||m===")"?m:"t";a[a.length]={t:v,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=wx(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=wx(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=wx(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(VV)){if(u==null&&(u=wx(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",WV(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,x=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=ZFe(a[o].t.charCodeAt(0),a[o].v,u,x),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=dC(t,r);break}var j="",N,S;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,S=Xo("n",w,N)):(N=t<0&&n>1?-t:t,S=Xo("n",w,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),b=S.length-1;var E=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){E=o;break}var C=a.length;if(E===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=S.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=S.substr(0,b+1),b=-1),a[o].t="t",C=o);b>=0&&C<a.length&&(a[C].v=S.substr(0,b+1)+a[C].v)}else if(E!==a.length&&S.indexOf("E")===-1){for(b=S.indexOf(".")-1,o=E;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)b>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=S.charAt(b--)+j);a[o].v=j,a[o].t="t",C=o}for(b>=0&&C<a.length&&(a[C].v=S.substr(0,b+1)+a[C].v),b=S.indexOf(".")+1,o=E;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==E)){for(d=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)b<S.length&&(j+=S.charAt(b++));a[o].v=j,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Xo(a[o].t,a[o].v,N),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var VI=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function WI(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function c$e(e,t){var r=o$e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(VI),l=r[1].match(VI);return WI(t,o)?[n,r[0]]:WI(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function Mc(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[e],n==null&&(n=r.table&&r.table[qI[e]]||Gr[qI[e]]),n==null&&(n=HFe[e]||"General");break}if(nb(n,0))return dC(t,r);t instanceof Date&&(t=FV(t,r.date1904));var a=c$e(n,t);if(nb(a[1]))return dC(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return l$e(a[1],t,r,a[0])}function GV(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gr[r]==null){t<0&&(t=r);continue}if(Gr[r]==e){t=r;break}}t<0&&(t=391)}return Gr[t]=e,t}function S_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&GV(e[t],t)}function N_(){Gr=zFe()}var KV=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function u$e(e){var t=typeof e=="number"?Gr[e]:e;return t=t.replace(KV,"(\\d+)"),new RegExp("^"+t+"$")}function d$e(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(KV)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var f$e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,E=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,E[C]=S;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(S){var E=0,C=0,T=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)A[T]=S[T];for(T=0;T!=256;++T)for(C=S[T],E=256+T;E<4096;E+=256)C=A[E]=C>>>8^S[C&255];var k=[];for(T=1;T!=16;++T)k[T-1]=typeof Int32Array<"u"?A.subarray(T*256,T*256+256):A.slice(T*256,T*256+256);return k}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],v=a[9],p=a[10],g=a[11],x=a[12],y=a[13],w=a[14];function b(S,E){for(var C=E^-1,T=0,A=S.length;T<A;)C=C>>>8^r[(C^S.charCodeAt(T++))&255];return~C}function j(S,E){for(var C=E^-1,T=S.length-15,A=0;A<T;)C=w[S[A++]^C&255]^y[S[A++]^C>>8&255]^x[S[A++]^C>>16&255]^g[S[A++]^C>>>24]^p[S[A++]]^v[S[A++]]^m[S[A++]]^h[S[A++]]^f[S[A++]]^d[S[A++]]^u[S[A++]]^c[S[A++]]^l[S[A++]]^o[S[A++]]^i[S[A++]]^r[S[A++]];for(T+=15;A<T;)C=C>>>8^r[(C^S[A++])&255];return~C}function N(S,E){for(var C=E^-1,T=0,A=S.length,k=0,P=0;T<A;)k=S.charCodeAt(T++),k<128?C=C>>>8^r[(C^k)&255]:k<2048?(C=C>>>8^r[(C^(192|k>>6&31))&255],C=C>>>8^r[(C^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,P=S.charCodeAt(T++)&1023,C=C>>>8^r[(C^(240|k>>8&7))&255],C=C>>>8^r[(C^(128|k>>2&63))&255],C=C>>>8^r[(C^(128|P>>6&15|(k&3)<<4))&255],C=C>>>8^r[(C^(128|P&63))&255]):(C=C>>>8^r[(C^(224|k>>12&15))&255],C=C>>>8^r[(C^(128|k>>6&63))&255],C=C>>>8^r[(C^(128|k&63))&255]);return~C}return e.table=r,e.bstr=b,e.buf=j,e.str=N,e}(),hr=function(){var t={};t.version="1.2.1";function r(R,z){for(var U=R.split("/"),q=z.split("/"),H=0,V=0,le=Math.min(U.length,q.length);H<le;++H){if(V=U[H].length-q[H].length)return V;if(U[H]!=q[H])return U[H]<q[H]?-1:1}return U.length-q.length}function n(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:n(R.slice(0,-1));var z=R.lastIndexOf("/");return z===-1?R:R.slice(0,z+1)}function a(R){if(R.charAt(R.length-1)=="/")return a(R.slice(0,-1));var z=R.lastIndexOf("/");return z===-1?R:R.slice(z+1)}function i(R,z){typeof z=="string"&&(z=new Date(z));var U=z.getHours();U=U<<6|z.getMinutes(),U=U<<5|z.getSeconds()>>>1,R.write_shift(2,U);var q=z.getFullYear()-1980;q=q<<4|z.getMonth()+1,q=q<<5|z.getDate(),R.write_shift(2,q)}function o(R){var z=R.read_shift(2)&65535,U=R.read_shift(2)&65535,q=new Date,H=U&31;U>>>=5;var V=U&15;U>>>=4,q.setMilliseconds(0),q.setFullYear(U+1980),q.setMonth(V-1),q.setDate(H);var le=z&31;z>>>=5;var ge=z&63;return z>>>=6,q.setHours(z),q.setMinutes(ge),q.setSeconds(le<<1),q}function l(R){ci(R,0);for(var z={},U=0;R.l<=R.length-4;){var q=R.read_shift(2),H=R.read_shift(2),V=R.l+H,le={};switch(q){case 21589:U=R.read_shift(1),U&1&&(le.mtime=R.read_shift(4)),H>5&&(U&2&&(le.atime=R.read_shift(4)),U&4&&(le.ctime=R.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}R.l=V,z[q]=le}return z}var c;function u(){return c||(c={})}function d(R,z){if(R[0]==80&&R[1]==75)return tr(R,z);if((R[0]|32)==109&&(R[1]|32)==105)return WG(R,z);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var U=3,q=512,H=0,V=0,le=0,ge=0,oe=0,ue=[],fe=R.slice(0,512);ci(fe,0);var Ne=f(fe);switch(U=Ne[0],U){case 3:q=512;break;case 4:q=4096;break;case 0:if(Ne[1]==0)return tr(R,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}q!==512&&(fe=R.slice(0,q),ci(fe,28));var ze=R.slice(0,q);h(fe,U);var Qe=fe.read_shift(4,"i");if(U===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);fe.l+=4,le=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),ge=fe.read_shift(4,"i"),H=fe.read_shift(4,"i"),oe=fe.read_shift(4,"i"),V=fe.read_shift(4,"i");for(var Me=-1,Ve=0;Ve<109&&(Me=fe.read_shift(4,"i"),!(Me<0));++Ve)ue[Ve]=Me;var bt=m(R,q);g(oe,V,bt,q,ue);var Or=y(bt,le,ue,q);Or[le].name="!Directory",H>0&&ge!==P&&(Or[ge].name="!MiniFAT"),Or[ue[0]].name="!FAT",Or.fat_addrs=ue,Or.ssz=q;var Dr={},Jn=[],Fm=[],$m=[];w(le,Or,bt,Jn,H,Dr,Fm,ge),v(Fm,$m,Jn),Jn.shift();var Lm={FileIndex:Fm,FullPaths:$m};return z&&z.raw&&(Lm.raw={header:ze,sectors:bt}),Lm}function f(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(L,"Header Signature: "),R.l+=16;var z=R.read_shift(2,"u");return[R.read_shift(2,"u"),z]}function h(R,z){var U=9;switch(R.l+=2,U=R.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function m(R,z){for(var U=Math.ceil(R.length/z)-1,q=[],H=1;H<U;++H)q[H-1]=R.slice(H*z,(H+1)*z);return q[U-1]=R.slice(U*z),q}function v(R,z,U){for(var q=0,H=0,V=0,le=0,ge=0,oe=U.length,ue=[],fe=[];q<oe;++q)ue[q]=fe[q]=q,z[q]=U[q];for(;ge<fe.length;++ge)q=fe[ge],H=R[q].L,V=R[q].R,le=R[q].C,ue[q]===q&&(H!==-1&&ue[H]!==H&&(ue[q]=ue[H]),V!==-1&&ue[V]!==V&&(ue[q]=ue[V])),le!==-1&&(ue[le]=q),H!==-1&&q!=ue[q]&&(ue[H]=ue[q],fe.lastIndexOf(H)<ge&&fe.push(H)),V!==-1&&q!=ue[q]&&(ue[V]=ue[q],fe.lastIndexOf(V)<ge&&fe.push(V));for(q=1;q<oe;++q)ue[q]===q&&(V!==-1&&ue[V]!==V?ue[q]=ue[V]:H!==-1&&ue[H]!==H&&(ue[q]=ue[H]));for(q=1;q<oe;++q)if(R[q].type!==0){if(ge=q,ge!=ue[ge])do ge=ue[ge],z[q]=z[ge]+"/"+z[q];while(ge!==0&&ue[ge]!==-1&&ge!=ue[ge]);ue[q]=-1}for(z[0]+="/",q=1;q<oe;++q)R[q].type!==2&&(z[q]+="/")}function p(R,z,U){for(var q=R.start,H=R.size,V=[],le=q;U&&H>0&&le>=0;)V.push(z.slice(le*k,le*k+k)),H-=k,le=_u(U,le*4);return V.length===0?pe(0):Gn(V).slice(0,R.size)}function g(R,z,U,q,H){var V=P;if(R===P){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var le=U[R],ge=(q>>>2)-1;if(!le)return;for(var oe=0;oe<ge&&(V=_u(le,oe*4))!==P;++oe)H.push(V);g(_u(le,q-4),z-1,U,q,H)}}function x(R,z,U,q,H){var V=[],le=[];H||(H=[]);var ge=q-1,oe=0,ue=0;for(oe=z;oe>=0;){H[oe]=!0,V[V.length]=oe,le.push(R[oe]);var fe=U[Math.floor(oe*4/q)];if(ue=oe*4&ge,q<4+ue)throw new Error("FAT boundary crossed: "+oe+" 4 "+q);if(!R[fe])break;oe=_u(R[fe],ue)}return{nodes:V,data:eF([le])}}function y(R,z,U,q){var H=R.length,V=[],le=[],ge=[],oe=[],ue=q-1,fe=0,Ne=0,ze=0,Qe=0;for(fe=0;fe<H;++fe)if(ge=[],ze=fe+z,ze>=H&&(ze-=H),!le[ze]){oe=[];var Me=[];for(Ne=ze;Ne>=0;){Me[Ne]=!0,le[Ne]=!0,ge[ge.length]=Ne,oe.push(R[Ne]);var Ve=U[Math.floor(Ne*4/q)];if(Qe=Ne*4&ue,q<4+Qe)throw new Error("FAT boundary crossed: "+Ne+" 4 "+q);if(!R[Ve]||(Ne=_u(R[Ve],Qe),Me[Ne]))break}V[ze]={nodes:ge,data:eF([oe])}}return V}function w(R,z,U,q,H,V,le,ge){for(var oe=0,ue=q.length?2:0,fe=z[R].data,Ne=0,ze=0,Qe;Ne<fe.length;Ne+=128){var Me=fe.slice(Ne,Ne+128);ci(Me,64),ze=Me.read_shift(2),Qe=sP(Me,0,ze-ue),q.push(Qe);var Ve={name:Qe,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},bt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);bt!==0&&(Ve.ct=b(Me,Me.l-8));var Or=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);Or!==0&&(Ve.mt=b(Me,Me.l-8)),Ve.start=Me.read_shift(4,"i"),Ve.size=Me.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=P,Ve.name=""),Ve.type===5?(oe=Ve.start,H>0&&oe!==P&&(z[oe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",z[Ve.start]===void 0&&(z[Ve.start]=x(U,Ve.start,z.fat_addrs,z.ssz)),z[Ve.start].name=Ve.name,Ve.content=z[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:oe!==P&&Ve.start!==P&&z[oe]&&(Ve.content=p(Ve,z[oe].data,(z[ge]||{}).data))),Ve.content&&ci(Ve.content,0),V[Qe]=Ve,le.push(Ve)}}function b(R,z){return new Date((fi(R,z+4)/1e7*Math.pow(2,32)+fi(R,z)/1e7-11644473600)*1e3)}function j(R,z){return u(),d(c.readFileSync(R),z)}function N(R,z){var U=z&&z.type;switch(U||Yt&&Buffer.isBuffer(R)&&(U="buffer"),U||"base64"){case"file":return j(R,z);case"base64":return d(gs(ml(R)),z);case"binary":return d(gs(R),z)}return d(R,z)}function S(R,z){var U=z||{},q=U.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=q+"/",R.FileIndex[0]={name:q,type:5}),U.CLSID&&(R.FileIndex[0].clsid=U.CLSID),E(R)}function E(R){var z="Sh33tJ5";if(!hr.find(R,"/"+z)){var U=pe(4);U[0]=55,U[1]=U[3]=50,U[2]=54,R.FileIndex.push({name:z,type:2,content:U,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+z),C(R)}}function C(R,z){S(R);for(var U=!1,q=!1,H=R.FullPaths.length-1;H>=0;--H){var V=R.FileIndex[H];switch(V.type){case 0:q?U=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(V.R*V.L*V.C)&&(U=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!z)){var le=new Date(1987,1,19),ge=0,oe=Object.create?Object.create(null):{},ue=[];for(H=0;H<R.FullPaths.length;++H)oe[R.FullPaths[H]]=!0,R.FileIndex[H].type!==0&&ue.push([R.FullPaths[H],R.FileIndex[H]]);for(H=0;H<ue.length;++H){var fe=n(ue[H][0]);q=oe[fe],q||(ue.push([fe,{name:a(fe).replace("/",""),type:1,clsid:M,ct:le,mt:le,content:null}]),oe[fe]=!0)}for(ue.sort(function(Qe,Me){return r(Qe[0],Me[0])}),R.FullPaths=[],R.FileIndex=[],H=0;H<ue.length;++H)R.FullPaths[H]=ue[H][0],R.FileIndex[H]=ue[H][1];for(H=0;H<ue.length;++H){var Ne=R.FileIndex[H],ze=R.FullPaths[H];if(Ne.name=a(ze).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||M,H===0)Ne.C=ue.length>1?1:-1,Ne.size=0,Ne.type=5;else if(ze.slice(-1)=="/"){for(ge=H+1;ge<ue.length&&n(R.FullPaths[ge])!=ze;++ge);for(Ne.C=ge>=ue.length?-1:ge,ge=H+1;ge<ue.length&&n(R.FullPaths[ge])!=n(ze);++ge);Ne.R=ge>=ue.length?-1:ge,Ne.type=1}else n(R.FullPaths[H+1]||"")==n(ze)&&(Ne.R=H+1),Ne.type=2}}}function T(R,z){var U=z||{};if(U.fileType=="mad")return GG(R,U);switch(C(R),U.fileType){case"zip":return Ci(R,U)}var q=function(Qe){for(var Me=0,Ve=0,bt=0;bt<Qe.FileIndex.length;++bt){var Or=Qe.FileIndex[bt];if(Or.content){var Dr=Or.content.length;Dr>0&&(Dr<4096?Me+=Dr+63>>6:Ve+=Dr+511>>9)}}for(var Jn=Qe.FullPaths.length+3>>2,Fm=Me+7>>3,$m=Me+127>>7,Lm=Fm+Ve+Jn+$m,nu=Lm+127>>7,z_=nu<=109?0:Math.ceil((nu-109)/127);Lm+nu+z_+127>>7>nu;)z_=++nu<=109?0:Math.ceil((nu-109)/127);var Eo=[1,z_,nu,$m,Jn,Ve,Me,0];return Qe.FileIndex[0].size=Me<<6,Eo[7]=(Qe.FileIndex[0].start=Eo[0]+Eo[1]+Eo[2]+Eo[3]+Eo[4]+Eo[5])+(Eo[6]+7>>3),Eo}(R),H=pe(q[7]<<9),V=0,le=0;{for(V=0;V<8;++V)H.write_shift(1,B[V]);for(V=0;V<8;++V)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),V=0;V<3;++V)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,q[2]),H.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:P),H.write_shift(4,q[3]),H.write_shift(-4,q[1]?q[0]-1:P),H.write_shift(4,q[1]),V=0;V<109;++V)H.write_shift(-4,V<q[2]?q[1]+V:-1)}if(q[1])for(le=0;le<q[1];++le){for(;V<236+le*127;++V)H.write_shift(-4,V<q[2]?q[1]+V:-1);H.write_shift(-4,le===q[1]-1?P:le+1)}var ge=function(Qe){for(le+=Qe;V<le-1;++V)H.write_shift(-4,V+1);Qe&&(++V,H.write_shift(-4,P))};for(le=V=0,le+=q[1];V<le;++V)H.write_shift(-4,D.DIFSECT);for(le+=q[2];V<le;++V)H.write_shift(-4,D.FATSECT);ge(q[3]),ge(q[4]);for(var oe=0,ue=0,fe=R.FileIndex[0];oe<R.FileIndex.length;++oe)fe=R.FileIndex[oe],fe.content&&(ue=fe.content.length,!(ue<4096)&&(fe.start=le,ge(ue+511>>9)));for(ge(q[6]+7>>3);H.l&511;)H.write_shift(-4,D.ENDOFCHAIN);for(le=V=0,oe=0;oe<R.FileIndex.length;++oe)fe=R.FileIndex[oe],fe.content&&(ue=fe.content.length,!(!ue||ue>=4096)&&(fe.start=le,ge(ue+63>>6)));for(;H.l&511;)H.write_shift(-4,D.ENDOFCHAIN);for(V=0;V<q[4]<<2;++V){var Ne=R.FullPaths[V];if(!Ne||Ne.length===0){for(oe=0;oe<17;++oe)H.write_shift(4,0);for(oe=0;oe<3;++oe)H.write_shift(4,-1);for(oe=0;oe<12;++oe)H.write_shift(4,0);continue}fe=R.FileIndex[V],V===0&&(fe.start=fe.size?fe.start-1:P);var ze=V===0&&U.root||fe.name;if(ue=2*(ze.length+1),H.write_shift(64,ze,"utf16le"),H.write_shift(2,ue),H.write_shift(1,fe.type),H.write_shift(1,fe.color),H.write_shift(-4,fe.L),H.write_shift(-4,fe.R),H.write_shift(-4,fe.C),fe.clsid)H.write_shift(16,fe.clsid,"hex");else for(oe=0;oe<4;++oe)H.write_shift(4,0);H.write_shift(4,fe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,fe.start),H.write_shift(4,fe.size),H.write_shift(4,0)}for(V=1;V<R.FileIndex.length;++V)if(fe=R.FileIndex[V],fe.size>=4096)if(H.l=fe.start+1<<9,Yt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+511&-512;else{for(oe=0;oe<fe.size;++oe)H.write_shift(1,fe.content[oe]);for(;oe&511;++oe)H.write_shift(1,0)}for(V=1;V<R.FileIndex.length;++V)if(fe=R.FileIndex[V],fe.size>0&&fe.size<4096)if(Yt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+63&-64;else{for(oe=0;oe<fe.size;++oe)H.write_shift(1,fe.content[oe]);for(;oe&63;++oe)H.write_shift(1,0)}if(Yt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function A(R,z){var U=R.FullPaths.map(function(oe){return oe.toUpperCase()}),q=U.map(function(oe){var ue=oe.split("/");return ue[ue.length-(oe.slice(-1)=="/"?2:1)]}),H=!1;z.charCodeAt(0)===47?(H=!0,z=U[0].slice(0,-1)+z):H=z.indexOf("/")!==-1;var V=z.toUpperCase(),le=H===!0?U.indexOf(V):q.indexOf(V);if(le!==-1)return R.FileIndex[le];var ge=!V.match(bx);for(V=V.replace(Wp,""),ge&&(V=V.replace(bx,"!")),le=0;le<U.length;++le)if((ge?U[le].replace(bx,"!"):U[le]).replace(Wp,"")==V||(ge?q[le].replace(bx,"!"):q[le]).replace(Wp,"")==V)return R.FileIndex[le];return null}var k=64,P=-2,L="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",D={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function O(R,z,U){u();var q=T(R,U);c.writeFileSync(z,q)}function W(R){for(var z=new Array(R.length),U=0;U<R.length;++U)z[U]=String.fromCharCode(R[U]);return z.join("")}function ne(R,z){var U=T(R,z);switch(z&&z.type||"buffer"){case"file":return u(),c.writeFileSync(z.filename,U),U;case"binary":return typeof U=="string"?U:W(U);case"base64":return yv(typeof U=="string"?U:W(U));case"buffer":if(Yt)return Buffer.isBuffer(U)?U:Sl(U);case"array":return typeof U=="string"?gs(U):U}return U}var ee;function I(R){try{var z=R.InflateRaw,U=new z;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ee=R;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function X(R,z){if(!ee)return gt(R,z);var U=ee.InflateRaw,q=new U,H=q._processChunk(R.slice(R.l),q._finishFlushFlag);return R.l+=q.bytesRead,H}function Y(R){return ee?ee.deflateRawSync(R):jo(R)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(R){var z=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(z>>16|z>>8|z)&255}for(var se=typeof Uint8Array<"u",G=se?new Uint8Array(256):[],ye=0;ye<256;++ye)G[ye]=we(ye);function ae(R,z){var U=G[R&255];return z<=8?U>>>8-z:(U=U<<8|G[R>>8&255],z<=16?U>>>16-z:(U=U<<8|G[R>>16&255],U>>>24-z))}function et(R,z){var U=z&7,q=z>>>3;return(R[q]|(U<=6?0:R[q+1]<<8))>>>U&3}function Le(R,z){var U=z&7,q=z>>>3;return(R[q]|(U<=5?0:R[q+1]<<8))>>>U&7}function yt(R,z){var U=z&7,q=z>>>3;return(R[q]|(U<=4?0:R[q+1]<<8))>>>U&15}function rt(R,z){var U=z&7,q=z>>>3;return(R[q]|(U<=3?0:R[q+1]<<8))>>>U&31}function Te(R,z){var U=z&7,q=z>>>3;return(R[q]|(U<=1?0:R[q+1]<<8))>>>U&127}function K(R,z,U){var q=z&7,H=z>>>3,V=(1<<U)-1,le=R[H]>>>q;return U<8-q||(le|=R[H+1]<<8-q,U<16-q)||(le|=R[H+2]<<16-q,U<24-q)||(le|=R[H+3]<<24-q),le&V}function te(R,z,U){var q=z&7,H=z>>>3;return q<=5?R[H]|=(U&7)<<q:(R[H]|=U<<q&255,R[H+1]=(U&7)>>8-q),z+3}function ce(R,z,U){var q=z&7,H=z>>>3;return U=(U&1)<<q,R[H]|=U,z+1}function Pe(R,z,U){var q=z&7,H=z>>>3;return U<<=q,R[H]|=U&255,U>>>=8,R[H+1]=U,z+8}function Ie(R,z,U){var q=z&7,H=z>>>3;return U<<=q,R[H]|=U&255,U>>>=8,R[H+1]=U&255,R[H+2]=U>>>8,z+16}function _e(R,z){var U=R.length,q=2*U>z?2*U:z+5,H=0;if(U>=z)return R;if(Yt){var V=LI(q);if(R.copy)R.copy(V);else for(;H<R.length;++H)V[H]=R[H];return V}else if(se){var le=new Uint8Array(q);if(le.set)le.set(R);else for(;H<U;++H)le[H]=R[H];return le}return R.length=q,R}function Ye(R){for(var z=new Array(R),U=0;U<R;++U)z[U]=0;return z}function vt(R,z,U){var q=1,H=0,V=0,le=0,ge=0,oe=R.length,ue=se?new Uint16Array(32):Ye(32);for(V=0;V<32;++V)ue[V]=0;for(V=oe;V<U;++V)R[V]=0;oe=R.length;var fe=se?new Uint16Array(oe):Ye(oe);for(V=0;V<oe;++V)ue[H=R[V]]++,q<H&&(q=H),fe[V]=0;for(ue[0]=0,V=1;V<=q;++V)ue[V+16]=ge=ge+ue[V-1]<<1;for(V=0;V<oe;++V)ge=R[V],ge!=0&&(fe[V]=ue[ge+16]++);var Ne=0;for(V=0;V<oe;++V)if(Ne=R[V],Ne!=0)for(ge=ae(fe[V],q)>>q-Ne,le=(1<<q+4-Ne)-1;le>=0;--le)z[ge|le<<Ne]=Ne&15|V<<4;return q}var pr=se?new Uint16Array(512):Ye(512),er=se?new Uint16Array(32):Ye(32);if(!se){for(var Sn=0;Sn<512;++Sn)pr[Sn]=0;for(Sn=0;Sn<32;++Sn)er[Sn]=0}(function(){for(var R=[],z=0;z<32;z++)R.push(5);vt(R,er,32);var U=[];for(z=0;z<=143;z++)U.push(8);for(;z<=255;z++)U.push(9);for(;z<=279;z++)U.push(7);for(;z<=287;z++)U.push(8);vt(U,pr,288)})();var Is=function(){for(var z=se?new Uint8Array(32768):[],U=0,q=0;U<he.length-1;++U)for(;q<he[U+1];++q)z[q]=U;for(;q<32768;++q)z[q]=29;var H=se?new Uint8Array(259):[];for(U=0,q=0;U<ie.length-1;++U)for(;q<ie[U+1];++q)H[q]=U;function V(ge,oe){for(var ue=0;ue<ge.length;){var fe=Math.min(65535,ge.length-ue),Ne=ue+fe==ge.length;for(oe.write_shift(1,+Ne),oe.write_shift(2,fe),oe.write_shift(2,~fe&65535);fe-- >0;)oe[oe.l++]=ge[ue++]}return oe.l}function le(ge,oe){for(var ue=0,fe=0,Ne=se?new Uint16Array(32768):[];fe<ge.length;){var ze=Math.min(65535,ge.length-fe);if(ze<10){for(ue=te(oe,ue,+(fe+ze==ge.length)),ue&7&&(ue+=8-(ue&7)),oe.l=ue/8|0,oe.write_shift(2,ze),oe.write_shift(2,~ze&65535);ze-- >0;)oe[oe.l++]=ge[fe++];ue=oe.l*8;continue}ue=te(oe,ue,+(fe+ze==ge.length)+2);for(var Qe=0;ze-- >0;){var Me=ge[fe];Qe=(Qe<<5^Me)&32767;var Ve=-1,bt=0;if((Ve=Ne[Qe])&&(Ve|=fe&-32768,Ve>fe&&(Ve-=32768),Ve<fe))for(;ge[Ve+bt]==ge[fe+bt]&&bt<250;)++bt;if(bt>2){Me=H[bt],Me<=22?ue=Pe(oe,ue,G[Me+1]>>1)-1:(Pe(oe,ue,3),ue+=5,Pe(oe,ue,G[Me-23]>>5),ue+=3);var Or=Me<8?0:Me-4>>2;Or>0&&(Ie(oe,ue,bt-ie[Me]),ue+=Or),Me=z[fe-Ve],ue=Pe(oe,ue,G[Me]>>3),ue-=3;var Dr=Me<4?0:Me-2>>1;Dr>0&&(Ie(oe,ue,fe-Ve-he[Me]),ue+=Dr);for(var Jn=0;Jn<bt;++Jn)Ne[Qe]=fe&32767,Qe=(Qe<<5^ge[fe])&32767,++fe;ze-=bt-1}else Me<=143?Me=Me+48:ue=ce(oe,ue,1),ue=Pe(oe,ue,G[Me]),Ne[Qe]=fe&32767,++fe}ue=Pe(oe,ue,0)-1}return oe.l=(ue+7)/8|0,oe.l}return function(oe,ue){return oe.length<8?V(oe,ue):le(oe,ue)}}();function jo(R){var z=pe(50+Math.floor(R.length*1.1)),U=Is(R,z);return z.slice(0,U)}var El=se?new Uint16Array(32768):Ye(32768),ru=se?new Uint16Array(32768):Ye(32768),Cl=se?new Uint16Array(128):Ye(128),Ad=1,So=1;function Fs(R,z){var U=rt(R,z)+257;z+=5;var q=rt(R,z)+1;z+=5;var H=yt(R,z)+4;z+=4;for(var V=0,le=se?new Uint8Array(19):Ye(19),ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ue=se?new Uint8Array(8):Ye(8),fe=se?new Uint8Array(8):Ye(8),Ne=le.length,ze=0;ze<H;++ze)le[Q[ze]]=V=Le(R,z),oe<V&&(oe=V),ue[V]++,z+=3;var Qe=0;for(ue[0]=0,ze=1;ze<=oe;++ze)fe[ze]=Qe=Qe+ue[ze-1]<<1;for(ze=0;ze<Ne;++ze)(Qe=le[ze])!=0&&(ge[ze]=fe[Qe]++);var Me=0;for(ze=0;ze<Ne;++ze)if(Me=le[ze],Me!=0){Qe=G[ge[ze]]>>8-Me;for(var Ve=(1<<7-Me)-1;Ve>=0;--Ve)Cl[Qe|Ve<<Me]=Me&7|ze<<3}var bt=[];for(oe=1;bt.length<U+q;)switch(Qe=Cl[Te(R,z)],z+=Qe&7,Qe>>>=3){case 16:for(V=3+et(R,z),z+=2,Qe=bt[bt.length-1];V-- >0;)bt.push(Qe);break;case 17:for(V=3+Le(R,z),z+=3;V-- >0;)bt.push(0);break;case 18:for(V=11+Te(R,z),z+=7;V-- >0;)bt.push(0);break;default:bt.push(Qe),oe<Qe&&(oe=Qe);break}var Or=bt.slice(0,U),Dr=bt.slice(U);for(ze=U;ze<286;++ze)Or[ze]=0;for(ze=q;ze<30;++ze)Dr[ze]=0;return Ad=vt(Or,El,286),So=vt(Dr,ru,30),z}function B_(R,z){if(R[0]==3&&!(R[1]&3))return[hd(z),2];for(var U=0,q=0,H=LI(z||1<<18),V=0,le=H.length>>>0,ge=0,oe=0;!(q&1);){if(q=Le(R,U),U+=3,q>>>1)q>>1==1?(ge=9,oe=5):(U=Fs(R,U),ge=Ad,oe=So);else{U&7&&(U+=8-(U&7));var ue=R[U>>>3]|R[(U>>>3)+1]<<8;if(U+=32,ue>0)for(!z&&le<V+ue&&(H=_e(H,V+ue),le=H.length);ue-- >0;)H[V++]=R[U>>>3],U+=8;continue}for(;;){!z&&le<V+32767&&(H=_e(H,V+32767),le=H.length);var fe=K(R,U,ge),Ne=q>>>1==1?pr[fe]:El[fe];if(U+=Ne&15,Ne>>>=4,!(Ne>>>8&255))H[V++]=Ne;else{if(Ne==256)break;Ne-=257;var ze=Ne<8?0:Ne-4>>2;ze>5&&(ze=0);var Qe=V+ie[Ne];ze>0&&(Qe+=K(R,U,ze),U+=ze),fe=K(R,U,oe),Ne=q>>>1==1?er[fe]:ru[fe],U+=Ne&15,Ne>>>=4;var Me=Ne<4?0:Ne-2>>1,Ve=he[Ne];for(Me>0&&(Ve+=K(R,U,Me),U+=Me),!z&&le<Qe&&(H=_e(H,Qe+100),le=H.length);V<Qe;)H[V]=H[V-Ve],++V}}}return z?[H,U+7>>>3]:[H.slice(0,V),U+7>>>3]}function gt(R,z){var U=R.slice(R.l||0),q=B_(U,z);return R.l+=q[1],q[0]}function dr(R,z){if(R)typeof console<"u"&&console.error(z);else throw new Error(z)}function tr(R,z){var U=R;ci(U,0);var q=[],H=[],V={FileIndex:q,FullPaths:H};S(V,{root:z.root});for(var le=U.length-4;(U[le]!=80||U[le+1]!=75||U[le+2]!=5||U[le+3]!=6)&&le>=0;)--le;U.l=le+4,U.l+=4;var ge=U.read_shift(2);U.l+=6;var oe=U.read_shift(4);for(U.l=oe,le=0;le<ge;++le){U.l+=20;var ue=U.read_shift(4),fe=U.read_shift(4),Ne=U.read_shift(2),ze=U.read_shift(2),Qe=U.read_shift(2);U.l+=8;var Me=U.read_shift(4),Ve=l(U.slice(U.l+Ne,U.l+Ne+ze));U.l+=Ne+ze+Qe;var bt=U.l;U.l=Me+4,Ei(U,ue,fe,V,Ve),U.l=bt}return V}function Ei(R,z,U,q,H){R.l+=2;var V=R.read_shift(2),le=R.read_shift(2),ge=o(R);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var oe=R.read_shift(4),ue=R.read_shift(4),fe=R.read_shift(4),Ne=R.read_shift(2),ze=R.read_shift(2),Qe="",Me=0;Me<Ne;++Me)Qe+=String.fromCharCode(R[R.l++]);if(ze){var Ve=l(R.slice(R.l,R.l+ze));(Ve[21589]||{}).mt&&(ge=Ve[21589].mt),((H||{})[21589]||{}).mt&&(ge=H[21589].mt)}R.l+=ze;var bt=R.slice(R.l,R.l+ue);switch(le){case 8:bt=X(R,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var Or=!1;V&8&&(oe=R.read_shift(4),oe==134695760&&(oe=R.read_shift(4),Or=!0),ue=R.read_shift(4),fe=R.read_shift(4)),ue!=z&&dr(Or,"Bad compressed size: "+z+" != "+ue),fe!=U&&dr(Or,"Bad uncompressed size: "+U+" != "+fe),q_(q,Qe,bt,{unsafe:!0,mt:ge})}function Ci(R,z){var U=z||{},q=[],H=[],V=pe(1),le=U.compression?8:0,ge=0,oe=0,ue=0,fe=0,Ne=0,ze=R.FullPaths[0],Qe=ze,Me=R.FileIndex[0],Ve=[],bt=0;for(oe=1;oe<R.FullPaths.length;++oe)if(Qe=R.FullPaths[oe].slice(ze.length),Me=R.FileIndex[oe],!(!Me.size||!Me.content||Qe=="Sh33tJ5")){var Or=fe,Dr=pe(Qe.length);for(ue=0;ue<Qe.length;++ue)Dr.write_shift(1,Qe.charCodeAt(ue)&127);Dr=Dr.slice(0,Dr.l),Ve[Ne]=f$e.buf(Me.content,0);var Jn=Me.content;le==8&&(Jn=Y(Jn)),V=pe(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,ge),V.write_shift(2,le),Me.mt?i(V,Me.mt):V.write_shift(4,0),V.write_shift(-4,Ve[Ne]),V.write_shift(4,Jn.length),V.write_shift(4,Me.content.length),V.write_shift(2,Dr.length),V.write_shift(2,0),fe+=V.length,q.push(V),fe+=Dr.length,q.push(Dr),fe+=Jn.length,q.push(Jn),V=pe(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,ge),V.write_shift(2,le),V.write_shift(4,0),V.write_shift(-4,Ve[Ne]),V.write_shift(4,Jn.length),V.write_shift(4,Me.content.length),V.write_shift(2,Dr.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,Or),bt+=V.l,H.push(V),bt+=Dr.length,H.push(Dr),++Ne}return V=pe(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,Ne),V.write_shift(2,Ne),V.write_shift(4,bt),V.write_shift(4,fe),V.write_shift(2,0),Gn([Gn(q),Gn(H),V])}var No={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function U_(R,z){if(R.ctype)return R.ctype;var U=R.name||"",q=U.match(/\.([^\.]+)$/);return q&&No[q[1]]||z&&(q=(U=z).match(/[\.\\]([^\.\\])+$/),q&&No[q[1]])?No[q[1]]:"application/octet-stream"}function qG(R){for(var z=yv(R),U=[],q=0;q<z.length;q+=76)U.push(z.slice(q,q+76));return U.join(`\r
`)+`\r
`}function zG(R){var z=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ue){var fe=ue.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],q=z.split(`\r
`),H=0;H<q.length;++H){var V=q[H];if(V.length==0){U.push("");continue}for(var le=0;le<V.length;){var ge=76,oe=V.slice(le,le+ge);oe.charAt(ge-1)=="="?ge--:oe.charAt(ge-2)=="="?ge-=2:oe.charAt(ge-3)=="="&&(ge-=3),oe=V.slice(le,le+ge),le+=ge,le<V.length&&(oe+="="),U.push(oe)}}return U.join(`\r
`)}function HG(R){for(var z=[],U=0;U<R.length;++U){for(var q=R[U];U<=R.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+R[++U];z.push(q)}for(var H=0;H<z.length;++H)z[H]=z[H].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return gs(z.join(`\r
`))}function VG(R,z,U){for(var q="",H="",V="",le,ge=0;ge<10;++ge){var oe=z[ge];if(!oe||oe.match(/^\s*$/))break;var ue=oe.match(/^(.*?):\s*([^\s].*)$/);if(ue)switch(ue[1].toLowerCase()){case"content-location":q=ue[2].trim();break;case"content-type":V=ue[2].trim();break;case"content-transfer-encoding":H=ue[2].trim();break}}switch(++ge,H.toLowerCase()){case"base64":le=gs(ml(z.slice(ge).join("")));break;case"quoted-printable":le=HG(z.slice(ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var fe=q_(R,q.slice(U.length),le,{unsafe:!0});V&&(fe.ctype=V)}function WG(R,z){if(W(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=z&&z.root||"",q=(Yt&&Buffer.isBuffer(R)?R.toString("binary"):W(R)).split(`\r
`),H=0,V="";for(H=0;H<q.length;++H)if(V=q[H],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),U||(U=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),V.slice(0,U.length)!=U););var le=(q[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var ge="--"+(le[1]||""),oe=[],ue=[],fe={FileIndex:oe,FullPaths:ue};S(fe);var Ne,ze=0;for(H=0;H<q.length;++H){var Qe=q[H];Qe!==ge&&Qe!==ge+"--"||(ze++&&VG(fe,q.slice(Ne,H),U),Ne=H)}return fe}function GG(R,z){var U=z||{},q=U.boundary||"SheetJS";q="------="+q;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],V=R.FullPaths[0],le=V,ge=R.FileIndex[0],oe=1;oe<R.FullPaths.length;++oe)if(le=R.FullPaths[oe].slice(V.length),ge=R.FileIndex[oe],!(!ge.size||!ge.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(bt){return"_x"+bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(bt){return"_u"+bt.charCodeAt(0).toString(16)+"_"});for(var ue=ge.content,fe=Yt&&Buffer.isBuffer(ue)?ue.toString("binary"):W(ue),Ne=0,ze=Math.min(1024,fe.length),Qe=0,Me=0;Me<=ze;++Me)(Qe=fe.charCodeAt(Me))>=32&&Qe<128&&++Ne;var Ve=Ne>=ze*4/5;H.push(q),H.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+le),H.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),H.push("Content-Type: "+U_(ge,le)),H.push(""),H.push(Ve?zG(fe):qG(fe))}return H.push(q+`--\r
`),H.join(`\r
`)}function KG(R){var z={};return S(z,R),z}function q_(R,z,U,q){var H=q&&q.unsafe;H||S(R);var V=!H&&hr.find(R,z);if(!V){var le=R.FullPaths[0];z.slice(0,le.length)==le?le=z:(le.slice(-1)!="/"&&(le+="/"),le=(le+z).replace("//","/")),V={name:a(z),type:2},R.FileIndex.push(V),R.FullPaths.push(le),H||hr.utils.cfb_gc(R)}return V.content=U,V.size=U?U.length:0,q&&(q.CLSID&&(V.clsid=q.CLSID),q.mt&&(V.mt=q.mt),q.ct&&(V.ct=q.ct)),V}function XG(R,z){S(R);var U=hr.find(R,z);if(U){for(var q=0;q<R.FileIndex.length;++q)if(R.FileIndex[q]==U)return R.FileIndex.splice(q,1),R.FullPaths.splice(q,1),!0}return!1}function YG(R,z,U){S(R);var q=hr.find(R,z);if(q){for(var H=0;H<R.FileIndex.length;++H)if(R.FileIndex[H]==q)return R.FileIndex[H].name=a(U),R.FullPaths[H]=U,!0}return!1}function QG(R){C(R,!0)}return t.find=A,t.read=N,t.parse=d,t.write=ne,t.writeFile=O,t.utils={cfb_new:KG,cfb_add:q_,cfb_del:XG,cfb_mov:YG,cfb_gc:QG,ReadShift:Kp,CheckField:fW,prep_blob:ci,bconcat:Gn,use_zlib:I,_deflateRaw:jo,_inflateRaw:gt,consts:D},t}();function h$e(e){return typeof e=="string"?j_(e):Array.isArray(e)?LFe(e):e}function mg(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=j_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?wv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([h$e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=hg(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Zn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function GI(e,t){for(var r=[],n=Zn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function rP(e){for(var t=[],r=Zn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function E_(e){for(var t=[],r=Zn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function m$e(e){for(var t=[],r=Zn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var ib=new Date(1899,11,30,0,0,0);function Qa(e,t){var r=e.getTime(),n=ib.getTime()+(e.getTimezoneOffset()-ib.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var XV=new Date,p$e=ib.getTime()+(XV.getTimezoneOffset()-ib.getTimezoneOffset())*6e4,KI=XV.getTimezoneOffset();function YV(e){var t=new Date;return t.setTime(e*24*60*60*1e3+p$e),t.getTimezoneOffset()!==KI&&t.setTime(t.getTime()+(t.getTimezoneOffset()-KI)*6e4),t}var XI=new Date("2017-02-19T19:06:09.000Z"),QV=isNaN(XI.getFullYear())?new Date("2/19/17"):XI,v$e=QV.getFullYear()==2017;function Aa(e,t){var r=new Date(e);if(v$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(QV.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function C_(e,t){if(Yt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Za(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Za(e[r]));return t}function Hr(e,t){for(var r="";r.length<t;)r+=e;return r}function Yo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var g$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function bv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&g$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ct(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Yt?n=Sl(r):n=BFe(r),hr.utils.cfb_add(e,t,n)}hr.utils.cfb_add(e,t,r)}else e.file(t,r)}function nP(){return hr.utils.cfb_new()}var fn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,x$e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},aP=rP(x$e),iP=/[&<>'"]/g,y$e=/[\u0000-\u0008\u000b-\u001f]/g;function or(e){var t=e+"";return t.replace(iP,function(r){return aP[r]}).replace(y$e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function YI(e){return or(e).replace(/ /g,"_x0020_")}var ZV=/[\u0000-\u001f]/g;function b$e(e){var t=e+"";return t.replace(iP,function(r){return aP[r]}).replace(/\n/g,"<br/>").replace(ZV,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function w$e(e){var t=e+"";return t.replace(iP,function(r){return aP[r]}).replace(ZV,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function _$e(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function j$e(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function T2(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function QI(e){var t=hd(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function ZI(e){return Sl(e,"binary").toString("utf8")}var _x="foo bar baz",Gp=Yt&&(ZI(_x)==T2(_x)&&ZI||QI(_x)==T2(_x)&&QI)||T2,wv=Yt?function(e){return Sl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},S$e=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),JV=/(^\s|\s$|\n)/;function Kn(e,t){return"<"+e+(t.match(JV)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function _v(e){return Zn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Fe(e,t,r){return"<"+e+(r!=null?_v(r):"")+(t!=null?(t.match(JV)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function fC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function N$e(e,t){switch(typeof e){case"string":var r=Fe("vt:lpwstr",or(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Fe((e|0)==e?"vt:i4":"vt:r8",or(String(e)));case"boolean":return Fe("vt:bool",e?"true":"false")}if(e instanceof Date)return Fe("vt:filetime",fC(e));throw new Error("Unable to serialize "+e)}var kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},km=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],di={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function E$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function C$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var JI=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},eF=Yt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Sl(t)})):JI(e)}:JI,tF=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(jp(e,a)));return n.join("").replace(Wp,"")},sP=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Wp,""):tF(e,t,r)}:tF,rF=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},eW=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):rF(e,t,r)}:rF,nF=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Qd(e,a)));return n.join("")},pg=Yt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):nF(t,r,n)}:nF,tW=function(e,t){var r=fi(e,t);return r>0?pg(e,t+4,t+4+r-1):""},rW=tW,nW=function(e,t){var r=fi(e,t);return r>0?pg(e,t+4,t+4+r-1):""},aW=nW,iW=function(e,t){var r=2*fi(e,t);return r>0?pg(e,t+4,t+4+r-1):""},sW=iW,oW=function(t,r){var n=fi(t,r);return n>0?sP(t,r+4,r+4+n):""},lW=oW,cW=function(e,t){var r=fi(e,t);return r>0?pg(e,t+4,t+4+r):""},uW=cW,dW=function(e,t){return E$e(e,t)},sb=dW,oP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Yt&&(rW=function(t,r){if(!Buffer.isBuffer(t))return tW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},aW=function(t,r){if(!Buffer.isBuffer(t))return nW(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},sW=function(t,r){if(!Buffer.isBuffer(t))return iW(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},lW=function(t,r){if(!Buffer.isBuffer(t))return oW(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},uW=function(t,r){if(!Buffer.isBuffer(t))return cW(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},sb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):dW(t,r)},oP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Qd=function(e,t){return e[t]},jp=function(e,t){return e[t+1]*256+e[t]},T$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},fi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_u=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},A$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Kp(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Yt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(jp(this,u)),u+=2;e*=2;break;case"utf8":r=pg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=sP(this,this.l,this.l+e);break;case"wstr":return Kp.call(this,e,"dbcs");case"lpstr-ansi":r=rW(this,this.l),e=4+fi(this,this.l);break;case"lpstr-cp":r=aW(this,this.l),e=4+fi(this,this.l);break;case"lpwstr":r=sW(this,this.l),e=4+2*fi(this,this.l);break;case"lpp4":e=4+fi(this,this.l),r=lW(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+fi(this,this.l),r=uW(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Qd(this,this.l+e++))!==0;)i.push(yx(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=jp(this,this.l+e))!==0;)i.push(yx(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qd(this,u),this.l=u+1,l=Kp.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(yx(jp(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Qd(this,u),this.l=u+1,l=Kp.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(yx(Qd(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Qd(this,this.l),this.l++,n;case 2:return n=(t==="i"?T$e:jp)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?_u:A$e)(this,this.l),this.l+=4,n):(a=fi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=sb(this,this.l):a=sb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=eW(this,this.l,e);break}}return this.l+=e,r}var k$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},P$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},O$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function D$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)O$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,k$e(this,t,this.l);break;case 8:if(n=8,r==="f"){C$e(this,t,this.l);break}case 16:break;case-4:n=4,P$e(this,t,this.l);break}return this.l+=n,this}function fW(e,t){var r=eW(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ci(e,t){e.l=t,e.read_shift=Kp,e.chk=fW,e.write_shift=D$e}function vo(e,t){e.l+=t}function pe(e){var t=hd(e);return ci(t,0),t}function Xa(){var e=[],t=Yt?256:2048,r=function(u){var d=pe(u);return ci(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Gn(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function be(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=E9e[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&oP(r)&&e.push(r)}}function Xp(e,t,r){var n=Za(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function aF(e,t,r){var n=Za(e);return n.s=Xp(n.s,t.s,r),n.e=Xp(n.e,t.s,r),n}function Yp(e,t){if(e.cRel&&e.c<0)for(e=Za(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Za(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cr(e);return!e.cRel&&e.cRel!=null&&(r=I$e(r)),!e.rRel&&e.rRel!=null&&(r=R$e(r)),r}function A2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+la(e.s.c)+":"+(e.e.cRel?"":"$")+la(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Yn(e.s.r)+":"+(e.e.rRel?"":"$")+Yn(e.e.r):Yp(e.s,t.biff)+":"+Yp(e.e,t.biff)}function lP(e){return parseInt(M$e(e),10)-1}function Yn(e){return""+(e+1)}function R$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function M$e(e){return e.replace(/\$(\d+)$/,"$1")}function cP(e){for(var t=F$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function la(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function I$e(e){return e.replace(/^([A-Z])/,"$$$1")}function F$e(e){return e.replace(/^\$([A-Z])/,"$1")}function $$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Pn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function cr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function _i(e){var t=e.indexOf(":");return t==-1?{s:Pn(e),e:Pn(e)}:{s:Pn(e.slice(0,t)),e:Pn(e.slice(t+1))}}function cn(e,t){return typeof t>"u"||typeof t=="number"?cn(e.s,e.e):(typeof e!="string"&&(e=cr(e)),typeof t!="string"&&(t=cr(t)),e==t?e:e+":"+t)}function Tr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function iF(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Mc(e.z,r?Qa(t):t)}catch{}try{return e.w=Mc((e.XF||{}).numFmtId||(r?14:0),r?Qa(t):t)}catch{return""+t}}function pl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vg[e.v]||e.v:t==null?iF(e,e.v):iF(e,t))}function jd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function hW(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Pn(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=Tr(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},v=o+f,p=l+h;if(u.s.r>v&&(u.s.r=v),u.s.c>p&&(u.s.c=p),u.e.r<v&&(u.e.r=v),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Gr[14],n.cellDates?(m.t="d",m.w=Mc(m.z,Qa(m.v))):(m.t="n",m.v=Qa(m.v),m.w=Mc(m.z,m.v))):m.t="s";if(a)i[v]||(i[v]=[]),i[v][p]&&i[v][p].z&&(m.z=i[v][p].z),i[v][p]=m;else{var g=cr({c:p,r:v});i[g]&&i[g].z&&(m.z=i[g].z),i[g]=m}}}return u.s.c<1e7&&(i["!ref"]=cn(u)),i}function Pm(e,t){return hW(null,e,t)}function L$e(e){return e.read_shift(4,"i")}function Cs(e,t){return t||(t=pe(4)),t.write_shift(4,e),t}function ca(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function On(e,t){var r=!1;return t==null&&(r=!0,t=pe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function B$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function U$e(e,t){return t||(t=pe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function uP(e,t){var r=e.l,n=e.read_shift(1),a=ca(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(B$e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function q$e(e,t){var r=!1;return t==null&&(r=!0,t=pe(15+4*e.t.length)),t.write_shift(1,0),On(e.t,t),r?t.slice(0,t.l):t}var z$e=uP;function H$e(e,t){var r=!1;return t==null&&(r=!0,t=pe(23+4*e.t.length)),t.write_shift(1,1),On(e.t,t),t.write_shift(4,1),U$e({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function rs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Sd(e,t){return t==null&&(t=pe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Nd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ed(e,t){return t==null&&(t=pe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var V$e=ca,mW=On;function dP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function ob(e,t){var r=!1;return t==null&&(r=!0,t=pe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var W$e=ca,hC=dP,fP=ob;function pW(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?sb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_u(t,0)>>2;return r?a/100:a}function vW(e,t){t==null&&(t=pe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function gW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function G$e(e,t){return t||(t=pe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Cd=gW,Om=G$e;function Dm(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function md(e,t){return(t||pe(8)).write_shift(8,e,"f")}function K$e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=n6e[a];u&&(t.rgb=vF(u));break;case 2:t.rgb=vF([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function lb(e,t){if(t||(t=pe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function X$e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Y$e(e,t){t||(t=pe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var xW=2,si=3,jx=11,cb=19,Sx=64,Q$e=65,Z$e=71,J$e=4108,e6e=4126,qn=80,sF={1:{n:"CodePage",t:xW},2:{n:"Category",t:qn},3:{n:"PresentationFormat",t:qn},4:{n:"ByteCount",t:si},5:{n:"LineCount",t:si},6:{n:"ParagraphCount",t:si},7:{n:"SlideCount",t:si},8:{n:"NoteCount",t:si},9:{n:"HiddenCount",t:si},10:{n:"MultimediaClipCount",t:si},11:{n:"ScaleCrop",t:jx},12:{n:"HeadingPairs",t:J$e},13:{n:"TitlesOfParts",t:e6e},14:{n:"Manager",t:qn},15:{n:"Company",t:qn},16:{n:"LinksUpToDate",t:jx},17:{n:"CharacterCount",t:si},19:{n:"SharedDoc",t:jx},22:{n:"HyperlinksChanged",t:jx},23:{n:"AppVersion",t:si,p:"version"},24:{n:"DigSig",t:Q$e},26:{n:"ContentType",t:qn},27:{n:"ContentStatus",t:qn},28:{n:"Language",t:qn},29:{n:"Version",t:qn},255:{},2147483648:{n:"Locale",t:cb},2147483651:{n:"Behavior",t:cb},1919054434:{}},oF={1:{n:"CodePage",t:xW},2:{n:"Title",t:qn},3:{n:"Subject",t:qn},4:{n:"Author",t:qn},5:{n:"Keywords",t:qn},6:{n:"Comments",t:qn},7:{n:"Template",t:qn},8:{n:"LastAuthor",t:qn},9:{n:"RevNumber",t:qn},10:{n:"EditTime",t:Sx},11:{n:"LastPrinted",t:Sx},12:{n:"CreatedDate",t:Sx},13:{n:"ModifiedDate",t:Sx},14:{n:"PageCount",t:si},15:{n:"WordCount",t:si},16:{n:"CharCount",t:si},17:{n:"Thumbnail",t:Z$e},18:{n:"Application",t:qn},19:{n:"DocSecurity",t:si},255:{},2147483648:{n:"Locale",t:cb},2147483651:{n:"Behavior",t:cb},1919054434:{}};function t6e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var r6e=t6e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n6e=Za(r6e),vg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},a6e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Nx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yW(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function bW(e,t){var r=m$e(a6e),n=[],a;n[n.length]=fn,n[n.length]=Fe("Types",null,{xmlns:kn.CT,"xmlns:xsd":kn.xsd,"xmlns:xsi":kn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Fe("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Fe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Nx[c][t.bookType]||Nx[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Fe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Nx[c][t.bookType]||Nx[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=Fe("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Vt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wW(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function $f(e){var t=[fn,Fe("Relationships",null,{xmlns:kn.RELS})];return Zn(e["!id"]).forEach(function(r){t[t.length]=Fe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ar(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Vt.HLINK,Vt.XPATH,Vt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function i6e(e){var t=[fn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function lF(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function s6e(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function o6e(e){var t=[fn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(lF(e[r][0],e[r][1])),t.push(s6e("",e[r][0]));return t.push(lF("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function _W(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+tb.version+"</meta:generator></office:meta></office:document-meta>"}var Hu=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function k2(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=or(t),n[n.length]=r?Fe(e,t,r):Kn(e,t))}function jW(e,t){var r=t||{},n=[fn,Fe("cp:coreProperties",null,{"xmlns:cp":kn.CORE_PROPS,"xmlns:dc":kn.dc,"xmlns:dcterms":kn.dcterms,"xmlns:dcmitype":kn.dcmitype,"xmlns:xsi":kn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&k2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:fC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&k2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:fC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Hu.length;++i){var o=Hu[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&k2(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Lf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SW=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function NW(e){var t=[],r=Fe;return e||(e={}),e.Application="SheetJS",t[t.length]=fn,t[t.length]=Fe("Properties",null,{xmlns:kn.EXT_PROPS,"xmlns:vt":kn.vt}),Lf.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=or(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+or(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function EW(e){var t=[fn,Fe("Properties",null,{xmlns:kn.CUST_PROPS,"xmlns:vt":kn.vt})];if(!e)return t.join("");var r=1;return Zn(e).forEach(function(a){++r,t[t.length]=Fe("property",N$e(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:or(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var cF={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function l6e(e,t){var r=[];return Zn(cF).map(function(n){for(var a=0;a<Hu.length;++a)if(Hu[a][1]==n)return Hu[a];for(a=0;a<Lf.length;++a)if(Lf[a][1]==n)return Lf[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Kn(cF[n[1]]||n[1],a))}}),Fe("DocumentProperties",r.join(""),{xmlns:di.o})}function c6e(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Zn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Hu.length;++o)if(i==Hu[o][1])return;for(o=0;o<Lf.length;++o)if(i==Lf[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Fe(YI(i),l,{"dt:dt":c}))}}),t&&Zn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Fe(YI(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+di.o+'">'+a.join("")+"</"+n+">"}function u6e(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=pe(8);return o.write_shift(4,n),o.write_shift(4,a),o}function uF(e,t){var r=pe(4),n=pe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=pe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=u6e(t);break;case 31:case 80:for(n=pe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Gn([r,n])}var CW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function d6e(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function dF(e,t,r){var n=pe(8),a=[],i=[],o=8,l=0,c=pe(8),u=pe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=pe(8),u.write_shift(4,0),a.unshift(u);var d=[pe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=pe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=Gn(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(CW.indexOf(e[l][0])>-1||SW.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var v=r[m];if(v.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=uF(v.t,h)}else{var g=d6e(h);g==-1&&(g=31,h=String(h)),c=uF(g,h)}i.push(c),u=pe(8),u.write_shift(4,t?m:2+l),a.push(u),o+=8+c.length}var x=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,x),x+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),Gn([n].concat(a).concat(i))}function fF(e,t,r,n,a,i){var o=pe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,hr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=dF(e,r,n);if(l.push(c),a){var u=dF(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Gn(l)}function f6e(e,t){t||(t=pe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function h6e(e,t){return e.read_shift(t)===1}function ba(e,t){return t||(t=pe(2)),t.write_shift(2,+!!e),t}function TW(e){return e.read_shift(2,"u")}function Ri(e,t){return t||(t=pe(2)),t.write_shift(2,e),t}function AW(e,t,r){return r||(r=pe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function kW(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function m6e(e){var t=e.t||"",r=pe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=pe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Gn(a)}function p6e(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function v6e(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):p6e(e,n,r)}function g6e(e,t,r){if(r.biff>5)return v6e(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function PW(e,t,r){return r||(r=pe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function hF(e,t){t||(t=pe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function x6e(e){var t=pe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),hF(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&hF(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function pd(e,t,r,n){return n||(n=pe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function y6e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function b6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function OW(e,t){return t||(t=pe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function hP(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=pe(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function w6e(e,t){var r=!t||t.biff==8,n=pe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _6e(e,t){var r=!t||t.biff>=8?2:1,n=pe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function j6e(e,t){var r=pe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=m6e(e[a]);var i=Gn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function S6e(){var e=pe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function N6e(e){var t=pe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function E6e(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=pe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function C6e(e,t,r,n){var a=pe(10);return pd(e,t,n,a),a.write_shift(4,r),a}function T6e(e,t,r,n,a){var i=!a||a.biff==8,o=pe(8+ +i+(1+i)*r.length);return pd(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function A6e(e,t,r,n){var a=r&&r.biff==5;n||(n=pe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function k6e(e,t){var r=t.biff==8||!t.biff?4:2,n=pe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function mF(e,t,r,n){var a=r&&r.biff==5;n||(n=pe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function P6e(e){var t=pe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function O6e(e,t,r,n,a,i){var o=pe(8);return pd(e,t,n,o),AW(r,i,o),o}function D6e(e,t,r,n){var a=pe(14);return pd(e,t,n,a),md(r,a),a}function R6e(e,t,r){if(r.biff<8)return M6e(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(y6e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function M6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=kW(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function I6e(e){var t=pe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)OW(e[r],t);return t}function F6e(e){var t=pe(24),r=Pn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Gn([t,x6e(e[1])])}function $6e(e){var t=e[1].Tooltip,r=pe(10+2*(t.length+1));r.write_shift(2,2048);var n=Pn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function L6e(e){return e||(e=pe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function B6e(e,t,r){if(!r.cellStyles)return vo(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function U6e(e,t){var r=pe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function q6e(e){for(var t=pe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function z6e(e,t,r){var n=pe(15);return xg(n,e,t),n.write_shift(8,r,"f"),n}function H6e(e,t,r){var n=pe(9);return xg(n,e,t),n.write_shift(2,r),n}var V6e=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=rP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=hd(1);switch(c.type){case"base64":d=gs(ml(l));break;case"binary":d=gs(l);break;case"buffer":case"array":d=l;break}ci(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=d.read_shift(2));var x=d.read_shift(2),y=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=e[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var w=[],b={},j=Math.min(d.length,f==2?521:g-10-(m?264:0)),N=v?32:11;d.l<j&&d[d.l]!=13;)switch(b={},b.name=wu.utils.decode(y,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,b.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(b.offset=d.read_shift(4)),b.len=d.read_shift(1),f==2&&(b.offset=d.read_shift(2)),b.dec=d.read_shift(1),b.name.length&&w.push(b),f!=2&&(d.l+=v?13:14),b.type){case"B":(!m||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var S=0,E=0;for(u[0]=[],E=0;E!=w.length;++E)u[0][E]=w[E].name;for(;p-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++S]=[],E=0,E=0;E!=w.length;++E){var C=d.slice(d.l,d.l+w[E].len);d.l+=w[E].len,ci(C,0);var T=wu.utils.decode(y,C);switch(w[E].type){case"C":T.trim().length&&(u[S][E]=T.replace(/\s+$/,""));break;case"D":T.length===8?u[S][E]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):u[S][E]=T;break;case"F":u[S][E]=parseFloat(T.trim());break;case"+":case"I":u[S][E]=v?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":u[S][E]=!0;break;case"N":case"F":u[S][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][E]="##MEMO##"+(v?parseInt(T.trim(),10):C.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(u[S][E]=+T||0);break;case"@":u[S][E]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][E]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][E]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][E]=-C.read_shift(-8,"f");break;case"B":if(m&&w[E].len==8){u[S][E]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Pm(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return jd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&xv(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Xa(),f=mb(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),v=l["!cols"]||[],p=0,g=0,x=0,y=1;for(p=0;p<h.length;++p){if(((v[p]||{}).DBF||{}).name){h[p]=v[p].DBF.name,++x;continue}if(h[p]!=null){if(++x,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var w=Tr(l["!ref"]),b=[],j=[],N=[];for(p=0;p<=w.e.c-w.s.c;++p){var S="",E="",C=0,T=[];for(g=0;g<m.length;++g)m[g][p]!=null&&T.push(m[g][p]);if(T.length==0||h[p]==null){b[p]="?";continue}for(g=0;g<T.length;++g){switch(typeof T[g]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=T[g]instanceof Date?"D":"C";break;default:E="C"}C=Math.max(C,String(T[g]).length),S=S&&S!=E?"C":E}C>250&&(C=250),E=((v[p]||{}).DBF||{}).type,E=="C"&&v[p].DBF.len>C&&(C=v[p].DBF.len),S=="B"&&E=="N"&&(S="N",N[p]=v[p].DBF.dec,C=v[p].DBF.len),j[p]=S=="C"||E=="N"?C:i[S]||0,y+=j[p],b[p]=S}var A=d.next(32);for(A.write_shift(4,318902576),A.write_shift(4,m.length),A.write_shift(2,296+32*x),A.write_shift(2,y),p=0;p<4;++p)A.write_shift(4,0);for(A.write_shift(4,0|(+t[RV]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var k=d.next(32),P=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,P,"sbcs"),k.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),k.write_shift(4,g),k.write_shift(1,j[p]||i[b[p]]||0),k.write_shift(1,N[p]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),g+=j[p]||i[b[p]]||0}var L=d.next(264);for(L.write_shift(4,13),p=0;p<65;++p)L.write_shift(4,0);for(p=0;p<m.length;++p){var B=d.next(y);for(B.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(b[g]){case"L":B.write_shift(1,m[p][g]==null?63:m[p][g]?84:70);break;case"B":B.write_shift(8,m[p][g]||0,"f");break;case"N":var M="0";for(typeof m[p][g]=="number"&&(M=m[p][g].toFixed(N[g]||0)),x=0;x<j[g]-M.length;++x)B.write_shift(1,32);B.write_shift(1,M,"sbcs");break;case"D":m[p][g]?(B.write_shift(4,("0000"+m[p][g].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(m[p][g].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+m[p][g].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var D=String(m[p][g]!=null?m[p][g]:"").slice(0,j[g]);for(B.write_shift(1,D,"sbcs"),x=0;x<j[g]-D.length;++x)B.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),W6e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Zn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var v=e[m];return typeof v=="number"?$I(v):v},n=function(h,m,v){var p=m.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return p==59?h:$I(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(ml(h),m);case"binary":return i(h,m);case"buffer":return i(Yt&&Buffer.isBuffer(h)?h.toString("binary"):hg(h),m);case"array":return i(C_(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var v=h.split(/[\n\r]+/),p=-1,g=-1,x=0,y=0,w=[],b=[],j=null,N={},S=[],E=[],C=[],T=0,A;for(+m.codepage>=0&&xv(+m.codepage);x!==v.length;++x){T=0;var k=v[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),P=k.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),L=P[0],B;if(k.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&b.push(k.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,D=!1,O=!1,W=!1,ne=-1,ee=-1;for(y=1;y<P.length;++y)switch(P[y].charAt(0)){case"A":break;case"X":g=parseInt(P[y].slice(1))-1,D=!0;break;case"Y":for(p=parseInt(P[y].slice(1))-1,D||(g=0),A=w.length;A<=p;++A)w[A]=[];break;case"K":B=P[y].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(Yo(B))?isNaN(bv(B).getDate())||(B=Aa(B)):(B=Yo(B),j!==null&&WV(j)&&(B=YV(B))),M=!0;break;case"E":W=!0;var I=H5e(P[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],I];break;case"S":O=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":ne=parseInt(P[y].slice(1))-1;break;case"C":ee=parseInt(P[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}if(M&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=B:w[p][g]=B,j=null),O){if(W)throw new Error("SYLK shared formula cannot have own formula");var X=ne>-1&&w[ne][ee];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=V5e(X[1],{r:p-ne,c:g-ee})}break;case"F":var Y=0;for(y=1;y<P.length;++y)switch(P[y].charAt(0)){case"X":g=parseInt(P[y].slice(1))-1,++Y;break;case"Y":for(p=parseInt(P[y].slice(1))-1,A=w.length;A<=p;++A)w[A]=[];break;case"M":T=parseInt(P[y].slice(1))/20;break;case"F":break;case"G":break;case"P":j=b[parseInt(P[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=P[y].slice(1).split(" "),A=parseInt(C[0],10);A<=parseInt(C[1],10);++A)T=parseInt(C[2],10),E[A-1]=T===0?{hidden:!0}:{wch:T},mP(E[A-1]);break;case"C":g=parseInt(P[y].slice(1))-1,E[g]||(E[g]={});break;case"R":p=parseInt(P[y].slice(1))-1,S[p]||(S[p]={}),T>0?(S[p].hpt=T,S[p].hpx=FW(T)):T===0&&(S[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}Y<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+k)}}return S.length>0&&(N["!rows"]=S),E.length>0&&(N["!cols"]=E),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,N]}function o(h,m){var v=a(h,m),p=v[0],g=v[1],x=Pm(p,m);return Zn(g).forEach(function(y){x[y]=g[y]}),x}function l(h,m){return jd(o(h,m),m)}function c(h,m,v,p){var g="C;Y"+(v+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+vP(h.f,{r:v,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function u(h,m){m.forEach(function(v,p){var g="F;W"+(p+1)+" "+(p+1)+" ";v.hidden?g+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=ub(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=db(v.wpx)),typeof v.wch=="number"&&(g+=Math.round(v.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,m){m.forEach(function(v,p){var g="F;";v.hidden?g+="M0;":v.hpt?g+="M"+20*v.hpt+";":v.hpx&&(g+="M"+20*fb(v.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,m){var v=["ID;PWXL;N;E"],p=[],g=Tr(h["!ref"]),x,y=Array.isArray(h),w=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),h["!cols"]&&u(v,h["!cols"]),h["!rows"]&&d(v,h["!rows"]),v.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var j=g.s.c;j<=g.e.c;++j){var N=cr({r:b,c:j});x=y?(h[b]||[])[j]:h[N],!(!x||x.v==null&&(!x.f||x.F))&&p.push(c(x,h,b,j))}return v.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),G6e=function(){function e(i,o){switch(o.type){case"base64":return t(ml(i),o);case"binary":return t(i,o);case"buffer":return t(Yt&&Buffer.isBuffer(i)?i.toString("binary"):hg(i),o);case"array":return t(C_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],v=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(Yo(v))?isNaN(bv(v).getDate())?f[c][u]=v:f[c][u]=Aa(v):f[c][u]=Yo(v),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Pm(e(i,o),o)}function n(i,o){return jd(r(i,o),o)}var a=function(){var i=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Tr(c["!ref"]),f,h=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var p=cr({r:m,c:v});if(f=h?(c[m]||[])[v]:c[p],!f){o(u,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,g,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Mc(f.z||Gr[14],Qa(Aa(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var x=`\r
`,y=u.join(x);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),DW=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),v=-1,p=-1,g=0,x=[];g!==m.length;++g){var y=m[g].trim().split(":");if(y[0]==="cell"){var w=Pn(y[1]);if(x.length<=w.r)for(v=x.length;v<=w.r;++v)x[v]||(x[v]=[]);switch(v=w.r,p=w.c,y[2]){case"t":x[v][p]=e(y[3]);break;case"v":x[v][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[v][p]=!!+y[4];break;default:x[v][p]=+y[4];break}y[2]=="vtf"&&(x[v][p]=[x[v][p],b])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return Pm(r(f,h),h)}function a(f,h){return jd(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],v,p="",g=_i(f["!ref"]),x=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=cr({r:y,c:w}),v=x?(f[y]||[])[w]:f[p],!(!v||v.v==null||v.t==="z")){switch(m=["cell",p,"t"],v.t){case"s":case"str":m.push(t(v.v));break;case"n":v.f?(m[2]="vtf",m[3]="n",m[4]=v.v,m[5]=t(v.f)):(m[2]="v",m[3]=v.v);break;case"b":m[2]="vt"+(v.f?"f":"c"),m[3]="nl",m[4]=v.v?"1":"0",m[5]=t(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var b=Qa(Aa(v.v));m[2]="vtc",m[3]="nd",m[4]=""+b,m[5]=v.w||Mc(v.z||Gr[14],b);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[i,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),K6e=function(){function e(d,f,h,m,v){v.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Yo(d))?isNaN(bv(d).getDate())?f[h][m]=d:f[h][m]=Aa(d):f[h][m]=Yo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var v=d.split(/[\r\n]/),p=v.length-1;p>=0&&v[p].length===0;)--p;for(var g=10,x=0,y=0;y<=p;++y)x=v[y].indexOf(" "),x==-1?x=v[y].length:x++,g=Math.max(g,x);for(y=0;y<=p;++y){m[y]=[];var w=0;for(e(v[y].slice(0,g).trim(),m,y,w,h),w=1;w<=(v[y].length-g)/10+1;++w)e(v[y].slice(g+(w-1)*10,g+w*10).trim(),m,y,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,v=0;m<d.length;++m)(v=d.charCodeAt(m))==34?h=!h:!h&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m]);if(!v.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&v.push([f[m],m])}return v.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),r[v.pop()[1]]||44}function i(d,f){var h=f||{},m="",v=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var g=0,x=0,y=0,w=0,b=0,j=m.charCodeAt(0),N=!1,S=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?u$e(h.dateNF):null;function T(){var A=d.slice(w,b),k={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)k.t="z";else if(h.raw)k.t="s",k.v=A;else if(A.trim().length===0)k.t="s",k.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(k.t="s",k.v=A.slice(2,-1).replace(/""/g,'"')):W5e(A)?(k.t="n",k.f=A.slice(1)):(k.t="s",k.v=A);else if(A=="TRUE")k.t="b",k.v=!0;else if(A=="FALSE")k.t="b",k.v=!1;else if(!isNaN(y=Yo(A)))k.t="n",h.cellText!==!1&&(k.w=A),k.v=y;else if(!isNaN(bv(A).getDate())||C&&A.match(C)){k.z=h.dateNF||Gr[14];var P=0;C&&A.match(C)&&(A=d$e(A,h.dateNF,A.match(C)||[]),P=1),h.cellDates?(k.t="d",k.v=Aa(A,P)):(k.t="n",k.v=Qa(Aa(A,P))),h.cellText!==!1&&(k.w=Mc(k.z,k.v instanceof Date?Qa(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=A;if(k.t=="z"||(h.dense?(v[g]||(v[g]=[]),v[g][x]=k):v[cr({c:x,r:g})]=k),w=b+1,E=d.charCodeAt(w),p.e.c<x&&(p.e.c=x),p.e.r<g&&(p.e.r=g),S==j)++x;else if(x=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;b<d.length;++b)switch(S=d.charCodeAt(b)){case 34:E===34&&(N=!N);break;case j:case 10:case 13:if(!N&&T())break e;break}return b-w>0&&T(),v["!ref"]=cn(p),v}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Pm(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:s7e(d,f);switch(f.type){case"base64":h=ml(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof wu<"u"?h=wu.utils.decode(f.codepage,d):h=Yt&&Buffer.isBuffer(d)?d.toString("binary"):hg(d);break;case"array":h=C_(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Gp(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Gp(h):f.type=="binary"&&typeof wu<"u"&&f.codepage&&(h=wu.utils.decode(f.codepage,wu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?DW.to_sheet(f.type=="string"?h:Gp(h),f):o(h,f)}function c(d,f){return jd(l(d,f),f)}function u(d){for(var f=[],h=Tr(d["!ref"]),m,v=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var g=[],x=h.s.c;x<=h.e.c;++x){var y=cr({r:p,c:x});if(m=v?(d[p]||[])[x]:d[y],!m||m.v==null){g.push("          ");continue}for(var w=(m.w||(pl(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(x===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),pF=function(){function e(I,X,Y){if(I){ci(I,I.l||0);for(var Q=Y.Enum||ne;I.l<I.length;){var ie=I.read_shift(2),he=Q[ie]||Q[65535],we=I.read_shift(2),se=I.l+we,G=he.f&&he.f(I,we,Y);if(I.l=se,X(G,he,ie))return}}}function t(I,X){switch(X.type){case"base64":return r(gs(ml(I)),X);case"binary":return r(gs(I),X);case"buffer":case"array":return r(I,X)}throw"Unsupported type "+X.type}function r(I,X){if(!I)return I;var Y=X||{},Q=Y.dense?[]:{},ie="Sheet1",he="",we=0,se={},G=[],ye=[],ae={s:{r:0,c:0},e:{r:0,c:0}},et=Y.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)Y.Enum=ne,e(I,function(Te,K,te){switch(te){case 0:Y.vers=Te,Te>=4096&&(Y.qpro=!0);break;case 6:ae=Te;break;case 204:Te&&(he=Te);break;case 222:he=Te;break;case 15:case 51:Y.qpro||(Te[1].v=Te[1].v.slice(1));case 13:case 14:case 16:te==14&&(Te[2]&112)==112&&(Te[2]&15)>1&&(Te[2]&15)<15&&(Te[1].z=Y.dateNF||Gr[14],Y.cellDates&&(Te[1].t="d",Te[1].v=YV(Te[1].v))),Y.qpro&&Te[3]>we&&(Q["!ref"]=cn(ae),se[ie]=Q,G.push(ie),Q=Y.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},we=Te[3],ie=he||"Sheet"+(we+1),he="");var ce=Y.dense?(Q[Te[0].r]||[])[Te[0].c]:Q[cr(Te[0])];if(ce){ce.t=Te[1].t,ce.v=Te[1].v,Te[1].z!=null&&(ce.z=Te[1].z),Te[1].f!=null&&(ce.f=Te[1].f);break}Y.dense?(Q[Te[0].r]||(Q[Te[0].r]=[]),Q[Te[0].r][Te[0].c]=Te[1]):Q[cr(Te[0])]=Te[1];break}},Y);else if(I[2]==26||I[2]==14)Y.Enum=ee,I[2]==14&&(Y.qpro=!0,I.l=0),e(I,function(Te,K,te){switch(te){case 204:ie=Te;break;case 22:Te[1].v=Te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Te[3]>we&&(Q["!ref"]=cn(ae),se[ie]=Q,G.push(ie),Q=Y.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},we=Te[3],ie="Sheet"+(we+1)),et>0&&Te[0].r>=et)break;Y.dense?(Q[Te[0].r]||(Q[Te[0].r]=[]),Q[Te[0].r][Te[0].c]=Te[1]):Q[cr(Te[0])]=Te[1],ae.e.c<Te[0].c&&(ae.e.c=Te[0].c),ae.e.r<Te[0].r&&(ae.e.r=Te[0].r);break;case 27:Te[14e3]&&(ye[Te[14e3][0]]=Te[14e3][1]);break;case 1537:ye[Te[0]]=Te[1],Te[0]==we&&(ie=Te[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Q["!ref"]=cn(ae),se[he||ie]=Q,G.push(he||ie),!ye.length)return{SheetNames:G,Sheets:se};for(var Le={},yt=[],rt=0;rt<ye.length;++rt)se[G[rt]]?(yt.push(ye[rt]||G[rt]),Le[ye[rt]]=se[ye[rt]]||se[G[rt]]):(yt.push(ye[rt]),Le[ye[rt]]={"!ref":"A1"});return{SheetNames:yt,Sheets:Le}}function n(I,X){var Y=X||{};if(+Y.codepage>=0&&xv(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Xa(),ie=Tr(I["!ref"]),he=Array.isArray(I),we=[];Be(Q,0,i(1030)),Be(Q,6,c(ie));for(var se=Math.min(ie.e.r,8191),G=ie.s.r;G<=se;++G)for(var ye=Yn(G),ae=ie.s.c;ae<=ie.e.c;++ae){G===ie.s.r&&(we[ae]=la(ae));var et=we[ae]+ye,Le=he?(I[G]||[])[ae]:I[et];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?Be(Q,13,m(G,ae,Le.v)):Be(Q,14,p(G,ae,Le.v));else{var yt=pl(Le);Be(Q,15,f(G,ae,yt.slice(0,239)))}}return Be(Q,1),Q.end()}function a(I,X){var Y=X||{};if(+Y.codepage>=0&&xv(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Xa();Be(Q,0,o(I));for(var ie=0,he=0;ie<I.SheetNames.length;++ie)(I.Sheets[I.SheetNames[ie]]||{})["!ref"]&&Be(Q,27,W(I.SheetNames[ie],he++));var we=0;for(ie=0;ie<I.SheetNames.length;++ie){var se=I.Sheets[I.SheetNames[ie]];if(!(!se||!se["!ref"])){for(var G=Tr(se["!ref"]),ye=Array.isArray(se),ae=[],et=Math.min(G.e.r,8191),Le=G.s.r;Le<=et;++Le)for(var yt=Yn(Le),rt=G.s.c;rt<=G.e.c;++rt){Le===G.s.r&&(ae[rt]=la(rt));var Te=ae[rt]+yt,K=ye?(se[Le]||[])[rt]:se[Te];if(!(!K||K.t=="z"))if(K.t=="n")Be(Q,23,T(Le,rt,we,K.v));else{var te=pl(K);Be(Q,22,S(Le,rt,we,te.slice(0,239)))}}++we}}return Be(Q,1),Q.end()}function i(I){var X=pe(2);return X.write_shift(2,I),X}function o(I){var X=pe(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var Y=0,Q=0,ie=0,he=0;he<I.SheetNames.length;++he){var we=I.SheetNames[he],se=I.Sheets[we];if(!(!se||!se["!ref"])){++ie;var G=_i(se["!ref"]);Y<G.e.r&&(Y=G.e.r),Q<G.e.c&&(Q=G.e.c)}}return Y>8191&&(Y=8191),X.write_shift(2,Y),X.write_shift(1,ie),X.write_shift(1,Q),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function l(I,X,Y){var Q={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&Y.qpro?(Q.s.c=I.read_shift(1),I.l++,Q.s.r=I.read_shift(2),Q.e.c=I.read_shift(1),I.l++,Q.e.r=I.read_shift(2),Q):(Q.s.c=I.read_shift(2),Q.s.r=I.read_shift(2),X==12&&Y.qpro&&(I.l+=2),Q.e.c=I.read_shift(2),Q.e.r=I.read_shift(2),X==12&&Y.qpro&&(I.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function c(I){var X=pe(8);return X.write_shift(2,I.s.c),X.write_shift(2,I.s.r),X.write_shift(2,I.e.c),X.write_shift(2,I.e.r),X}function u(I,X,Y){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(Q[0].c=I.read_shift(1),Q[3]=I.read_shift(1),Q[0].r=I.read_shift(2),I.l+=2):(Q[2]=I.read_shift(1),Q[0].c=I.read_shift(2),Q[0].r=I.read_shift(2)),Q}function d(I,X,Y){var Q=I.l+X,ie=u(I,X,Y);if(ie[1].t="s",Y.vers==20768){I.l++;var he=I.read_shift(1);return ie[1].v=I.read_shift(he,"utf8"),ie}return Y.qpro&&I.l++,ie[1].v=I.read_shift(Q-I.l,"cstr"),ie}function f(I,X,Y){var Q=pe(7+Y.length);Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,I),Q.write_shift(1,39);for(var ie=0;ie<Q.length;++ie){var he=Y.charCodeAt(ie);Q.write_shift(1,he>=128?95:he)}return Q.write_shift(1,0),Q}function h(I,X,Y){var Q=u(I,X,Y);return Q[1].v=I.read_shift(2,"i"),Q}function m(I,X,Y){var Q=pe(7);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,I),Q.write_shift(2,Y,"i"),Q}function v(I,X,Y){var Q=u(I,X,Y);return Q[1].v=I.read_shift(8,"f"),Q}function p(I,X,Y){var Q=pe(13);return Q.write_shift(1,255),Q.write_shift(2,X),Q.write_shift(2,I),Q.write_shift(8,Y,"f"),Q}function g(I,X,Y){var Q=I.l+X,ie=u(I,X,Y);if(ie[1].v=I.read_shift(8,"f"),Y.qpro)I.l=Q;else{var he=I.read_shift(2);b(I.slice(I.l,I.l+he),ie),I.l+=he}return ie}function x(I,X,Y){var Q=X&32768;return X&=-32769,X=(Q?I:0)+(X>=8192?X-16384:X),(Q?"":"$")+(Y?la(X):Yn(X))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(I,X){ci(I,0);for(var Y=[],Q=0,ie="",he="",we="",se="";I.l<I.length;){var G=I[I.l++];switch(G){case 0:Y.push(I.read_shift(8,"f"));break;case 1:he=x(X[0].c,I.read_shift(2),!0),ie=x(X[0].r,I.read_shift(2),!1),Y.push(he+ie);break;case 2:{var ye=x(X[0].c,I.read_shift(2),!0),ae=x(X[0].r,I.read_shift(2),!1);he=x(X[0].c,I.read_shift(2),!0),ie=x(X[0].r,I.read_shift(2),!1),Y.push(ye+ae+":"+he+ie)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(I.read_shift(2));break;case 6:{for(var et="";G=I[I.l++];)et+=String.fromCharCode(G);Y.push('"'+et.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:se=Y.pop(),we=Y.pop(),Y.push(["AND","OR"][G-20]+"("+we+","+se+")");break;default:if(G<32&&w[G])se=Y.pop(),we=Y.pop(),Y.push(we+w[G]+se);else if(y[G]){if(Q=y[G][1],Q==69&&(Q=I[I.l++]),Q>Y.length){console.error("WK1 bad formula parse 0x"+G.toString(16)+":|"+Y.join("|")+"|");return}var Le=Y.slice(-Q);Y.length-=Q,Y.push(y[G][0]+"("+Le.join(",")+")")}else return G<=7?console.error("WK1 invalid opcode "+G.toString(16)):G<=24?console.error("WK1 unsupported op "+G.toString(16)):G<=30?console.error("WK1 invalid opcode "+G.toString(16)):G<=115?console.error("WK1 unsupported function opcode "+G.toString(16)):console.error("WK1 unrecognized opcode "+G.toString(16))}}Y.length==1?X[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function j(I){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=I.read_shift(2),X[3]=I[I.l++],X[0].c=I[I.l++],X}function N(I,X){var Y=j(I);return Y[1].t="s",Y[1].v=I.read_shift(X-4,"cstr"),Y}function S(I,X,Y,Q){var ie=pe(6+Q.length);ie.write_shift(2,I),ie.write_shift(1,Y),ie.write_shift(1,X),ie.write_shift(1,39);for(var he=0;he<Q.length;++he){var we=Q.charCodeAt(he);ie.write_shift(1,we>=128?95:we)}return ie.write_shift(1,0),ie}function E(I,X){var Y=j(I);Y[1].v=I.read_shift(2);var Q=Y[1].v>>1;if(Y[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return Y[1].v=Q,Y}function C(I,X){var Y=j(I),Q=I.read_shift(4),ie=I.read_shift(4),he=I.read_shift(2);if(he==65535)return Q===0&&ie===3221225472?(Y[1].t="e",Y[1].v=15):Q===0&&ie===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var we=he&32768;return he=(he&32767)-16446,Y[1].v=(1-we*2)*(ie*Math.pow(2,he+32)+Q*Math.pow(2,he)),Y}function T(I,X,Y,Q){var ie=pe(14);if(ie.write_shift(2,I),ie.write_shift(1,Y),ie.write_shift(1,X),Q==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var he=0,we=0,se=0,G=0;return Q<0&&(he=1,Q=-Q),we=Math.log2(Q)|0,Q/=Math.pow(2,we-31),G=Q>>>0,G&2147483648||(Q/=2,++we,G=Q>>>0),Q-=G,G|=2147483648,G>>>=0,Q*=Math.pow(2,32),se=Q>>>0,ie.write_shift(4,se),ie.write_shift(4,G),we+=16383+(he?32768:0),ie.write_shift(2,we),ie}function A(I,X){var Y=C(I);return I.l+=X-14,Y}function k(I,X){var Y=j(I),Q=I.read_shift(4);return Y[1].v=Q>>6,Y}function P(I,X){var Y=j(I),Q=I.read_shift(8,"f");return Y[1].v=Q,Y}function L(I,X){var Y=P(I);return I.l+=X-10,Y}function B(I,X){return I[I.l+X-1]==0?I.read_shift(X,"cstr"):""}function M(I,X){var Y=I[I.l++];Y>X-1&&(Y=X-1);for(var Q="";Q.length<Y;)Q+=String.fromCharCode(I[I.l++]);return Q}function D(I,X,Y){if(!(!Y.qpro||X<21)){var Q=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ie=I.read_shift(X-21,"cstr");return[Q,ie]}}function O(I,X){for(var Y={},Q=I.l+X;I.l<Q;){var ie=I.read_shift(2);if(ie==14e3){for(Y[ie]=[0,""],Y[ie][0]=I.read_shift(2);I[I.l];)Y[ie][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return Y}function W(I,X){var Y=pe(5+I.length);Y.write_shift(2,14e3),Y.write_shift(2,X);for(var Q=0;Q<I.length;++Q){var ie=I.charCodeAt(Q);Y[Y.l++]=ie>127?95:ie}return Y[Y.l++]=0,Y}var ne={0:{n:"BOF",f:TW},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:O},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:D},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),X6e=/^\s|\s$|[\t\n\r]/;function RW(e,t){if(!t.bookSST)return"";var r=[fn];r[r.length]=Fe("sst",null,{xmlns:km[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(X6e)&&(i+=' xml:space="preserve"'),i+=">"+or(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Y6e(e){return[e.read_shift(4),e.read_shift(4)]}function Q6e(e,t){return t||(t=pe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Z6e=q$e;function J6e(e){var t=Xa();be(t,159,Q6e(e));for(var r=0;r<e.length;++r)be(t,19,Z6e(e[r]));return be(t,160),t.end()}function e5e(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function MW(e){var t=0,r,n=e5e(e),a=n.length+1,i,o,l,c,u;for(r=hd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var t5e=function(){function e(a,i){switch(i.type){case"base64":return t(ml(a),i);case"binary":return t(a,i);case"buffer":return t(Yt&&Buffer.isBuffer(a)?a.toString("binary"):hg(a),i);case"array":return t(C_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,v,p=-1;v=h.exec(d);){switch(v[0]){case"\\cell":var g=d.slice(m,h.lastIndex-v[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var x={v:g,t:"s"};Array.isArray(l)?l[f][p]=x:l[cr({r:f,c:p})]=x}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=cn(u),l}function r(a,i){return jd(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Tr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=cr({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(pl(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function vF(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var r5e=6,Qo=r5e;function ub(e){return Math.floor((e+Math.round(128/Qo)/256)*Qo)}function db(e){return Math.floor((e-5)/Qo*100+.5)/100}function mC(e){return Math.round((e*Qo+5)/Qo*256)/256}function mP(e){e.width?(e.wpx=ub(e.width),e.wch=db(e.wpx),e.MDW=Qo):e.wpx?(e.wch=db(e.wpx),e.width=mC(e.wch),e.MDW=Qo):typeof e.wch=="number"&&(e.width=mC(e.wch),e.wpx=ub(e.width),e.MDW=Qo),e.customWidth&&delete e.customWidth}var n5e=96,IW=n5e;function fb(e){return e*96/IW}function FW(e){return e*IW/96}function a5e(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Fe("numFmt",null,{numFmtId:n,formatCode:or(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Fe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function i5e(e){var t=[];return t[t.length]=Fe("cellXfs",null),e.forEach(function(r){t[t.length]=Fe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Fe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function $W(e,t){var r=[fn,Fe("styleSheet",null,{xmlns:km[0],"xmlns:vt":kn.vt})],n;return e.SSF&&(n=a5e(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=i5e(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function s5e(e,t){var r=e.read_shift(2),n=ca(e);return[r,n]}function o5e(e,t,r){r||(r=pe(6+4*t.length)),r.write_shift(2,e),On(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function l5e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=X$e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=K$e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ca(e),n}function c5e(e,t){t||(t=pe(25+4*32)),t.write_shift(2,e.sz*20),Y$e(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),lb(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),On(e.name,t),t.length>t.l?t.slice(0,t.l):t}var u5e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],P2,d5e=vo;function gF(e,t){t||(t=pe(4*3+8*7+16*1)),P2||(P2=rP(u5e));var r=P2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(lb({auto:1},t),lb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function f5e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function LW(e,t,r){r||(r=pe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function up(e,t){return t||(t=pe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var h5e=vo;function m5e(e,t){return t||(t=pe(51)),t.write_shift(1,0),up(null,t),up(null,t),up(null,t),up(null,t),up(null,t),t.length>t.l?t.slice(0,t.l):t}function p5e(e,t){return t||(t=pe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),ob(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function v5e(e,t,r){var n=pe(2052);return n.write_shift(4,e),ob(t,n),ob(r,n),n.length>n.l?n.slice(0,n.l):n}function g5e(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(be(e,615,Cs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&be(e,44,o5e(a,t[a]))}),be(e,616))}}function x5e(e){var t=1;be(e,611,Cs(t)),be(e,43,c5e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),be(e,612)}function y5e(e){var t=2;be(e,603,Cs(t)),be(e,45,gF({patternType:"none"})),be(e,45,gF({patternType:"gray125"})),be(e,604)}function b5e(e){var t=1;be(e,613,Cs(t)),be(e,46,m5e()),be(e,614)}function w5e(e){var t=1;be(e,626,Cs(t)),be(e,47,LW({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),be(e,627)}function _5e(e,t){be(e,617,Cs(t.length)),t.forEach(function(r){be(e,47,LW(r,0))}),be(e,618)}function j5e(e){var t=1;be(e,619,Cs(t)),be(e,48,p5e({xfId:0,builtinId:0,name:"Normal"})),be(e,620)}function S5e(e){var t=0;be(e,505,Cs(t)),be(e,506)}function N5e(e){var t=0;be(e,508,v5e(t,"TableStyleMedium9","PivotStyleMedium4")),be(e,509)}function E5e(e,t){var r=Xa();return be(r,278),g5e(r,e.SSF),x5e(r),y5e(r),b5e(r),w5e(r),_5e(r,t.cellXfs),j5e(r),S5e(r),N5e(r),be(r,279),r.end()}function BW(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[fn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function C5e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ca(e)}}function T5e(e){var t=pe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),On(e.name,t),t.slice(0,t.l)}function A5e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function k5e(e){var t=pe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function P5e(e,t){var r=pe(8+2*t.length);return r.write_shift(4,e),On(t,r),r.slice(0,r.l)}function O5e(e){return e.l+=4,e.read_shift(4)!=0}function D5e(e,t){var r=pe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function R5e(){var e=Xa();return be(e,332),be(e,334,Cs(1)),be(e,335,T5e({name:"XLDAPR",version:12e4,flags:3496657072})),be(e,336),be(e,339,P5e(1,"XLDAPR")),be(e,52),be(e,35,Cs(514)),be(e,4096,Cs(0)),be(e,4097,Ri(1)),be(e,36),be(e,53),be(e,340),be(e,337,D5e(1)),be(e,51,k5e([[1,0]])),be(e,338),be(e,333),e.end()}function UW(){var e=[fn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function M5e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var xf=1024;function qW(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Fe("xml",null,{"xmlns:v":di.v,"xmlns:o":di.o,"xmlns:x":di.x,"xmlns:mv":di.mv}).replace(/\/>/,">"),Fe("o:shapelayout",Fe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Fe("v:shapetype",[Fe("v:stroke",null,{joinstyle:"miter"}),Fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];xf<e*1e3;)xf+=1e3;return t.forEach(function(i){var o=Pn(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=Fe("v:fill",c,l),d={on:"t",obscured:"t"};++xf,a=a.concat(["<v:shape"+_v({id:"_x0000_s"+xf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,Fe("v:shadow",null,d),Fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Kn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Kn("x:AutoFill","False"),Kn("x:Row",String(o.r)),Kn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function zW(e){var t=[fn,Fe("comments",null,{xmlns:km[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=or(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(or(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Kn("t",or(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Kn("t",or(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function I5e(e,t,r){var n=[fn,Fe("ThreadedComments",null,{xmlns:kn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Fe("threadedComment",Kn("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function F5e(e){var t=[fn,Fe("personList",null,{xmlns:kn.TCMNT,"xmlns:x":km[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Fe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $5e(e){var t={};t.iauthor=e.read_shift(4);var r=Cd(e);return t.rfx=r.s,t.ref=cr(r.s),e.l+=16,t}function L5e(e,t){return t==null&&(t=pe(36)),t.write_shift(4,e[1].iauthor),Om(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var B5e=ca;function U5e(e){return On(e.slice(0,54))}function q5e(e){var t=Xa(),r=[];return be(t,628),be(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),be(t,632,U5e(a.a)))})}),be(t,631),be(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Pn(n[0]),e:Pn(n[0])};be(t,635,L5e([i,a])),a.t&&a.t.length>0&&be(t,637,H$e(a)),be(t,636),delete a.iauthor})}),be(t,634),be(t,629),t.end()}function z5e(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&hr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var HW=["xlsb","xlsm","xlam","biff8","xla"],H5e=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+la(d)+(c?"":"$")+Yn(u)}return function(a,i){return t=i,a.replace(e,r)}}(),pP=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,vP=function(){return function(t,r){return t.replace(pP,function(n,a,i,o,l,c){var u=cP(o)-(i?0:r.c),d=lP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function V5e(e,t){return e.replace(pP,function(r,n,a,i,o,l){return n+(a=="$"?a+i:la(cP(i)+t.c))+(o=="$"?o+l:Yn(lP(l)+t.r))})}function W5e(e){return e.length!=1}function Jr(e){e.l+=1}function Ic(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function VW(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return WW(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Ic(e),l=Ic(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function WW(e){var t=Ic(e),r=Ic(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function G5e(e,t,r){if(r.biff<8)return WW(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ic(e),o=Ic(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function GW(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return K5e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ic(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function K5e(e){var t=Ic(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function X5e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Y5e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Q5e(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function Q5e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Z5e(e,t,r){var n=(e[e.l++]&96)>>5,a=VW(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function J5e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=VW(e,i,r);return[n,a,o]}function eLe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function tLe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function rLe(e,t,r){var n=(e[e.l++]&96)>>5,a=G5e(e,t-1,r);return[n,a]}function nLe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xF(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function aLe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function iLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function sLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function oLe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function lLe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function KW(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function cLe(e){return e.read_shift(2),KW(e)}function uLe(e){return e.read_shift(2),KW(e)}function dLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=GW(e,0,r);return[n,a]}function fLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Y5e(e,0,r);return[n,a]}function hLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=GW(e,0,r);return[n,a,i]}function mLe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[m8e[a],QW[a],n]}function pLe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:vLe(e);return[a,(i[0]===0?QW:h8e)[i[1]]]}function vLe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function gLe(e,t,r){e.l+=r&&r.biff==2?3:4}function xLe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function yLe(e){return e.l++,vg[e.read_shift(1)]}function bLe(e){return e.l++,e.read_shift(2)}function wLe(e){return e.l++,e.read_shift(1)!==0}function _Le(e){return e.l++,Dm(e)}function jLe(e,t,r){return e.l++,kW(e,t-1,r)}function SLe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=h6e(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vg[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Dm(e);break;case 2:r[1]=g6e(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function NLe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Cd:b6e)(e));return a}function ELe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=SLe(e,r.biff);return o}function CLe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function TLe(e,t,r){if(r.biff==5)return ALe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function ALe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function kLe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function PLe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function OLe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function DLe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var RLe=vo,MLe=vo,ILe=vo;function gg(e,t,r){return e.l+=2,[X5e(e)]}function gP(e){return e.l+=6,[]}var FLe=gg,$Le=gP,LLe=gP,BLe=gg;function XW(e){return e.l+=2,[TW(e),e.read_shift(2)&1]}var ULe=gg,qLe=XW,zLe=gP,HLe=gg,VLe=gg,WLe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function GLe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=WLe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function KLe(e){return e.l+=2,[e.read_shift(4)]}function XLe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function YLe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function QLe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ZLe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function JLe(e){return e.l+=4,[0,0]}var yF={1:{n:"PtgExp",f:xLe},2:{n:"PtgTbl",f:ILe},3:{n:"PtgAdd",f:Jr},4:{n:"PtgSub",f:Jr},5:{n:"PtgMul",f:Jr},6:{n:"PtgDiv",f:Jr},7:{n:"PtgPower",f:Jr},8:{n:"PtgConcat",f:Jr},9:{n:"PtgLt",f:Jr},10:{n:"PtgLe",f:Jr},11:{n:"PtgEq",f:Jr},12:{n:"PtgGe",f:Jr},13:{n:"PtgGt",f:Jr},14:{n:"PtgNe",f:Jr},15:{n:"PtgIsect",f:Jr},16:{n:"PtgUnion",f:Jr},17:{n:"PtgRange",f:Jr},18:{n:"PtgUplus",f:Jr},19:{n:"PtgUminus",f:Jr},20:{n:"PtgPercent",f:Jr},21:{n:"PtgParen",f:Jr},22:{n:"PtgMissArg",f:Jr},23:{n:"PtgStr",f:jLe},26:{n:"PtgSheet",f:XLe},27:{n:"PtgEndSheet",f:YLe},28:{n:"PtgErr",f:yLe},29:{n:"PtgBool",f:wLe},30:{n:"PtgInt",f:bLe},31:{n:"PtgNum",f:_Le},32:{n:"PtgArray",f:nLe},33:{n:"PtgFunc",f:mLe},34:{n:"PtgFuncVar",f:pLe},35:{n:"PtgName",f:CLe},36:{n:"PtgRef",f:dLe},37:{n:"PtgArea",f:Z5e},38:{n:"PtgMemArea",f:kLe},39:{n:"PtgMemErr",f:RLe},40:{n:"PtgMemNoMem",f:MLe},41:{n:"PtgMemFunc",f:PLe},42:{n:"PtgRefErr",f:OLe},43:{n:"PtgAreaErr",f:eLe},44:{n:"PtgRefN",f:fLe},45:{n:"PtgAreaN",f:rLe},46:{n:"PtgMemAreaN",f:QLe},47:{n:"PtgMemNoMemN",f:ZLe},57:{n:"PtgNameX",f:TLe},58:{n:"PtgRef3d",f:hLe},59:{n:"PtgArea3d",f:J5e},60:{n:"PtgRefErr3d",f:DLe},61:{n:"PtgAreaErr3d",f:tLe},255:{}},e8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},t8e={1:{n:"PtgElfLel",f:XW},2:{n:"PtgElfRw",f:HLe},3:{n:"PtgElfCol",f:FLe},6:{n:"PtgElfRwV",f:VLe},7:{n:"PtgElfColV",f:BLe},10:{n:"PtgElfRadical",f:ULe},11:{n:"PtgElfRadicalS",f:zLe},13:{n:"PtgElfColS",f:$Le},15:{n:"PtgElfColSV",f:LLe},16:{n:"PtgElfRadicalLel",f:qLe},25:{n:"PtgList",f:GLe},29:{n:"PtgSxName",f:KLe},255:{}},r8e={0:{n:"PtgAttrNoop",f:JLe},1:{n:"PtgAttrSemi",f:lLe},2:{n:"PtgAttrIf",f:sLe},4:{n:"PtgAttrChoose",f:aLe},8:{n:"PtgAttrGoto",f:iLe},16:{n:"PtgAttrSum",f:gLe},32:{n:"PtgAttrBaxcel",f:xF},33:{n:"PtgAttrBaxcel",f:xF},64:{n:"PtgAttrSpace",f:cLe},65:{n:"PtgAttrSpaceSemi",f:uLe},128:{n:"PtgAttrIfError",f:oLe},255:{}};function n8e(e,t,r,n){if(n.biff<8)return vo(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=ELe(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=NLe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(vo(e,t)),i}function a8e(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=yF[i]||yF[e8e[i]],(i===24||i===25)&&(a=(i===24?t8e:r8e)[e[e.l+1]]),!a||!a.f?vo(e,t):o.push([a.n,a.f(e,t,r)]);return o}function i8e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var s8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function o8e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function YW(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bF(e,t,r){var n=YW(e,t,r);return n=="#REF"?n:o8e(n,r)}function Xh(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,v="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",x=0,y=e[0].length;x<y;++x){var w=e[0][x];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Hr(" ",e[0][p][1][1]);break;case 1:g=Hr("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+g,p=-1}l.push(u+s8e[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Xp(w[1][1],o,a),l.push(Yp(d,i));break;case"PtgRefN":d=r?Xp(w[1][1],r,a):w[1][1],l.push(Yp(d,i));break;case"PtgRef3d":f=w[1][1],d=Xp(w[1][2],o,a),v=bF(n,f,a),l.push(v+"!"+Yp(d,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],j=w[1][1];b||(b=0),b&=127;var N=b==0?[]:l.slice(-b);l.length-=b,j==="User"&&(j=N.shift()),l.push(j+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=aF(w[1][1],r?{s:r}:o,a),l.push(A2(m,a));break;case"PtgArea":m=aF(w[1][1],o,a),l.push(A2(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],v=bF(n,f,a),l.push(v+"!"+A2(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],E=S?S.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var T;if(a.biff<=5)C<0&&(C=-C),n[C]&&(T=n[C][h]);else{var A="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(A=n.SheetNames[n[C][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])A+=n[C][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var k=(YW(n,C,a)||"").split(";;");k[h-1]?A=k[h-1]:A+="SH33TJSERRX"}l.push(A);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var P="(",L=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:P=Hr(" ",e[0][p][1][1])+P;break;case 3:P=Hr("\r",e[0][p][1][1])+P;break;case 4:L=Hr(" ",e[0][p][1][1])+L;break;case 5:L=Hr("\r",e[0][p][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(P+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[cr(d)]){var M=n.sharedf[cr(d)];l.push(Xh(M,o,B,n,a))}else{var D=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Xh(u[1],o,B,n,a)),D=!0;break}D||l.push(w[1])}break;case"PtgArray":l.push("{"+i8e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var O=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&O.indexOf(e[0][x][0])==-1){w=e[0][p];var W=!0;switch(w[1][0]){case 4:W=!1;case 0:g=Hr(" ",w[1][1]);break;case 5:W=!1;case 1:g=Hr("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((W?g:"")+l.pop()+(W?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function l8e(e){if(e==null){var t=pe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return md(e);return md(0)}function c8e(e,t,r,n,a){var i=pd(t,r,a),o=l8e(e.v),l=pe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=pe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var f=Gn([i,o,l,u]);return f}function T_(e,t,r){var n=e.read_shift(4),a=a8e(e,n,r),i=e.read_shift(4),o=i>0?n8e(e,i,a,r):null;return[a,o]}var u8e=T_,A_=T_,d8e=T_,f8e=T_,h8e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},m8e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function p8e(e){var t="of:="+e.replace(pP,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function v8e(e){return e.replace(/\./,"!")}var Qp=typeof Map<"u";function xP(e,t,r){var n=0,a=e.length;if(r){if(Qp?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Qp?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Qp?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function k_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Qo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=db(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=mC(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function ZW(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function eu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){GV(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function g8e(e,t,r){if(e&&e["!ref"]){var n=Tr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function x8e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+cn(e[r])+'"/>';return t+"</mergeCells>"}function y8e(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=wv(or(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+Fe("outlinePr",null,u)}!i&&!l||(a[a.length]=Fe("sheetPr",l,o))}var b8e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],w8e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _8e(e){var t={sheet:1};return b8e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),w8e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=MW(e.password).toString(16).toUpperCase()),Fe("sheetProtection",null,t)}function j8e(e){return ZW(e),Fe("pageMargins",null,e)}function S8e(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Fe("col",null,k_(a,n)));return r[r.length]="</cols>",r.join("")}function N8e(e,t,r,n){var a=typeof e.ref=="string"?e.ref:cn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=_i(a);o.s.r==o.e.r&&(o.e.r=_i(t["!ref"]).e.r,a=cn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Fe("autoFilter",null,{ref:a})}function E8e(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Fe("sheetViews",Fe("sheetView",null,a),{})}function C8e(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=vg[e.v];break;case"d":n&&n.cellDates?a=Aa(e.v,-1).toISOString():(e=Za(e),e.t="n",a=""+(e.v=Qa(Aa(e.v)))),typeof e.z>"u"&&(e.z=Gr[14]);break;default:a=e.v;break}var l=Kn("v",or(a)),c={r:t},u=eu(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Kn("v",""+xP(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Fe("f",or(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Fe("c",l,c)}function T8e(e,t,r,n){var a=[],i=[],o=Tr(e["!ref"]),l="",c,u="",d=[],f=0,h=0,m=e["!rows"],v=Array.isArray(e),p={r:u},g,x=-1;for(h=o.s.c;h<=o.e.c;++h)d[h]=la(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],u=Yn(f),h=o.s.c;h<=o.e.c;++h){c=d[h]+u;var y=v?(e[f]||[])[h]:e[c];y!==void 0&&(l=C8e(y,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(p={r:u},m&&m[f]&&(g=m[f],g.hidden&&(p.hidden=1),x=-1,g.hpx?x=fb(g.hpx):g.hpt&&(x=g.hpt),x>-1&&(p.ht=x,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=Fe("row",i.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},g=m[f],g.hidden&&(p.hidden=1),x=-1,g.hpx?x=fb(g.hpx):g.hpt&&(x=g.hpt),x>-1&&(p.ht=x,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=Fe("row","",p));return a.join("")}function JW(e,t,r,n){var a=[fn,Fe("worksheet",null,{xmlns:km[0],"xmlns:r":kn.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=Tr(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=cn(d)}n||(n={}),c["!comments"]=[];var f=[];y8e(c,r,e,t,a),a[a.length]=Fe("dimension",null,{ref:u}),a[a.length]=E8e(c,t,e,r),t.sheetFormat&&(a[a.length]=Fe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=S8e(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=T8e(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=_8e(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=N8e(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=x8e(c["!merges"]));var h=-1,m,v=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(v=ar(n,-1,or(p[1].Target).replace(/#.*$/,""),Vt.HLINK),m["r:id"]="rId"+v),(h=p[1].Target.indexOf("#"))>-1&&(m.location=or(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=or(p[1].Tooltip)),a[a.length]=Fe("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=j8e(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Kn("ignoredErrors",Fe("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=ar(n,-1,"../drawings/drawing"+(e+1)+".xml",Vt.DRAW),a[a.length]=Fe("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=ar(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Vt.VML),a[a.length]=Fe("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function A8e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function k8e(e,t,r){var n=pe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=fb(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var f=-1,h=-1,m=d<<10;m<d+1<<10;++m){u.c=m;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[cr(u)];v&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function P8e(e,t,r,n){var a=k8e(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&be(e,0,a)}var O8e=Cd,D8e=Om;function R8e(){}function M8e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=V$e(e),r}function I8e(e,t,r){r==null&&(r=pe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return lb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),mW(e,r),r.slice(0,r.l)}function F8e(e){var t=rs(e);return[t]}function $8e(e,t,r){return r==null&&(r=pe(8)),Sd(t,r)}function L8e(e){var t=Nd(e);return[t]}function B8e(e,t,r){return r==null&&(r=pe(4)),Ed(t,r)}function U8e(e){var t=rs(e),r=e.read_shift(1);return[t,r,"b"]}function q8e(e,t,r){return r==null&&(r=pe(9)),Sd(t,r),r.write_shift(1,e.v?1:0),r}function z8e(e){var t=Nd(e),r=e.read_shift(1);return[t,r,"b"]}function H8e(e,t,r){return r==null&&(r=pe(5)),Ed(t,r),r.write_shift(1,e.v?1:0),r}function V8e(e){var t=rs(e),r=e.read_shift(1);return[t,r,"e"]}function W8e(e,t,r){return r==null&&(r=pe(9)),Sd(t,r),r.write_shift(1,e.v),r}function G8e(e){var t=Nd(e),r=e.read_shift(1);return[t,r,"e"]}function K8e(e,t,r){return r==null&&(r=pe(8)),Ed(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function X8e(e){var t=rs(e),r=e.read_shift(4);return[t,r,"s"]}function Y8e(e,t,r){return r==null&&(r=pe(12)),Sd(t,r),r.write_shift(4,t.v),r}function Q8e(e){var t=Nd(e),r=e.read_shift(4);return[t,r,"s"]}function Z8e(e,t,r){return r==null&&(r=pe(8)),Ed(t,r),r.write_shift(4,t.v),r}function J8e(e){var t=rs(e),r=Dm(e);return[t,r,"n"]}function eBe(e,t,r){return r==null&&(r=pe(16)),Sd(t,r),md(e.v,r),r}function tBe(e){var t=Nd(e),r=Dm(e);return[t,r,"n"]}function rBe(e,t,r){return r==null&&(r=pe(12)),Ed(t,r),md(e.v,r),r}function nBe(e){var t=rs(e),r=pW(e);return[t,r,"n"]}function aBe(e,t,r){return r==null&&(r=pe(12)),Sd(t,r),vW(e.v,r),r}function iBe(e){var t=Nd(e),r=pW(e);return[t,r,"n"]}function sBe(e,t,r){return r==null&&(r=pe(8)),Ed(t,r),vW(e.v,r),r}function oBe(e){var t=rs(e),r=uP(e);return[t,r,"is"]}function lBe(e){var t=rs(e),r=ca(e);return[t,r,"str"]}function cBe(e,t,r){return r==null&&(r=pe(12+4*e.v.length)),Sd(t,r),On(e.v,r),r.length>r.l?r.slice(0,r.l):r}function uBe(e){var t=Nd(e),r=ca(e);return[t,r,"str"]}function dBe(e,t,r){return r==null&&(r=pe(8+4*e.v.length)),Ed(t,r),On(e.v,r),r.length>r.l?r.slice(0,r.l):r}function fBe(e,t,r){var n=e.l+t,a=rs(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=A_(e,n-e.l,r);o[3]=Xh(l,null,a,r.supbooks,r)}else e.l=n;return o}function hBe(e,t,r){var n=e.l+t,a=rs(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=A_(e,n-e.l,r);o[3]=Xh(l,null,a,r.supbooks,r)}else e.l=n;return o}function mBe(e,t,r){var n=e.l+t,a=rs(e);a.r=r["!row"];var i=Dm(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=A_(e,n-e.l,r);o[3]=Xh(l,null,a,r.supbooks,r)}else e.l=n;return o}function pBe(e,t,r){var n=e.l+t,a=rs(e);a.r=r["!row"];var i=ca(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=A_(e,n-e.l,r);o[3]=Xh(l,null,a,r.supbooks,r)}else e.l=n;return o}var vBe=Cd,gBe=Om;function xBe(e,t){return t==null&&(t=pe(4)),t.write_shift(4,e),t}function yBe(e,t){var r=e.l+t,n=Cd(e),a=dP(e),i=ca(e),o=ca(e),l=ca(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function bBe(e,t){var r=pe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Om({s:Pn(e[0]),e:Pn(e[0])},r),fP("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return On(a||"",r),On(e[1].Tooltip||"",r),On("",r),r.slice(0,r.l)}function wBe(){}function _Be(e,t,r){var n=e.l+t,a=gW(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=u8e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function jBe(e,t,r){var n=e.l+t,a=Cd(e),i=[a];if(r.cellFormula){var o=f8e(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function SBe(e,t,r){r==null&&(r=pe(18));var n=k_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var eG=["left","right","top","bottom","header","footer"];function NBe(e){var t={};return eG.forEach(function(r){t[r]=Dm(e)}),t}function EBe(e,t){return t==null&&(t=pe(6*8)),ZW(e),eG.forEach(function(r){md(e[r],t)}),t}function CBe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function TBe(e,t,r){r==null&&(r=pe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ABe(e){var t=pe(24);return t.write_shift(4,4),t.write_shift(4,1),Om(e,t),t}function kBe(e,t){return t==null&&(t=pe(16*4+2)),t.write_shift(2,e.password?MW(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function PBe(){}function OBe(){}function DBe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=Za(t),t.z=t.z||Gr[14],t.v=Qa(Aa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=eu(a.cellXfs,t,a),t.l&&i["!links"].push([cr(c),t.l]),t.c&&i["!comments"].push([cr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=xP(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?be(e,18,Z8e(t,c)):be(e,7,Y8e(t,c))):(c.t="str",o?be(e,17,dBe(t,c)):be(e,6,cBe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?be(e,13,sBe(t,c)):be(e,2,aBe(t,c)):o?be(e,16,rBe(t,c)):be(e,5,eBe(t,c)),!0;case"b":return c.t="b",o?be(e,15,H8e(t,c)):be(e,4,q8e(t,c)),!0;case"e":return c.t="e",o?be(e,14,K8e(t,c)):be(e,3,W8e(t,c)),!0}return o?be(e,12,B8e(t,c)):be(e,1,$8e(t,c)),!0}function RBe(e,t,r,n){var a=Tr(t["!ref"]||"A1"),i,o="",l=[];be(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=Yn(d),P8e(e,t,a,d);var f=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(l[h]=la(h)),i=l[h]+o;var m=c?(t[d]||[])[h]:t[i];if(!m){f=!1;continue}f=DBe(e,m,d,h,n,t,f)}}be(e,146)}function MBe(e,t){!t||!t["!merges"]||(be(e,177,xBe(t["!merges"].length)),t["!merges"].forEach(function(r){be(e,176,gBe(r))}),be(e,178))}function IBe(e,t){!t||!t["!cols"]||(be(e,390),t["!cols"].forEach(function(r,n){r&&be(e,60,SBe(n,r))}),be(e,391))}function FBe(e,t){!t||!t["!ref"]||(be(e,648),be(e,649,ABe(Tr(t["!ref"]))),be(e,650))}function $Be(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ar(r,-1,n[1].Target.replace(/#.*$/,""),Vt.HLINK);be(e,494,bBe(n,a))}}),delete t["!links"]}function LBe(e,t,r,n){if(t["!comments"].length>0){var a=ar(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Vt.VML);be(e,551,fP("rId"+a)),t["!legacy"]=a}}function BBe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:cn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=_i(i);l.s.r==l.e.r&&(l.e.r=_i(t["!ref"]).e.r,i=cn(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),be(e,161,Om(Tr(i))),be(e,162)}}function UBe(e,t,r){be(e,133),be(e,137,TBe(t,r)),be(e,138),be(e,134)}function qBe(e,t){t["!protect"]&&be(e,535,kBe(t["!protect"]))}function zBe(e,t,r,n){var a=Xa(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Tr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],be(a,129),(r.vbaraw||o["!outline"])&&be(a,147,I8e(l,o["!outline"])),be(a,148,D8e(c)),UBe(a,o,r.Workbook),IBe(a,o),RBe(a,o,e,t),qBe(a,o),BBe(a,o,r,e),MBe(a,o),$Be(a,o,n),o["!margins"]&&be(a,476,EBe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&FBe(a,o),LBe(a,o,e,n),be(a,130),a.end()}function HBe(e,t){e.l+=10;var r=ca(e);return{name:r}}var VBe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function WBe(e){return!e.Workbook||!e.Workbook.WBProps?"false":j$e(e.Workbook.WBProps.date1904)?"true":"false"}var GBe="][*?/\\".split("");function tG(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return GBe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function KBe(e,t,r){e.forEach(function(n,a){tG(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function XBe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];KBe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)g8e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function rG(e){var t=[fn];t[t.length]=Fe("workbook",null,{xmlns:km[0],"xmlns:r":kn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(VBe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Fe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:or(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Fe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Fe("definedName",or(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function YBe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=hC(e),r.name=ca(e),r}function QBe(e,t){return t||(t=pe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),fP(e.strRelID,t),On(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ZBe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ca(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function JBe(e,t){t||(t=pe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),mW(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function e9e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=W$e(e),o=d8e(e,0,r),l=dP(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function t9e(e,t){be(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};be(e,156,QBe(a))}be(e,144)}function r9e(e,t){t||(t=pe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return On("SheetJS",t),On(tb.version,t),On(tb.version,t),On("7262",t),t.length>t.l?t.slice(0,t.l):t}function n9e(e,t){t||(t=pe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function a9e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(be(e,135),be(e,158,n9e(a)),be(e,136))}}function i9e(e,t){var r=Xa();return be(r,131),be(r,128,r9e()),be(r,153,JBe(e.Workbook&&e.Workbook.WBProps||null)),a9e(r,e),t9e(r,e),be(r,132),r.end()}function s9e(e,t,r){return(t.slice(-4)===".bin"?i9e:rG)(e)}function o9e(e,t,r,n,a){return(t.slice(-4)===".bin"?zBe:JW)(e,r,n,a)}function l9e(e,t,r){return(t.slice(-4)===".bin"?E5e:$W)(e,r)}function c9e(e,t,r){return(t.slice(-4)===".bin"?J6e:RW)(e,r)}function u9e(e,t,r){return(t.slice(-4)===".bin"?q5e:zW)(e)}function d9e(e){return(e.slice(-4)===".bin"?R5e:UW)()}function f9e(e,t){var r=[];return e.Props&&r.push(l6e(e.Props,t)),e.Custprops&&r.push(c6e(e.Props,e.Custprops)),r.join("")}function h9e(){return""}function m9e(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Fe("NumberFormat",null,{"ss:Format":or(Gr[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Fe("Style",i.join(""),o))}),Fe("Styles",r.join(""))}function nG(e){return Fe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+vP(e.Ref,{r:0,c:0})})}function p9e(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(nG(a)))}return Fe("Names",r.join(""))}function v9e(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(nG(l)))}return i.join("")}function g9e(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Fe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Fe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Fe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Fe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Kn("ProtectContents","True")),e["!protect"].objects&&a.push(Kn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Kn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Kn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Kn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Fe("WorksheetOptions",a.join(""),{xmlns:di.x})}function x9e(e){return e.map(function(t){var r=_$e(t.t||""),n=Fe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Fe("Comment",n,{"ss:Author":t.a})}).join("")}function y9e(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+or(vP(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Pn(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=or(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=or(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=vg[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gr[14]);break;case"s":f="String",h=w$e(e.v||"");break}var m=eu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var v=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(e.c||[]).length>0&&(p+=x9e(e.c)),Fe("Cell",p,l)}function b9e(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=FW(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function w9e(e,t,r,n){if(!e["!ref"])return"";var a=Tr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,x){mP(g);var y=!!g.width,w=k_(x,g),b={"ss:Index":x+1};y&&(b["ss:Width"]=ub(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(Fe("Column",null,b))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[b9e(u,(e["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>u)&&!(i[o].e.c<f)&&!(i[o].e.r<u)){(i[o].s.c!=f||i[o].s.r!=u)&&(h=!0);break}if(!h){var m={r:u,c:f},v=cr(m),p=c?(e[u]||[])[f]:e[v];d.push(y9e(p,v,e,t,r,n,m))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function _9e(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?v9e(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?w9e(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(g9e(i,t,e,r)),n.join("")}function j9e(e,t){t||(t={}),e.SSF||(e.SSF=Za(Gr)),e.SSF&&(N_(),S_(e.SSF),t.revssf=E_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],eu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(f9e(e,t)),r.push(h9e()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Fe("Worksheet",_9e(n,t,e),{"ss:Name":or(e.SheetNames[n])}));return r[2]=m9e(e,t),r[3]=p9e(e),fn+Fe("Workbook",r.join(""),{xmlns:di.ss,"xmlns:o":di.o,"xmlns:x":di.x,"xmlns:ss":di.ss,"xmlns:dt":di.dt,"xmlns:html":di.html})}var O2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function S9e(e,t){var r=[],n=[],a=[],i=0,o,l=GI(sF,"n"),c=GI(oF,"n");if(e.Props)for(o=Zn(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Zn(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)CW.indexOf(a[i][0])>-1||SW.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&hr.utils.cfb_add(t,"/SummaryInformation",fF(n,O2.SI,c,oF)),(r.length||u.length)&&hr.utils.cfb_add(t,"/DocumentSummaryInformation",fF(r,O2.DSI,l,sF,u.length?u:null,O2.UDI))}function N9e(e,t){var r=t||{},n=hr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return hr.utils.cfb_add(n,a,aG(e,r)),r.biff==8&&(e.Props||e.Custprops)&&S9e(e,n),r.biff==8&&e.vbaraw&&z5e(n,hr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var E9e={0:{f:A8e},1:{f:F8e},2:{f:nBe},3:{f:V8e},4:{f:U8e},5:{f:J8e},6:{f:lBe},7:{f:X8e},8:{f:pBe},9:{f:mBe},10:{f:fBe},11:{f:hBe},12:{f:L8e},13:{f:iBe},14:{f:G8e},15:{f:z8e},16:{f:tBe},17:{f:uBe},18:{f:Q8e},19:{f:uP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:e9e},40:{},42:{},43:{f:l5e},44:{f:s5e},45:{f:d5e},46:{f:h5e},47:{f:f5e},48:{},49:{f:L$e},50:{},51:{f:A5e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:B6e},62:{f:oBe},63:{f:M5e},64:{f:PBe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:vo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:CBe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M8e},148:{f:O8e,p:16},151:{f:wBe},152:{},153:{f:ZBe},154:{},155:{},156:{f:YBe},157:{},158:{},159:{T:1,f:Y6e},160:{T:-1},161:{T:1,f:Cd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:vBe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:C5e},336:{T:-1},337:{f:O5e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:R6e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_Be},427:{f:jBe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NBe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:R8e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:yBe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:B5e},633:{T:1},634:{T:-1},635:{T:1,f:$5e},636:{T:-1},637:{f:z$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:HBe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OBe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Be(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&oP(r)&&e.push(r)}}function C9e(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Be(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function xg(e,t,r){return e||(e=pe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function T9e(e,t,r,n){var a=pe(9);return xg(a,e,t),AW(r,n||"b",a),a}function A9e(e,t,r){var n=pe(8+2*r.length);return xg(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function k9e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Qa(Aa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Be(e,2,H6e(r,n,a)):Be(e,3,z6e(r,n,a));return;case"b":case"e":Be(e,5,T9e(r,n,t.v,t.t));return;case"s":case"str":Be(e,4,A9e(r,n,(t.v||"").slice(0,255)));return}Be(e,1,xg(null,r,n))}function P9e(e,t,r,n){var a=Array.isArray(t),i=Tr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=cn(i)}for(var u=i.s.r;u<=i.e.r;++u){l=Yn(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=la(d)),o=c[d]+l;var f=a?(t[u]||[])[d]:t[o];f&&k9e(e,f,u,d)}}}function O9e(e,t){for(var r=t||{},n=Xa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Be(n,r.biff==4?1033:r.biff==3?521:9,hP(e,16,r)),P9e(n,e.Sheets[e.SheetNames[a]],a,r),Be(n,10),n.end()}function D9e(e,t,r){Be(e,49,E6e({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function R9e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Be(e,1054,A6e(a,t[a],r))})}function M9e(e,t){var r=pe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Be(e,2151,r),r=pe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),OW(Tr(t["!ref"]||"A1"),r),r.write_shift(4,4),Be(e,2152,r)}function I9e(e,t){for(var r=0;r<16;++r)Be(e,224,mF({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Be(e,224,mF(n,0,t))})}function F9e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Be(e,440,F6e(n)),n[1].Tooltip&&Be(e,2048,$6e(n))}delete t["!links"]}function $9e(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Be(e,125,U6e(k_(a,n),a))})}}function L9e(e,t,r,n,a){var i=16+eu(a.cellXfs,t,a);if(t.v==null&&!t.bf){Be(e,513,pd(r,n,i));return}if(t.bf)Be(e,6,c8e(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Qa(Aa(t.v)):t.v;Be(e,515,D6e(r,n,o,i));break;case"b":case"e":Be(e,517,O6e(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=xP(a.Strings,t.v,a.revStrings);Be(e,253,C6e(r,n,l,i))}else Be(e,516,T6e(r,n,(t.v||"").slice(0,255),i,a));break;default:Be(e,513,pd(r,n,i))}}function B9e(e,t,r){var n=Xa(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,f="",h=[],m=Tr(i["!ref"]||"A1"),v=u?65536:16384;if(m.e.c>255||m.e.r>=v){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,v-1)}Be(n,2057,hP(r,16,t)),Be(n,13,Ri(1)),Be(n,12,Ri(100)),Be(n,15,ba(!0)),Be(n,17,ba(!1)),Be(n,16,md(.001)),Be(n,95,ba(!0)),Be(n,42,ba(!1)),Be(n,43,ba(!1)),Be(n,130,Ri(1)),Be(n,128,P6e()),Be(n,131,ba(!1)),Be(n,132,ba(!1)),u&&$9e(n,i["!cols"]),Be(n,512,k6e(m,t)),u&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=Yn(p);for(var g=m.s.c;g<=m.e.c;++g){p===m.s.r&&(h[g]=la(g)),d=h[g]+f;var x=c?(i[p]||[])[g]:i[d];x&&(L9e(n,x,p,g,t),u&&x.l&&i["!links"].push([d,x.l]))}}var y=l.CodeName||l.name||a;return u&&Be(n,574,N6e((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Be(n,229,I6e(i["!merges"])),u&&F9e(n,i),Be(n,442,PW(y)),u&&M9e(n,i),Be(n,10),n.end()}function U9e(e,t,r){var n=Xa(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Be(n,2057,hP(e,5,r)),r.bookType=="xla"&&Be(n,135),Be(n,225,l?Ri(1200):null),Be(n,193,f6e(2)),c&&Be(n,191),c&&Be(n,192),Be(n,226),Be(n,92,w6e("SheetJS",r)),Be(n,66,Ri(l?1200:1252)),l&&Be(n,353,Ri(0)),l&&Be(n,448),Be(n,317,q6e(e.SheetNames.length)),l&&e.vbaraw&&Be(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Be(n,442,PW(u))}Be(n,156,Ri(17)),Be(n,25,ba(!1)),Be(n,18,ba(!1)),Be(n,19,Ri(0)),l&&Be(n,431,ba(!1)),l&&Be(n,444,Ri(0)),Be(n,61,S6e()),Be(n,64,ba(!1)),Be(n,141,Ri(0)),Be(n,34,ba(WBe(e)=="true")),Be(n,14,ba(!0)),l&&Be(n,439,ba(!1)),Be(n,218,Ri(0)),D9e(n,e,r),R9e(n,e.SSF,r),I9e(n,r),l&&Be(n,352,ba(!1));var d=n.end(),f=Xa();l&&Be(f,140,L6e()),l&&r.Strings&&C9e(f,252,j6e(r.Strings)),Be(f,10);var h=f.end(),m=Xa(),v=0,p=0;for(p=0;p<e.SheetNames.length;++p)v+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=d.length+v+h.length;for(p=0;p<e.SheetNames.length;++p){var x=i[p]||{};Be(m,133,_6e({pos:g,hs:x.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=m.end();if(v!=y.length)throw new Error("BS8 "+v+" != "+y.length);var w=[];return d.length&&w.push(d),y.length&&w.push(y),h.length&&w.push(h),Gn(w)}function q9e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Za(Gr)),e&&e.SSF&&(N_(),S_(e.SSF),r.revssf=E_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,yP(r),r.cellXfs=[],eu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=B9e(a,r,e);return n.unshift(U9e(e,n,r)),Gn(n)}function aG(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=_i(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return q9e(e,t);case 4:case 3:case 2:return O9e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function z9e(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=cr({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||b$e(f.w||(pl(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,i.push(Fe("td",h,m))}}var v="<tr>";return v+i.join("")+"</tr>"}var H9e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',V9e="</body></html>";function W9e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iG(e,t){var r=t||{},n=r.header!=null?r.header:H9e,a=r.footer!=null?r.footer:V9e,i=[n],o=_i(e["!ref"]);r.dense=Array.isArray(e),i.push(W9e(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(z9e(e,o,l,r));return i.push("</table>"+a),i.join("")}function sG(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Pn(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=_i(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),v=0,p=0,g=0,x=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);v<l.length&&p<c;++v){var b=l[v];if(wF(b)){if(n.display)continue;m[p]={hidden:!0}}var j=b.children;for(g=x=0;g<j.length;++g){var N=j[g];if(!(n.display&&wF(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):S$e(N.innerHTML),E=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==x+i&&C.s.r<p+a&&p+a<=C.e.r&&(x=C.e.c+1-i,h=-1)}w=+N.getAttribute("colspan")||1,((y=+N.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:x+i},e:{r:p+a+(y||1)-1,c:x+i+(w||1)-1}});var T={t:"s",v:S},A=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?T.t=A||"z":n.raw||S.trim().length==0||A=="s"||(S==="TRUE"?T={t:"b",v:!0}:S==="FALSE"?T={t:"b",v:!1}:isNaN(Yo(S))?isNaN(bv(S).getDate())||(T={t:"d",v:Aa(S)},n.cellDates||(T={t:"n",v:Qa(T.v)}),T.z=n.dateNF||Gr[14]):T={t:"n",v:Yo(S)})),T.z===void 0&&E!=null&&(T.z=E);var k="",P=N.getElementsByTagName("A");if(P&&P.length)for(var L=0;L<P.length&&!(P[L].hasAttribute("href")&&(k=P[L].getAttribute("href"),k.charAt(0)!="#"));++L);k&&k.charAt(0)!="#"&&(T.l={Target:k}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][x+i]=T):e[cr({c:x+i,r:p+a})]=T,u.e.c<x+i&&(u.e.c=x+i),x+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=cn(u),p>=c&&(e["!fullref"]=cn((u.e.r=l.length-v+p-1+a,u))),e}function oG(e,t){var r=t||{},n=r.dense?[]:{};return sG(n,e,t)}function G9e(e,t){return jd(oG(e,t),t)}function wF(e){var t="",r=K9e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function K9e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var X9e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+_v({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return fn+t}}(),_F=function(){var e=function(i){return or(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+or(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=_i(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,v=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(u=0;u<f.s.r;++u)p=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=f.e.r;++u){for(p=g[u]?' table:style-name="ro'+g[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),d=0;d<f.s.c;++d)c.push(t);for(;d<=f.e.c;++d){var x=!1,y={},w="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>d)&&!(h[m].s.r>u)&&!(h[m].e.c<d)&&!(h[m].e.r<u)){(h[m].s.c!=d||h[m].s.r!=u)&&(x=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(x){c.push(r);continue}var b=cr({r:u,c:d}),j=v?(i[u]||[])[d]:i[b];if(j&&j.f&&(y["table:formula"]=or(p8e(j.f)),j.F&&j.F.slice(0,b.length)==b)){var N=_i(j.F);y["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,y["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!j){c.push(t);continue}switch(j.t){case"b":w=j.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=j.v?"true":"false";break;case"n":w=j.w||String(j.v||0),y["office:value-type"]="float",y["office:value"]=j.v||0;break;case"s":case"str":w=j.v==null?"":j.v,y["office:value-type"]="string";break;case"d":w=j.w||Aa(j.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Aa(j.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(w);if(j.l&&j.l.Target){var E=j.l.Target;E=E.charAt(0)=="#"?"#"+v8e(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),S=Fe("text:a",S,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+Fe("table:table-cell",Fe("text:p",S,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;mP(f),f.ods=l;var h=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[fn],u=_v({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=_v({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(_W().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function lG(e,t){if(t.bookType=="fods")return _F(e,t);var r=nP(),n="",a=[],i=[];return n="mimetype",Ct(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ct(r,n,_F(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ct(r,n,X9e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ct(r,n,fn+_W()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ct(r,n,o6e(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ct(r,n,i6e(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function hb(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Y9e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):gs(wv(e))}function Q9e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Fc(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Z9e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Bf(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function pn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=jv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function Ln(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(rr(n*8+a.type)),a.type==2&&t.push(rr(a.data.length)),t.push(a.data))})}),Fc(t)}function is(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=jv(e,n),i=pn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Bf(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=pn(l.data),u=Bf(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=Bf(i[3][0].data)>>>0>0),r.push(o)}return r}function zd(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:rr(o.data.length)}],n[2].push({data:Ln(o.meta),type:2})});var i=Ln(n);t.push(rr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Fc(t)}function J9e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=jv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Fc(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Fc(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function ss(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(J9e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Fc(t)}function Hd(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=rr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Fc(t)}function D2(e,t){var r=new Uint8Array(32),n=hb(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Z9e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function R2(e,t){var r=new Uint8Array(32),n=hb(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Ol(e){var t=pn(e);return jv(t[1][0].data)}function e7e(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Bf(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=hb(e[7][0].data),d=0,f=[],h=hb(e[4][0].data),m=0,v=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}u.setUint16(p*2,d,!0),h.setUint16(p*2,m,!0);var g,x;switch(typeof t[p]){case"string":g=D2({t:"s",v:t[p]},r),x=R2({t:"s",v:t[p]},r);break;case"number":g=D2({t:"n",v:t[p]},r),x=R2({t:"n",v:t[p]},r);break;case"boolean":g=D2({t:"b",v:t[p]},r),x=R2({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),d+=g.length,v.push(x),m+=x.length,++c}for(e[2][0].data=rr(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=Fc(f),e[3][0].data=Fc(v),c}function t7e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=_i(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(cn(n)));var i=mb(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(Y){typeof Y=="string"&&o.push(Y)})});var l={},c=[],u=hr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(X,Y){return[X,u.FullPaths[Y]]}).forEach(function(X){var Y=X[0],Q=X[1];if(Y.type==2&&Y.name.match(/\.iwa/)){var ie=Y.content,he=ss(ie),we=is(he);we.forEach(function(se){c.push(se.id),l[se.id]={deps:[],location:Q,type:Bf(se.messages[0].meta[1][0].data)}})}}),c.sort(function(X,Y){return X-Y});var d=c.filter(function(X){return X>1}).map(function(X){return[X,rr(X)]});u.FileIndex.map(function(X,Y){return[X,u.FullPaths[Y]]}).forEach(function(X){var Y=X[0];if(X[1],!!Y.name.match(/\.iwa/)){var Q=is(ss(Y.content));Q.forEach(function(ie){ie.messages.forEach(function(he){d.forEach(function(we){ie.messages.some(function(se){return Bf(se.meta[1][0].data)!=11006&&Q9e(se.data,we[1])})&&l[we[0]].deps.push(ie.id)})})})}});for(var f=hr.find(u,l[1].location),h=is(ss(f.content)),m,v=0;v<h.length;++v){var p=h[v];p.id==1&&(m=p)}var g=Ol(pn(m.messages[0].data)[1][0].data);for(f=hr.find(u,l[g].location),h=is(ss(f.content)),v=0;v<h.length;++v)p=h[v],p.id==g&&(m=p);for(g=Ol(pn(m.messages[0].data)[2][0].data),f=hr.find(u,l[g].location),h=is(ss(f.content)),v=0;v<h.length;++v)p=h[v],p.id==g&&(m=p);for(g=Ol(pn(m.messages[0].data)[2][0].data),f=hr.find(u,l[g].location),h=is(ss(f.content)),v=0;v<h.length;++v)p=h[v],p.id==g&&(m=p);var x=pn(m.messages[0].data);{x[6][0].data=rr(n.e.r+1),x[7][0].data=rr(n.e.c+1);var y=Ol(x[46][0].data),w=hr.find(u,l[y].location),b=is(ss(w.content));{for(var j=0;j<b.length&&b[j].id!=y;++j);if(b[j].id!=y)throw"Bad ColumnRowUIDMapArchive";var N=pn(b[j].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var S=0;S<=n.e.c;++S){var E=[];E[1]=E[2]=[{type:0,data:rr(S+420690)}],N[1].push({type:2,data:Ln(E)}),N[2].push({type:0,data:rr(S)}),N[3].push({type:0,data:rr(S)})}N[4]=[],N[5]=[],N[6]=[];for(var C=0;C<=n.e.r;++C)E=[],E[1]=E[2]=[{type:0,data:rr(C+726270)}],N[4].push({type:2,data:Ln(E)}),N[5].push({type:0,data:rr(C)}),N[6].push({type:0,data:rr(C)});b[j].messages[0].data=Ln(N)}w.content=Hd(zd(b)),w.size=w.content.length,delete x[46];var T=pn(x[4][0].data);{T[7][0].data=rr(n.e.r+1);var A=pn(T[1][0].data),k=Ol(A[2][0].data);w=hr.find(u,l[k].location),b=is(ss(w.content));{if(b[0].id!=k)throw"Bad HeaderStorageBucket";var P=pn(b[0].messages[0].data);for(C=0;C<i.length;++C){var L=pn(P[2][0].data);L[1][0].data=rr(C),L[4][0].data=rr(i[C].length),P[2][C]={type:P[2][0].type,data:Ln(L)}}b[0].messages[0].data=Ln(P)}w.content=Hd(zd(b)),w.size=w.content.length;var B=Ol(T[2][0].data);w=hr.find(u,l[B].location),b=is(ss(w.content));{if(b[0].id!=B)throw"Bad HeaderStorageBucket";for(P=pn(b[0].messages[0].data),S=0;S<=n.e.c;++S)L=pn(P[2][0].data),L[1][0].data=rr(S),L[4][0].data=rr(n.e.r+1),P[2][S]={type:P[2][0].type,data:Ln(L)};b[0].messages[0].data=Ln(P)}w.content=Hd(zd(b)),w.size=w.content.length;var M=Ol(T[4][0].data);(function(){for(var X=hr.find(u,l[M].location),Y=is(ss(X.content)),Q,ie=0;ie<Y.length;++ie){var he=Y[ie];he.id==M&&(Q=he)}var we=pn(Q.messages[0].data);{we[3]=[];var se=[];o.forEach(function(ae,et){se[1]=[{type:0,data:rr(et)}],se[2]=[{type:0,data:rr(1)}],se[3]=[{type:2,data:Y9e(ae)}],we[3].push({type:2,data:Ln(se)})})}Q.messages[0].data=Ln(we);var G=zd(Y),ye=Hd(G);X.content=ye,X.size=X.content.length})();var D=pn(T[3][0].data);{var O=D[1][0];delete D[2];var W=pn(O.data);{var ne=Ol(W[2][0].data);(function(){for(var X=hr.find(u,l[ne].location),Y=is(ss(X.content)),Q,ie=0;ie<Y.length;++ie){var he=Y[ie];he.id==ne&&(Q=he)}var we=pn(Q.messages[0].data);{delete we[6],delete D[7];var se=new Uint8Array(we[5][0].data);we[5]=[];for(var G=0,ye=0;ye<=n.e.r;++ye){var ae=pn(se);G+=e7e(ae,i[ye],o),ae[1][0].data=rr(ye),we[5].push({data:Ln(ae),type:2})}we[1]=[{type:0,data:rr(n.e.c+1)}],we[2]=[{type:0,data:rr(n.e.r+1)}],we[3]=[{type:0,data:rr(G)}],we[4]=[{type:0,data:rr(n.e.r+1)}]}Q.messages[0].data=Ln(we);var et=zd(Y),Le=Hd(et);X.content=Le,X.size=X.content.length})()}O.data=Ln(W)}T[3][0].data=Ln(D)}x[4][0].data=Ln(T)}m.messages[0].data=Ln(x);var ee=zd(h),I=Hd(ee);return f.content=I,f.size=f.content.length,u}function r7e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function yP(e){r7e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function n7e(e,t){return t.bookType=="ods"?lG(e,t):t.bookType=="numbers"?t7e(e,t):t.bookType=="xlsb"?a7e(e,t):i7e(e,t)}function a7e(e,t){xf=1024,e&&!e.SSF&&(e.SSF=Za(Gr)),e&&e.SSF&&(N_(),S_(e.SSF),t.revssf=E_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Qp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=HW.indexOf(t.bookType)>-1,a=yW();yP(t=t||{});var i=nP(),o="",l=0;if(t.cellXfs=[],eu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ct(i,o,jW(e.Props,t)),a.coreprops.push(o),ar(t.rels,2,o,Vt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Ct(i,o,NW(e.Props)),a.extprops.push(o),ar(t.rels,3,o,Vt.EXT_PROPS),e.Custprops!==e.Props&&Zn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ct(i,o,EW(e.Custprops)),a.custprops.push(o),ar(t.rels,4,o,Vt.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Ct(i,o,o9e(l-1,o,t,e,d)),a.sheets.push(o),ar(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Vt.WS[0])}if(f){var m=f["!comments"],v=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,Ct(i,p,u9e(m,p)),a.comments.push(p),ar(d,-1,"../comments"+l+"."+r,Vt.CMNT),v=!0),f["!legacy"]&&v&&Ct(i,"xl/drawings/vmlDrawing"+l+".vml",qW(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ct(i,wW(o),$f(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ct(i,o,c9e(t.Strings,o,t)),a.strs.push(o),ar(t.wbrels,-1,"sharedStrings."+r,Vt.SST)),o="xl/workbook."+r,Ct(i,o,s9e(e,o)),a.workbooks.push(o),ar(t.rels,1,o,Vt.WB),o="xl/theme/theme1.xml",Ct(i,o,BW(e.Themes,t)),a.themes.push(o),ar(t.wbrels,-1,"theme/theme1.xml",Vt.THEME),o="xl/styles."+r,Ct(i,o,l9e(e,o,t)),a.styles.push(o),ar(t.wbrels,-1,"styles."+r,Vt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Ct(i,o,e.vbaraw),a.vba.push(o),ar(t.wbrels,-1,"vbaProject.bin",Vt.VBA)),o="xl/metadata."+r,Ct(i,o,d9e(o)),a.metadata.push(o),ar(t.wbrels,-1,"metadata."+r,Vt.XLMETA),Ct(i,"[Content_Types].xml",bW(a,t)),Ct(i,"_rels/.rels",$f(t.rels)),Ct(i,"xl/_rels/workbook."+r+".rels",$f(t.wbrels)),delete t.revssf,delete t.ssf,i}function i7e(e,t){xf=1024,e&&!e.SSF&&(e.SSF=Za(Gr)),e&&e.SSF&&(N_(),S_(e.SSF),t.revssf=E_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Qp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=HW.indexOf(t.bookType)>-1,a=yW();yP(t=t||{});var i=nP(),o="",l=0;if(t.cellXfs=[],eu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ct(i,o,jW(e.Props,t)),a.coreprops.push(o),ar(t.rels,2,o,Vt.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Ct(i,o,NW(e.Props)),a.extprops.push(o),ar(t.rels,3,o,Vt.EXT_PROPS),e.Custprops!==e.Props&&Zn(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ct(i,o,EW(e.Custprops)),a.custprops.push(o),ar(t.rels,4,o,Vt.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Ct(i,o,JW(l-1,t,e,f)),a.sheets.push(o),ar(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Vt.WS[0])}if(h){var v=h["!comments"],p=!1,g="";if(v&&v.length>0){var x=!1;v.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(x=!0)})}),x&&(g="xl/threadedComments/threadedComment"+l+"."+r,Ct(i,g,I5e(v,d,t)),a.threadedcomments.push(g),ar(f,-1,"../threadedComments/threadedComment"+l+"."+r,Vt.TCMNT)),g="xl/comments"+l+"."+r,Ct(i,g,zW(v)),a.comments.push(g),ar(f,-1,"../comments"+l+"."+r,Vt.CMNT),p=!0}h["!legacy"]&&p&&Ct(i,"xl/drawings/vmlDrawing"+l+".vml",qW(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ct(i,wW(o),$f(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Ct(i,o,RW(t.Strings,t)),a.strs.push(o),ar(t.wbrels,-1,"sharedStrings."+r,Vt.SST)),o="xl/workbook."+r,Ct(i,o,rG(e)),a.workbooks.push(o),ar(t.rels,1,o,Vt.WB),o="xl/theme/theme1.xml",Ct(i,o,BW(e.Themes,t)),a.themes.push(o),ar(t.wbrels,-1,"theme/theme1.xml",Vt.THEME),o="xl/styles."+r,Ct(i,o,$W(e,t)),a.styles.push(o),ar(t.wbrels,-1,"styles."+r,Vt.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Ct(i,o,e.vbaraw),a.vba.push(o),ar(t.wbrels,-1,"vbaProject.bin",Vt.VBA)),o="xl/metadata."+r,Ct(i,o,UW()),a.metadata.push(o),ar(t.wbrels,-1,"metadata."+r,Vt.XLMETA),d.length>1&&(o="xl/persons/person.xml",Ct(i,o,F5e(d)),a.people.push(o),ar(t.wbrels,-1,"persons/person.xml",Vt.PEOPLE)),Ct(i,"[Content_Types].xml",bW(a,t)),Ct(i,"_rels/.rels",$f(t.rels)),Ct(i,"xl/_rels/workbook."+r+".rels",$f(t.wbrels)),delete t.revssf,delete t.ssf,i}function s7e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ml(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function cG(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return mg(t.file,hr.write(e,{type:Yt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return hr.write(e,t)}function o7e(e,t){var r=Za(t||{}),n=n7e(e,r);return l7e(n,r)}function l7e(e,t){var r={},n=Yt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?hr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(j_(a))}return t.password&&typeof encrypt_agile<"u"?cG(encrypt_agile(a,t.password),t):t.type==="file"?mg(t.file,a):t.type=="string"?Gp(a):a}function c7e(e,t){var r=t||{},n=N9e(e,r);return cG(n,r)}function Us(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return yv(wv(n));case"binary":return wv(n);case"string":return e;case"file":return mg(t.file,n,"utf8");case"buffer":return Yt?Sl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Us(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function u7e(e,t){switch(t.type){case"base64":return yv(e);case"binary":return e;case"string":return e;case"file":return mg(t.file,e,"binary");case"buffer":return Yt?Sl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Ex(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?yv(r):t.type=="string"?Gp(r):r;case"file":return mg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function uG(e,t){$Fe(),XBe(e);var r=Za(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=uG(e,r);return r.type="array",j_(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Us(j9e(e,r),r);case"slk":case"sylk":return Us(W6e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Us(iG(e.Sheets[e.SheetNames[a]],r),r);case"txt":return u7e(dG(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Us(wP(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Us(G6e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Ex(V6e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Us(K6e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Us(t5e.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Us(DW.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Us(lG(e,r),r);case"wk1":return Ex(pF.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Ex(pF.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ex(aG(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),c7e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return o7e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function d7e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function bP(e,t,r){var n={};return n.type="file",n.file=t,d7e(n),uG(e,n)}function f7e(e,t,r,n,a,i,o,l){var c=Yn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var v=o?e[r][m]:e[n[m]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[m]!=null&&(h[i[m]]=u);continue}var p=v.v;switch(v.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[m]!=null){if(p==null)if(v.t=="e"&&p===null)h[i[m]]=null;else if(u!==void 0)h[i[m]]=u;else if(d&&p===null)h[i[m]]=null;else continue;else h[i[m]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?p:pl(v,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function mb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Tr(d);break;case"number":c=Tr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Yn(c.s.r),h=[],m=[],v=0,p=0,g=Array.isArray(e),x=c.s.r,y=0,w={};g&&!e[x]&&(e[x]=[]);var b=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(h[y]=la(y),r=g?e[x][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=u.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=pl(r,null,u),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(x=c.s.r+a;x<=c.e.r;++x)if(!(j[x]||{}).hidden){var N=f7e(e,c,x,h,n,i,g,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[v++]=N.row)}return m.length=v,m}var jF=/"/g;function h7e(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",f=Yn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:pl(m,null,l));for(var v=0,p=0;v!==d.length;++v)if((p=d.charCodeAt(v))===a||p===i||p===34||l.forceQuotes){d='"'+d.replace(jF,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(jF,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function wP(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Tr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(h[v]||{}).hidden||(f[v]=la(v));for(var p=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(d=h7e(e,a,g,f,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function dG(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=wP(e,t);return r}function m7e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Tr(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=la(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=Yn(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function fG(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Pn(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Tr(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,g){Zn(p).forEach(function(x){(m=h.indexOf(x))==-1&&(h[m=h.length]=x);var y=p[x],w="z",b="",j=cr({c:l+m,r:o+g+a});u=Sv(i,j),y&&typeof y=="object"&&!(y instanceof Date)?i[j]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",n.cellDates||(w="n",y=Qa(y)),b=n.dateNF||Gr[14]):y===null&&n.nullError&&(w="e",y=0),u?(u.t=w,u.v=y,delete u.w,delete u.R,b&&(u.z=b)):i[j]=u={t:w,v:y},b&&(u.z=b))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var v=Yn(o);if(a)for(m=0;m<h.length;++m)i[la(m+l)+v]={t:"s",v:h[m]};return i["!ref"]=cn(d),i}function p7e(e,t){return fG(null,e,t)}function Sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Pn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sv(e,cr(t)):Sv(e,cr({r:t,c:r||0}))}function v7e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function g7e(){return{SheetNames:[],Sheets:{}}}function x7e(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(tG(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function y7e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=v7e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function b7e(e,t){return e.z=t,e}function hG(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function w7e(e,t,r){return hG(e,"#"+t,r)}function _7e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function j7e(e,t,r,n){for(var a=typeof t!="string"?t:Tr(t),i=typeof t=="string"?t:cn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Zo={encode_col:la,encode_row:Yn,encode_cell:cr,encode_range:cn,decode_col:cP,decode_row:lP,split_cell:$$e,decode_cell:Pn,decode_range:_i,format_cell:pl,sheet_add_aoa:hW,sheet_add_json:fG,sheet_add_dom:sG,aoa_to_sheet:Pm,json_to_sheet:p7e,table_to_sheet:oG,table_to_book:G9e,sheet_to_csv:wP,sheet_to_txt:dG,sheet_to_json:mb,sheet_to_html:iG,sheet_to_formulae:m7e,sheet_to_row_object_array:mb,sheet_get_cell:Sv,book_new:g7e,book_append_sheet:x7e,book_set_sheet_visibility:y7e,cell_set_number_format:b7e,cell_set_hyperlink:hG,cell_set_internal_link:w7e,cell_add_comment:_7e,sheet_set_array_formula:j7e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const S7e=()=>{var C,T;const[e,t]=_.useState("all"),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,l]=_.useState(""),[c,u]=_.useState(1),d=10,{branchId:f,setBranchId:h,branches:m,isSuperAdmin:v}=Kr(),{toast:p}=Pr(),{data:g=[],isLoading:x,error:y,refetch:w}=it({queryKey:["admin-room-bookings",e,f],queryFn:async()=>{if(!f)return[];let A=Z.from("bookings").select(`
          id,
          user_id,
          room_id,
          start_time,
          end_time,
          status,
          created_at,
          total_price,
          invoice_url,
          invoice_uploaded_at,
          invoice_uploaded_by,
          room:rooms(name, price_per_hour)
        `).eq("branch_id",f).order("created_at",{ascending:!1});e!=="all"&&(A=A.eq("status",e));const{data:k,error:P}=await A;if(P)throw P;if(k&&k.length>0){const L=[...new Set(k.map(M=>M.user_id))],{data:B}=await Z.from("profiles").select("id, first_name, last_name").in("id",L);return k.map(M=>({...M,user:(B==null?void 0:B.find(D=>D.id===M.user_id))||null}))}return k||[]},enabled:!!f,refetchInterval:3e4}),b=_.useMemo(()=>{if(!g)return{total:0,pagas:0,pendentes:0,canceladas:0};let A=g.length,k=0,P=0,L=0;return g.forEach(B=>{B.status==="paid"?k++:B.status==="in_process"||B.status==="pre_authorized"?P++:(B.status==="recused"||B.status==="partial_refunded")&&L++}),{total:A,pagas:k,pendentes:P,canceladas:L}},[g]),j=_.useMemo(()=>{if(!g)return[];if(!o.trim())return g;const A=o.trim().toLowerCase();return g.filter(k=>{var M,D;const P=k.user,L=P?`${P.first_name||""} ${P.last_name||""}`.toLowerCase():"",B=((D=(M=k.room)==null?void 0:M.name)==null?void 0:D.toLowerCase())||"";return L.includes(A)||B.includes(A)})},[g,o]),N=Math.ceil(j.length/d)||1,S=_.useMemo(()=>{const A=(c-1)*d;return j.slice(A,A+d)},[j,c]),E=()=>{if(!g||g.length===0){p({title:"Sem dados para exportar",description:"No h reservas de salas para gerar o relatrio."});return}try{const A=g.map(B=>{var O,W;const M=new Date(B.start_time),D=new Date(B.end_time);return{ID:B.id,Cliente:B.user?`${B.user.first_name||""} ${B.user.last_name||""}`.trim():"-",Sala:((O=B.room)==null?void 0:O.name)||"-",Data:We(M,"dd/MM/yyyy"),"Horrio Incio":We(M,"HH:mm"),"Horrio Fim":We(D,"HH:mm"),"Valor Total":`R$ ${((W=B.total_price)==null?void 0:W.toFixed(2))||"0.00"}`,Status:B.status}}),k=Zo.json_to_sheet(A),P=Zo.book_new();Zo.book_append_sheet(P,k,"Reservas de Salas");const L=`Relatrio_Reservas_Salas_${We(new Date,"dd-MM-yyyy")}.xlsx`;bP(P,L),p({title:"Relatrio gerado com sucesso",description:`O arquivo ${L} foi baixado.`})}catch{p({variant:"destructive",title:"Erro ao gerar relatrio",description:"Ocorreu um erro durante a gerao do relatrio."})}};return s.jsxs("div",{className:"space-y-8 max-w-7xl mx-auto px-4 pb-10",children:[v&&m&&s.jsx("div",{className:"mb-4 max-w-xs",children:s.jsxs(zt,{value:f||void 0,onValueChange:h,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:m.map(A=>s.jsx(Xe,{value:A.id,children:A.name},A.id))})]})}),s.jsx(de,{className:"shadow-lg rounded-2xl border-0 bg-white",children:s.jsx(Se,{children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Py,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx($e,{className:"text-3xl font-bold leading-tight",children:"Reservas de Salas"}),s.jsx(Vr,{className:"text-muted-foreground mt-1 text-base",children:"Acompanhe e gerencie todas as reservas de salas com controle de pagamentos."})]})]}),s.jsxs(re,{variant:"outline",onClick:E,className:"h-12 text-base font-semibold",children:[s.jsx(cm,{className:"mr-2 h-5 w-5"}),"Baixar Relatrio"]})]})})}),s.jsx(RFe,{stats:b,isLoading:x,type:"bookings"}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[s.jsx(Oe,{placeholder:"Buscar por cliente ou sala...",value:o,onChange:A=>l(A.target.value),className:"max-w-xs"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[j.length," reservas"]}),s.jsx(re,{variant:"ghost",size:"icon",disabled:c===1,onClick:()=>u(1),children:""}),s.jsx(re,{variant:"ghost",size:"icon",disabled:c===1,onClick:()=>u(A=>Math.max(1,A-1)),children:""}),s.jsxs("span",{className:"text-sm",children:["Pgina ",c," de ",N]}),s.jsx(re,{variant:"ghost",size:"icon",disabled:c===N,onClick:()=>u(A=>Math.min(N,A+1)),children:""}),s.jsx(re,{variant:"ghost",size:"icon",disabled:c===N,onClick:()=>u(N),children:""})]})]}),s.jsxs(w_,{defaultValue:"all",value:e,onValueChange:A=>t(A),children:[s.jsxs(fg,{children:[s.jsx(Ca,{value:"all",children:"Todas"}),s.jsx(Ca,{value:"paid",children:"Pagas"}),s.jsx(Ca,{value:"in_process",children:"Em Processo"}),s.jsx(Ca,{value:"recused",children:"Canceladas"})]}),s.jsx(Kh,{value:e,className:"mt-6",children:x?s.jsxs("div",{className:"space-y-3",children:[s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"})]}):y?s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-6 text-center",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Erro ao carregar reservas"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:y.message||"Ocorreu um erro ao carregar as reservas."})]}):!g||g.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 border rounded-lg bg-muted/20",children:[s.jsx(Py,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma reserva de sala encontrada"}),s.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Quando houver reservas de salas, elas aparecero aqui para voc gerenciar."})]}):s.jsx(de,{children:s.jsx(me,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Cliente"}),s.jsx(Ae,{children:"Sala"}),s.jsx(Ae,{children:"Data/Hora"}),s.jsx(Ae,{children:"Valor"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:S.map(A=>{var k,P;return s.jsxs(Bt,{children:[s.jsx(je,{className:"py-3 px-4",children:s.jsx("div",{className:"font-medium",children:A.user?`${A.user.first_name||""} ${A.user.last_name||""}`.trim():A.user_id})}),s.jsx(je,{className:"py-3 px-4",children:((k=A.room)==null?void 0:k.name)||"-"}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsxs("div",{children:[s.jsx("div",{children:We(new Date(A.start_time),"dd/MM/yyyy")}),s.jsxs("div",{className:"text-muted-foreground",children:[We(new Date(A.start_time),"HH:mm")," - ",We(new Date(A.end_time),"HH:mm")]})]})}),s.jsxs(je,{className:"py-3 px-4 text-sm font-medium",children:["R$ ",((P=A.total_price)==null?void 0:P.toFixed(2))||"0.00"]}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsx(eb,{status:A.status})}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsxs("div",{className:"flex gap-2 flex-col lg:flex-row",children:[s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>{n(A),i(!0)},children:[s.jsx(zi,{className:"h-4 w-4 mr-1"}),"Ver"]}),A.status==="paid",A.status==="in_process"]})})]},A.id)})})]})})})})})]}),s.jsx(_n,{open:a,onOpenChange:i,children:s.jsxs(un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(In,{children:[s.jsx(dn,{children:"Detalhes da Reserva"}),s.jsx(Kc,{children:"Informaes completas sobre a reserva selecionada"})]}),r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Informaes do Cliente"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nome:"})," ",r.user?`${r.user.first_name||""} ${r.user.last_name||""}`.trim():r.user_id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data da Reserva:"})," ",We(new Date(r.created_at),"dd/MM/yyyy HH:mm")]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Detalhes da Reserva"}),s.jsx(eb,{status:r.status}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Valor Total:"})," R$ ",((C=r.total_price)==null?void 0:C.toFixed(2))||"0.00"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Sala:"})," ",((T=r.room)==null?void 0:T.name)||"-"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Horrio"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data:"})," ",We(new Date(r.start_time),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incio:"})," ",We(new Date(r.start_time),"HH:mm")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fim:"})," ",We(new Date(r.end_time),"HH:mm")]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Nota Fiscal"}),s.jsx(__,{recordId:r.id,recordType:"booking",currentInvoiceUrl:r.invoice_url,onSuccess:()=>w()})]})]})]})})]})};function N7e(){const{branchId:e,isSuperAdmin:t}=Kr(),{data:r=[],isLoading:n}=it({queryKey:["admin-users",e],queryFn:async()=>{if(!e)return[];const{data:a,error:i}=await Z.from("profiles").select("*, branches(name)").eq("role","admin").eq("branch_id",e);if(i)throw i;return a},enabled:!!e});return n?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(il,{className:"mx-auto h-12 w-12 text-muted-foreground animate-pulse"}),s.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"Carregando administradores..."})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-6 w-6"}),"Administradores"]})}),s.jsx(me,{children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Email"}),s.jsx(Ae,{children:"Filial"})]})}),s.jsx(Ma,{children:r.map(a=>{var i;return s.jsxs(Bt,{children:[s.jsxs(je,{children:[a.first_name," ",a.last_name]}),s.jsx(je,{children:a.email}),s.jsx(je,{children:(i=a.branches)==null?void 0:i.name})]},a.id)})})]})})]})})}function E7e(){const{branchId:e}=Kr(),[t,r]=_.useState(""),[n,a]=_.useState("all"),[i,o]=_.useState(null),[l,c]=_.useState(!1),{data:u=[],isLoading:d}=it({queryKey:["admin-logs",t,n],queryFn:async()=>{let g=Z.from("admin_logs").select("*").order("created_at",{ascending:!1});t&&(g=g.or(`admin_email.ilike.%${t}%,action.ilike.%${t}%`)),n!=="all"&&(g=g.eq("action",n));const{data:x,error:y}=await g;if(y)throw console.error("Erro ao buscar logs:",y),y;return x||[]}}),f=Wr({mutationFn:async g=>{var y;const{error:x}=await Z.from("admin_logs").insert({admin_id:(y=(await Z.auth.getUser()).data.user)==null?void 0:y.id,action:g.action,details:g.details,admin_email:g.admin_email,branch_id:e});if(x)throw x}}),h=(g,x,y)=>{f.mutate({action:g,details:x,admin_email:y})},m=g=>{switch(g.toLowerCase()){case"create":case"created":return"default";case"update":case"updated":return"secondary";case"delete":case"deleted":return"destructive";case"login":return"outline";default:return"secondary"}},v=[...new Set(u.map(g=>g.action))],p=g=>{o(g),c(!0)};return F.useEffect(()=>{h("view_admin_logs",{page:"admin_logs"})},[]),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"h-6 w-6"}),"Logs de Administradores"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Oe,{placeholder:"Buscar por email do admin ou ao...",value:t,onChange:g=>r(g.target.value)})}),s.jsxs(zt,{value:n,onValueChange:a,children:[s.jsx($t,{className:"w-[200px]",children:s.jsx(Ht,{placeholder:"Filtrar por ao"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as aes"}),v.map(g=>s.jsx(Xe,{value:g,children:g},g))]})]})]}),d?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Carregando logs..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Data/Hora"}),s.jsx(Ae,{children:"Administrador"}),s.jsx(Ae,{children:"Ao"}),s.jsx(Ae,{children:"Detalhes"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:u.map(g=>{var x;return s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),We(new Date(g.created_at),"dd/MM/yyyy HH:mm")]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-4 w-4 text-muted-foreground"}),g.admin_email||"Sistema"]})}),s.jsx(je,{children:s.jsx(Re,{variant:m(g.action),children:g.action})}),s.jsx(je,{className:"max-w-[300px] truncate",children:typeof g.details=="object"?JSON.stringify(g.details).substring(0,100)+"...":((x=g.details)==null?void 0:x.toString().substring(0,100))+"..."}),s.jsx(je,{children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>p(g),children:s.jsx(zi,{className:"h-4 w-4"})})})]},g.id)})})]}),u.length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Hi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum log encontrado."}),s.jsx("p",{className:"text-sm mt-2",children:"Os logs aparecero aqui conforme as aes administrativas forem realizadas."})]})]})]})]}),s.jsx(_n,{open:l,onOpenChange:c,children:s.jsxs(un,{className:"max-w-2xl",children:[s.jsx(In,{children:s.jsx(dn,{children:"Detalhes do Log"})}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Data/Hora:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We(new Date(i.created_at),"dd/MM/yyyy HH:mm:ss")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Administrador:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.admin_email||"Sistema"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Ao:"}),s.jsx(Re,{variant:m(i.action),children:i.action})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"ID do Log:"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:i.id})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Detalhes:"}),s.jsx("pre",{className:"mt-2 p-4 bg-muted rounded-lg text-sm overflow-auto max-h-[300px]",children:JSON.stringify(i.details,null,2)})]})]})]})})]})}function C7e(){const{branchId:e}=Kr(),[t,r]=_.useState(""),[n,a]=_.useState(null),i=new Date,{data:o=[],isLoading:l}=it({queryKey:["rooms",e],queryFn:async()=>{if(!e)return[];const{data:b,error:j}=await Z.from("rooms").select("*").eq("branch_id",e).eq("is_active",!0).order("name");if(j)throw j;return b||[]},enabled:!!e}),{data:c=[],isLoading:u}=it({queryKey:["today-room-bookings",e],queryFn:async()=>{if(!e)throw new Error("Branch ID no encontrado");const b=ad(i).toISOString(),j=Eae(i).toISOString(),{data:N,error:S}=await Z.from("bookings").select(`
          *,
          room:rooms(id, name, description)
        `).eq("branch_id",e).gte("start_time",b).lte("start_time",j).eq("status","paid").order("start_time");if(S)throw S;return!N||N.length===0?[]:await Promise.all(N.map(async C=>{try{const{data:T,error:A}=await Z.from("profiles").select("first_name, last_name, email, phone").eq("id",C.user_id).maybeSingle();return{...C,profiles:A||!T?{first_name:"Usurio",last_name:"Desconhecido",email:"",phone:""}:T}}catch{return{...C,profiles:{first_name:"Usurio",last_name:"Desconhecido",email:"",phone:""}}}}))},enabled:!!e,refetchInterval:3e4}),d=l||u,h=o.map(b=>{const j=c.filter(S=>S.room_id===b.id);return{...b,bookings:j.sort((S,E)=>new Date(S.start_time).getTime()-new Date(E.start_time).getTime())}}).filter(b=>{var C;if(!t)return!0;const j=t.toLowerCase(),N=((C=b.name)==null?void 0:C.toLowerCase())||"",S=b.bookings.some(T=>{const A=v(T.profiles).toLowerCase(),k=p(T.profiles).toLowerCase();return A.includes(j)||k.includes(j)});return N.includes(j)||S}),m=b=>{if(b.length===0)return{status:"Livre",variant:"secondary"};const j=new Date;return b.find(E=>{const C=new Date(E.start_time),T=new Date(E.end_time);return j>=C&&j<=T})?{status:"Ocupada",variant:"destructive"}:b.find(E=>new Date(E.start_time)>j)?{status:"Reservada",variant:"default"}:{status:"Livre",variant:"secondary"}},v=b=>!b||typeof b!="object"||!("first_name"in b)||!("last_name"in b)?"Usurio no encontrado":`${b.first_name||""} ${b.last_name||""}`.trim()||"Usurio no encontrado",p=b=>!b||typeof b!="object"||!("email"in b)?"":b.email||"",g=b=>!b||typeof b!="object"||!("phone"in b)?"":b.phone||"",x=b=>b.reduce((j,N)=>j+(N.total_price||0),0);h.length,h.filter(b=>m(b.bookings).status==="Ocupada").length,h.filter(b=>m(b.bookings).status==="Reservada").length,h.filter(b=>m(b.bookings).status==="Livre").length;const y=c.length,w=x(c);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ir,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Data"}),s.jsx("p",{className:"text-lg font-semibold",children:We(i,"dd/MM/yyyy",{locale:ir})})]})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wn,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Reservas"}),s.jsx("p",{className:"text-lg font-semibold",children:y})]})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vi,{className:"h-8 w-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita do Dia"}),s.jsxs("p",{className:"text-lg font-semibold",children:["R$ ",w.toFixed(2)]})]})]})})})]}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsx(Oe,{placeholder:"Buscar por sala ou cliente...",value:t,onChange:b=>r(b.target.value),className:"max-w-md"})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>{const j=m(b.bookings);return s.jsxs(de,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Se,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($e,{className:"text-lg",children:b.name}),s.jsx(Re,{variant:j.variant,children:j.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(al,{className:"h-4 w-4"}),s.jsxs("span",{children:[b.capacity," pessoas"]})]}),b.location&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xo,{className:"h-4 w-4"}),s.jsx("span",{children:b.location})]})]})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Reservas hoje:"}),s.jsx(Re,{variant:"outline",children:b.bookings.length})]}),b.bookings.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("p",{children:"Prxima reserva:"}),s.jsxs("p",{className:"font-medium text-foreground",children:[We(new Date(b.bookings[0].start_time),"HH:mm",{locale:ir})," - ",v(b.bookings[0].profiles)]})]}),s.jsxs(_n,{children:[s.jsx(EA,{asChild:!0,children:s.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>a(b),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})}),s.jsxs(un,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(In,{children:[s.jsxs(dn,{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-5 w-5"}),b.name," - ",We(i,"dd/MM/yyyy",{locale:ir})]}),s.jsx(Kc,{children:"Visualize todas as reservas e informaes detalhadas desta sala para o dia de hoje."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capacidade"}),s.jsxs("p",{className:"font-medium",children:[b.capacity," pessoas"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Localizao"}),s.jsx("p",{className:"font-medium",children:b.location||"No informado"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status Atual"}),s.jsx(Re,{variant:j.variant,children:j.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receita do Dia"}),s.jsxs("p",{className:"font-medium",children:["R$ ",x(b.bookings).toFixed(2)]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold mb-3",children:["Reservas do Dia (",b.bookings.length,")"]}),b.bookings.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ir,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma reserva para hoje"})]}):s.jsx("div",{className:"space-y-3",children:b.bookings.map((N,S)=>{var E;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{variant:"outline",children:S+1}),s.jsxs("span",{className:"font-medium",children:[We(new Date(N.start_time),"HH:mm",{locale:ir})," -",We(new Date(N.end_time),"HH:mm",{locale:ir})]})]}),s.jsxs(Re,{variant:"default",children:["R$ ",((E=N.total_price)==null?void 0:E.toFixed(2))||"0,00"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Cliente"}),s.jsx("p",{className:"font-medium",children:v(N.profiles)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:p(N.profiles)})]}),g(N.profiles)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Telefone"}),s.jsx("p",{className:"font-medium",children:g(N.profiles)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Status"}),s.jsx(Re,{variant:"default",children:N.status==="paid"?"Pago":"Confirmado"})]})]}),N.notes&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaes"}),s.jsx("p",{className:"text-sm",children:N.notes})]})]},N.id)})})]})]})]})]})]})})]},b.id)})}),h.length===0&&!d&&s.jsx(de,{children:s.jsxs(me,{className:"text-center py-12",children:[s.jsx(Ir,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma sala encontrada"}),s.jsx("p",{className:"text-muted-foreground",children:t?"Tente ajustar os critrios de busca.":"No h salas cadastradas para esta filial."})]})}),d&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(b=>s.jsxs(de,{className:"animate-pulse",children:[s.jsxs(Se,{children:[s.jsx("div",{className:"h-6 bg-muted rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded w-1/2"})]}),s.jsx(me,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted rounded"}),s.jsx("div",{className:"h-4 bg-muted rounded w-2/3"}),s.jsx("div",{className:"h-10 bg-muted rounded"})]})})]},b))})]})}const T7e=()=>{var M;const[e,t]=_.useState("all"),[r,n]=_.useState(""),[a,i]=_.useState(1),[o,l]=_.useState(null),[c,u]=_.useState(null),[d,f]=_.useState(!1),{data:h}=it({queryKey:["session"],queryFn:async()=>{const{data:{session:D}}=await Z.auth.getSession();return D}}),m=(M=h==null?void 0:h.user)==null?void 0:M.user_metadata,v=(m==null?void 0:m.role)==="super_admin",{data:p}=it({queryKey:["branches"],queryFn:async()=>{const{data:D,error:O}=await Z.from("branches").select("id, name").order("name");if(O)throw O;return D},enabled:v}),g=o||(m==null?void 0:m.branch_id),x=D=>it({queryKey:["equipment-bookings",g,D],queryFn:async()=>{if(!g)return[];const{data:O,error:W}=await Z.from("booking_equipment").select(`
            id,
            start_time,
            end_time,
            total_price,
            status,
            user_id,
            created_at,
            quantity,
            equipment(name, price_per_hour),
            invoice_url
          `).eq("branch_id",g).eq("status",D).order("created_at",{ascending:!1});if(W)throw console.error(`Error fetching ${D} equipment bookings:`,W),W;return O||[]},enabled:!!g}),{data:y,isLoading:w,error:b,refetch:j}=it({queryKey:["all-equipment-bookings",g],queryFn:async()=>{if(!g)return[];const{data:D,error:O}=await Z.from("booking_equipment").select(`
          id,
          start_time,
          end_time,
          total_price,
          status,
          user_id,
          created_at,
          quantity,
          equipment(name, price_per_hour),
          invoice_url
        `).eq("branch_id",g).order("created_at",{ascending:!1});if(O)throw console.error("Error fetching all equipment bookings:",O),O;return D||[]},enabled:!!g}),N=_.useMemo(()=>{if(!y)return[];let D=[...y];return e!=="all"&&(D=D.filter(O=>O.status===e)),r&&(D=D.filter(O=>{var W,ne;return((ne=(W=O.equipment)==null?void 0:W.name)==null?void 0:ne.toLowerCase().includes(r.toLowerCase()))||O.id.toLowerCase().includes(r.toLowerCase())})),D},[y,e,r]),S=_.useMemo(()=>{if(!y)return{total:0,paid:0,pending:0,invoiced:0};const D=y.reduce((ee,I)=>ee+Number(I.total_price||0),0),O=y.filter(ee=>ee.status==="paid").reduce((ee,I)=>ee+Number(I.total_price||0),0),W=y.filter(ee=>ee.status==="in_process").reduce((ee,I)=>ee+Number(I.total_price||0),0),ne=y.filter(ee=>ee.invoice_url).reduce((ee,I)=>ee+Number(I.total_price||0),0);return{total:D,paid:O,pending:W,invoiced:ne}},[y]),C=Math.ceil(N.length/10),T=()=>{console.log("Download report for equipment bookings")},A=D=>{u(D),f(!0)},k=()=>{u(null),f(!1)},P=x("in_process"),L=x("paid"),B=x("cancelled");return{activeTab:e,setActiveTab:t,search:r,setSearch:n,page:a,setPage:i,branchId:o,setBranchId:l,branches:p,isSuperAdmin:v,bookings:y||[],filteredBookings:N,isLoading:w,error:b,stats:S,totalPages:C,refetch:j,downloadReport:T,selectedBooking:c,showDetails:d,handleViewDetails:A,handleCloseDetails:k,inProcessBookings:P,paidBookings:L,cancelledBookings:B}},A7e=({search:e,setSearch:t,branchId:r,setBranchId:n,branches:a,isSuperAdmin:i,filteredBookingsCount:o,page:l,totalPages:c,setPage:u,onDownloadReport:d})=>s.jsxs(s.Fragment,{children:[i&&a&&s.jsx("div",{className:"mb-4 max-w-xs",children:s.jsxs(zt,{value:r||void 0,onValueChange:n,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:a.map(f=>s.jsx(Xe,{value:f.id,children:f.name},f.id))})]})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-4",children:[s.jsx(Oe,{placeholder:"Buscar por cliente ou equipamento...",value:e,onChange:f=>t(f.target.value),className:"max-w-xs"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 md:mt-0",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[o," reservas"]}),s.jsx(re,{variant:"ghost",size:"icon",disabled:l===1,onClick:()=>u(1),children:""}),s.jsx(re,{variant:"ghost",size:"icon",disabled:l===1,onClick:()=>u(f=>Math.max(1,f-1)),children:""}),s.jsxs("span",{className:"text-sm",children:["Pgina ",l," de ",c]}),s.jsx(re,{variant:"ghost",size:"icon",disabled:l===c,onClick:()=>u(f=>Math.min(c,f+1)),children:""}),s.jsx(re,{variant:"ghost",size:"icon",disabled:l===c,onClick:()=>u(c),children:""})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs(re,{variant:"outline",onClick:d,className:"h-12 text-base font-semibold",children:[s.jsx(cm,{className:"mr-2 h-5 w-5"}),"Baixar Relatrio"]})})]}),k7e=({bookings:e,onViewDetails:t,onRefetch:r})=>{const n=a=>a?`${a.first_name||""} ${a.last_name||""}`.trim()||"Nome no informado":"Cliente no encontrado";return e.length===0?s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:s.jsx("p",{children:"Nenhuma reserva de equipamento encontrada."})})})}):s.jsx(de,{children:s.jsx(me,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Cliente"}),s.jsx(Ae,{children:"Equipamento"}),s.jsx(Ae,{children:"Data/Hora"}),s.jsx(Ae,{children:"Quantidade"}),s.jsx(Ae,{children:"Valor"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:e.map(a=>{var i,o;return s.jsxs(Bt,{children:[s.jsx(je,{className:"py-3 px-4",children:s.jsx("div",{className:"font-medium",children:n(a.user)})}),s.jsx(je,{className:"py-3 px-4",children:((i=a.equipment)==null?void 0:i.name)||"Equipamento no encontrado"}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsxs("div",{children:[s.jsx("div",{children:We(new Date(a.start_time),"dd/MM/yyyy")}),s.jsxs("div",{className:"text-muted-foreground",children:[We(new Date(a.start_time),"HH:mm")," - ",We(new Date(a.end_time),"HH:mm")]})]})}),s.jsxs(je,{className:"py-3 px-4 text-sm",children:[a.quantity,"x"]}),s.jsxs(je,{className:"py-3 px-4 text-sm font-medium",children:["R$ ",((o=a.total_price)==null?void 0:o.toFixed(2))||"0.00"]}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsx(eb,{status:a.status})}),s.jsx(je,{className:"py-3 px-4 text-sm",children:s.jsxs("div",{className:"flex gap-2 flex-col lg:flex-row",children:[s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>t(a),children:[s.jsx(zi,{className:"h-4 w-4 mr-1"}),"Ver"]}),a.status==="in_process"]})})]},a.id)})})]})})})})},P7e=({isOpen:e,onClose:t,booking:r,onRefetch:n})=>{var i,o,l,c;if(!r)return null;const a=u=>u?`${u.first_name||""} ${u.last_name||""}`.trim()||"Nome no informado":"Cliente no encontrado";return s.jsx(_n,{open:e,onOpenChange:t,children:s.jsxs(un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(In,{children:[s.jsx(dn,{children:"Detalhes da Reserva de Equipamento"}),s.jsx(Kc,{children:"Informaes completas sobre a reserva selecionada"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Informaes do Cliente"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nome:"})," ",a(r.user)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data da Reserva:"})," ",We(new Date(r.created_at),"dd/MM/yyyy HH:mm")]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Detalhes da Reserva"}),s.jsx(eb,{status:r.status}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Valor Total:"})," R$ ",((i=r.total_price)==null?void 0:i.toFixed(2))||"0.00"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Horrio"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Data:"})," ",We(new Date(r.start_time),"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Incio:"})," ",We(new Date(r.start_time),"HH:mm")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fim:"})," ",We(new Date(r.end_time),"HH:mm")]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Equipamento"}),s.jsxs("div",{className:"border p-3 rounded",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nome:"})," ",((o=r.equipment)==null?void 0:o.name)||"Equipamento no encontrado"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Quantidade:"})," ",r.quantity,"x"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Preo por hora:"})," R$ ",((c=(l=r.equipment)==null?void 0:l.price_per_hour)==null?void 0:c.toFixed(2))||"0.00"]})]})]}),r.invoice_url!==void 0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Nota Fiscal"}),s.jsx(__,{recordId:r.id,recordType:"equipment_booking",currentInvoiceUrl:r.invoice_url,onSuccess:()=>n()})]})]})]})})};function O7e(){const{activeTab:e,setActiveTab:t,search:r,setSearch:n,page:a,setPage:i,branchId:o,setBranchId:l,branches:c,isSuperAdmin:u,bookings:d,filteredBookings:f,isLoading:h,stats:m,totalPages:v,refetch:p,downloadReport:g,selectedBooking:x,showDetails:y,handleViewDetails:w,handleCloseDetails:b}=T7e();return h?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((j,N)=>s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(pt,{className:"h-4 w-20"}),s.jsx(pt,{className:"h-8 w-16"})]})},N))}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx(pt,{className:"h-6 w-48"})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((j,N)=>s.jsx(pt,{className:"h-12 w-full"},N))})})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(de,{children:s.jsxs(Se,{children:[s.jsx($e,{children:"Reservas de Equipamentos"}),s.jsx(Vr,{children:"Gerencie todas as reservas de equipamentos da sua unidade"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(de,{children:[s.jsx(Se,{className:"pb-2",children:s.jsx($e,{className:"text-sm font-medium",children:"Total"})}),s.jsx(me,{children:s.jsx("div",{className:"text-2xl font-bold",children:m.total})})]}),s.jsxs(de,{children:[s.jsx(Se,{className:"pb-2",children:s.jsx($e,{className:"text-sm font-medium",children:"Pagas"})}),s.jsx(me,{children:s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",m.paid.toFixed(2)]})})]}),s.jsxs(de,{children:[s.jsx(Se,{className:"pb-2",children:s.jsx($e,{className:"text-sm font-medium",children:"Pendentes"})}),s.jsx(me,{children:s.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:["R$ ",m.pending.toFixed(2)]})})]}),s.jsxs(de,{children:[s.jsx(Se,{className:"pb-2",children:s.jsx($e,{className:"text-sm font-medium",children:"Faturado"})}),s.jsx(me,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",m.invoiced.toFixed(2)]})})]})]}),s.jsxs(w_,{value:e,onValueChange:j=>t(j),children:[s.jsxs(fg,{children:[s.jsx(Ca,{value:"all",children:"Todas"}),s.jsx(Ca,{value:"in_process",children:"Pendentes"}),s.jsx(Ca,{value:"paid",children:"Pagas"}),s.jsx(Ca,{value:"cancelled",children:"Canceladas"})]}),s.jsxs(Kh,{value:e,className:"mt-6",children:[s.jsx(A7e,{search:r,setSearch:n,branchId:o,setBranchId:l,branches:c,isSuperAdmin:u,filteredBookingsCount:f.length,page:a,totalPages:v,setPage:i,onDownloadReport:g}),s.jsx(k7e,{bookings:d,onViewDetails:w,onRefetch:p})]})]}),s.jsx(P7e,{isOpen:y,onClose:b,booking:x,onRefetch:p})]})}const D7e=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(!1),{branchId:o}=Kr();_.useEffect(()=>{console.log("CompanyProfile useEffect - branchId:",o),o?l():(console.log("Nenhum branchId encontrado"),n(!1))},[o]);const l=async()=>{n(!0);try{console.log("Buscando perfil da empresa para branch_id:",o);const{data:d,error:f}=await Z.from("branches").select("*").eq("id",o).maybeSingle();console.log("Resultado da busca:",{data:d,error:f}),f?(console.error("Erro ao buscar perfil da empresa:",f),tt({title:"Erro ao carregar dados",description:f.message,variant:"destructive"})):t(d)}catch(d){console.error("Erro inesperado:",d)}finally{n(!1)}},c=d=>{const{name:f,value:h}=d.target;e&&t({...e,[f]:h})},u=async()=>{var d,f,h,m;if(!e||!o){console.log("Dados insuficientes para salvar:",{profile:e,branchId:o});return}i(!0);try{const{data:{session:v}}=await Z.auth.getSession();console.log("Sesso atual:",{user:(d=v==null?void 0:v.user)==null?void 0:d.id,email:(f=v==null?void 0:v.user)==null?void 0:f.email,role:(h=v==null?void 0:v.user)==null?void 0:h.role,aud:(m=v==null?void 0:v.user)==null?void 0:m.aud});const p={...e,branch_id:o};console.log("Tentando salvar dados:",p);const{data:g,error:x}=await Z.from("branches").update(p).eq("id",o).select();console.log("Resultado do upsert:",{data:g,error:x}),x?(console.error("Erro detalhado do Supabase:",{message:x.message,details:x.details,hint:x.hint,code:x.code}),tt({title:"Erro ao salvar",description:`${x.message} ${x.details?"- "+x.details:""}`,variant:"destructive"})):(console.log("Dados salvos com sucesso:",g),tt({title:"Sucesso!",description:"Perfil da empresa atualizado com sucesso."}))}catch(v){console.error("Erro ao salvar perfil da empresa:",v),tt({title:"Erro",description:"Ocorreu um erro ao salvar o perfil da empresa.",variant:"destructive"})}finally{i(!1)}};return r?s.jsxs("div",{className:"space-y-4",children:[s.jsx(pt,{className:"h-8 w-1/3"}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx(pt,{className:"h-6 w-1/4"})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:Array(5).fill(0).map((d,f)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(pt,{className:"h-4 w-1/4"}),s.jsx(pt,{className:"h-10 w-full"})]},f))})})]})]}):o?s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(Oy,{className:"h-7 w-7 text-blue-700"})," Perfil da Empresa"]}),s.jsx(Vr,{className:"text-gray-500",children:"Gerencie as informaes da empresa"})]}),s.jsx(me,{children:s.jsxs("form",{className:"space-y-4",onSubmit:d=>{d.preventDefault(),u()},children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"name",children:"Nome da Empresa"}),s.jsx(Oe,{id:"name",name:"name",value:(e==null?void 0:e.name)||"",onChange:c,placeholder:"Nome da empresa"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"street",children:"Endereo"}),s.jsx(Oe,{id:"street",name:"street",value:(e==null?void 0:e.street)||"",onChange:c,placeholder:"Rua, Avenida, etc."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"number",children:"Nmero"}),s.jsx(Oe,{id:"number",name:"number",value:(e==null?void 0:e.number)||"",onChange:c,placeholder:"Nmero"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"neighborhood",children:"Bairro"}),s.jsx(Oe,{id:"neighborhood",name:"neighborhood",value:(e==null?void 0:e.neighborhood)||"",onChange:c,placeholder:"Bairro"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"city",children:"Cidade"}),s.jsx(Oe,{id:"city",name:"city",value:(e==null?void 0:e.city)||"",onChange:c,placeholder:"Cidade"})]}),s.jsxs(re,{type:"submit",className:"mt-6 w-full md:w-auto",disabled:a,children:[s.jsx(IT,{className:"mr-2 h-4 w-4"}),a?"Salvando...":"Salvar Alteraes"]})]})})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(Oy,{className:"h-7 w-7 text-blue-700"})," Perfil da Empresa"]}),s.jsx(Vr,{className:"text-gray-500",children:"Gerencie as informaes da empresa"})]}),s.jsx(me,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"Nenhuma filial encontrada para este usurio."}),s.jsx("p",{className:"text-sm text-gray-400",children:"Entre em contato com o administrador do sistema para configurar sua filial."})]})})]})})};var _P="Switch",[R7e,Jze]=Zi(_P),[M7e,I7e]=R7e(_P),mG=_.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=_.useState(null),v=kt(t,w=>m(w)),p=_.useRef(!1),g=h?d||!!h.closest("form"):!0,[x=!1,y]=mo({prop:a,defaultProp:i,onChange:u});return s.jsxs(M7e,{scope:r,checked:x,disabled:l,children:[s.jsx(lt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":gG(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:nt(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&s.jsx(F7e,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});mG.displayName=_P;var pG="SwitchThumb",vG=_.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=I7e(pG,r);return s.jsx(lt.span,{"data-state":gG(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});vG.displayName=pG;var F7e=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=_.useRef(null),o=sw(r),l=ew(t);return _.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gG(e){return e?"checked":"unchecked"}var xG=mG,$7e=vG;const zn=_.forwardRef(({className:e,...t},r)=>s.jsx(xG,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx($7e,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));zn.displayName=xG.displayName;const L7e=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!0),[a,i]=_.useState(!1),{branchId:o}=Kr();_.useEffect(()=>{o?l():n(!1)},[o]);const l=async()=>{if(!o){console.warn("Branch ID no disponvel para buscar configuraes de pagamento"),n(!1);return}n(!0);try{const{data:d,error:f}=await Z.from("payment_settings").select("*").eq("branch_id",o).single();f&&f.code!=="PGRST116"?tt({title:"Erro ao carregar configuraes",description:f.message,variant:"destructive"}):t(d||{branch_id:o,boleto_enabled:!0,boleto_due_days:3,boleto_visible:!0,pix_enabled:!0,pix_expiration_minutes:30,pix_visible:!0,credit_card_enabled:!0,cartao_visible:!0,click2pay_enabled:!1,click2pay_api_url:null,dinheiro_visible:!0})}catch(d){console.error("Erro ao buscar configuraes de pagamento:",d)}finally{n(!1)}},c=(d,f)=>{e&&t({...e,[d]:f})},u=async()=>{if(!e||!o){tt({title:"Erro",description:"Branch ID no disponvel. Verifique se voc est logado corretamente.",variant:"destructive"});return}i(!0);try{const{error:d}=await Z.from("payment_settings").upsert(e,{onConflict:"branch_id"});tt(d?{title:"Erro ao salvar",description:d.message,variant:"destructive"}:{title:"Sucesso!",description:"Configuraes de pagamento atualizadas com sucesso."})}catch(d){console.error("Erro ao salvar configuraes:",d)}finally{i(!1)}};return r?s.jsxs("div",{className:"space-y-4",children:[s.jsx(pt,{className:"h-8 w-1/3"}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx(pt,{className:"h-6 w-1/4"})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-4",children:Array(8).fill(0).map((d,f)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(pt,{className:"h-4 w-1/4"}),s.jsx(pt,{className:"h-10 w-full"})]},f))})})]})]}):o?s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(As,{className:"h-7 w-7 text-blue-700"})," Configuraes de Pagamento"]}),s.jsx(Vr,{className:"text-gray-500",children:"Configure os meios de pagamento e suas opes"})]}),s.jsx(me,{children:s.jsxs("form",{className:"space-y-6",onSubmit:d=>{d.preventDefault(),u()},children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-orange-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuraes do Boleto"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"boleto_enabled",children:"Habilitar Boleto"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir pagamentos via boleto bancrio"})]}),s.jsx(zn,{id:"boleto_enabled",checked:(e==null?void 0:e.boleto_enabled)||!1,onCheckedChange:d=>c("boleto_enabled",d)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"boleto_visible",children:"Exibir Boleto no checkout"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Controla se o boleto aparece como opo de pagamento"})]}),s.jsx(zn,{id:"boleto_visible",checked:(e==null?void 0:e.boleto_visible)??!0,onCheckedChange:d=>c("boleto_visible",d)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"boleto_due_days",children:"Dias para Vencimento do Boleto"}),s.jsx(Oe,{id:"boleto_due_days",type:"number",min:"1",max:"30",value:(e==null?void 0:e.boleto_due_days)||3,onChange:d=>c("boleto_due_days",parseInt(d.target.value)),placeholder:"Dias para vencimento",disabled:!(e!=null&&e.boleto_enabled)})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuraes do Pix"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"pix_enabled",children:"Habilitar Pix"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir pagamentos via Pix"})]}),s.jsx(zn,{id:"pix_enabled",checked:(e==null?void 0:e.pix_enabled)||!1,onCheckedChange:d=>c("pix_enabled",d)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"pix_visible",children:"Exibir PIX no checkout"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Controla se o PIX aparece como opo de pagamento"})]}),s.jsx(zn,{id:"pix_visible",checked:(e==null?void 0:e.pix_visible)??!0,onCheckedChange:d=>c("pix_visible",d)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"pix_expiration_minutes",children:"Tempo de Expirao do Pix (minutos)"}),s.jsx(Oe,{id:"pix_expiration_minutes",type:"number",min:"5",max:"1440",value:(e==null?void 0:e.pix_expiration_minutes)||30,onChange:d=>c("pix_expiration_minutes",parseInt(d.target.value)),placeholder:"Minutos para expirao",disabled:!(e!=null&&e.pix_enabled)})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuraes do Carto de Crdito"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"credit_card_enabled",children:"Habilitar Carto de Crdito"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permitir pagamentos via carto de crdito"})]}),s.jsx(zn,{id:"credit_card_enabled",checked:(e==null?void 0:e.credit_card_enabled)||!1,onCheckedChange:d=>c("credit_card_enabled",d)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"cartao_visible",children:"Exibir Carto no checkout"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Controla se o carto aparece como opo de pagamento"})]}),s.jsx(zn,{id:"cartao_visible",checked:(e==null?void 0:e.cartao_visible)??!0,onCheckedChange:d=>c("cartao_visible",d)})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Integrao Click2Pay"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"click2pay_enabled",children:"Habilitar Click2Pay"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Ativar integrao com o gateway Click2Pay"})]}),s.jsx(zn,{id:"click2pay_enabled",checked:(e==null?void 0:e.click2pay_enabled)||!1,onCheckedChange:d=>c("click2pay_enabled",d)})]}),(e==null?void 0:e.click2pay_enabled)&&s.jsxs("div",{className:"space-y-4 pl-4 border-l-2 border-purple-200",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"click2pay_api_url",children:"URL da API Click2Pay"}),s.jsx(Oe,{id:"click2pay_api_url",type:"url",value:(e==null?void 0:e.click2pay_api_url)||"",onChange:d=>c("click2pay_api_url",d.target.value),placeholder:"https://api.click2pay.com.br"})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Nota:"})," As credenciais de acesso (usurio e senha) so configuradas diretamente nos secrets do Supabase por questes de segurana."]})})]})]}),s.jsx(Fr,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pagamento em Dinheiro (Admin)"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(De,{htmlFor:"dinheiro_visible",children:"Exibir Pagamento em Dinheiro"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Controla se o pagamento em dinheiro aparece para administradores"})]}),s.jsx(zn,{id:"dinheiro_visible",checked:(e==null?void 0:e.dinheiro_visible)??!0,onCheckedChange:d=>c("dinheiro_visible",d)})]}),s.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:s.jsxs("p",{className:"text-sm text-yellow-700",children:[s.jsx("strong",{children:"Nota:"})," O pagamento em dinheiro  uma funcionalidade exclusiva para administradores e permite confirmao manual de pagamentos."]})})]}),s.jsxs(re,{type:"submit",className:"mt-6 w-full md:w-auto",disabled:a,children:[s.jsx(IT,{className:"mr-2 h-4 w-4"}),a?"Salvando...":"Salvar Configuraes"]})]})})]})}):s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(As,{className:"h-7 w-7 text-blue-700"})," Configuraes de Pagamento"]}),s.jsx(Vr,{className:"text-gray-500",children:"Configure os meios de pagamento e suas opes"})]}),s.jsx(me,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No foi possvel carregar as configuraes de pagamento."}),s.jsx("p",{className:"text-sm text-gray-400",children:"Verifique se voc est logado corretamente e possui uma filial associada."})]})})]})})},B7e=g8({name:ff().min(1,"Nome  obrigatrio"),description:ff().optional(),price:gN.number().min(.01,"Preo deve ser maior que zero"),model:ff().optional(),quantity:gN.number().min(0,"Quantidade no pode ser negativa"),equipment_id:ff().nullable().optional()}),U7e=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(null),{toast:a}=Pr(),{branchId:i,setBranchId:o,branches:l,isSuperAdmin:c}=Kr(),{user:u}=Gt(),{logCreate:d,logUpdate:f,logDelete:h}=dg(),[m,v]=_.useState([]),[p,g]=_.useState([]),x=i8({resolver:o8(B7e),defaultValues:{name:"",description:"",price:0,model:"",quantity:0,equipment_id:null}}),{data:y,isLoading:w,refetch:b}=it({queryKey:["products",i],queryFn:async()=>{if(!i)return[];const{data:M,error:D}=await Z.from("products").select("*, equipment:equipment(name)").eq("branch_id",i).order("created_at",{ascending:!1});if(D)throw D;return M||[]},enabled:!!i}),{data:j}=it({queryKey:["equipment"],queryFn:async()=>{const{data:M,error:D}=await Z.from("equipment").select("id, name").order("name");if(D)throw D;return M||[]}}),N=Wr({mutationFn:async M=>{var W;const D=(W=u==null?void 0:u.user_metadata)==null?void 0:W.branch_id;if(!u||!D)throw new Error("Sesso expirada ou usurio sem filial associada. Faa login novamente.");const O={name:M.name,description:M.description,price:M.price,model:M.model,quantity:M.quantity,equipment_id:M.equipment_id==="null"?null:M.equipment_id};if(r){const{data:ne,error:ee}=await Z.from("products").update(O).eq("id",r).select().single();if(ee)throw ee;if(await f("product",r,O,ne),p.length>0)for(const I of p){const X=`${r}_${Date.now()}_${I.name}`,{data:Y,error:Q}=await Z.storage.from("product-photos").upload(X,I);if(Q){console.error("Erro ao fazer upload da foto do produto:",Q);continue}const{data:{publicUrl:ie}}=Z.storage.from("product-photos").getPublicUrl(X);await Z.from("product_photos").insert({product_id:r,url:ie,branch_id:D})}return ne}else{const{data:ne,error:ee}=await Z.from("products").insert({...O,branch_id:D,is_active:!0}).select().single();if(ee)throw ee;if(await d("product",ne.id,{...O,branch_id:D},ne),p.length>0)for(const I of p){const X=`${ne.id}_${Date.now()}_${I.name}`,{data:Y,error:Q}=await Z.storage.from("product-photos").upload(X,I);if(Q){console.error("Erro ao fazer upload da foto do produto:",Q);continue}const{data:{publicUrl:ie}}=Z.storage.from("product-photos").getPublicUrl(X);await Z.from("product_photos").insert({product_id:ne.id,url:ie,branch_id:D})}return ne}},onSuccess:()=>{a({title:r?"Produto atualizado":"Produto criado",description:r?"O produto foi atualizado com sucesso.":"O produto foi criado com sucesso."}),t(!1),E(),b()},onError:M=>{a({variant:"destructive",title:"Erro",description:`Ocorreu um erro ao ${r?"atualizar":"criar"} o produto: ${M.message}`})}}),S=Wr({mutationFn:async M=>{const{data:D}=await Z.from("products").select("*").eq("id",M).single(),{error:O}=await Z.from("products").delete().eq("id",M);if(O)throw O;return D&&await h("product",M,D),M},onSuccess:M=>{a({title:"Produto excludo",description:"O produto foi excludo com sucesso."}),b()},onError:M=>{a({variant:"destructive",title:"Erro",description:`Ocorreu um erro ao excluir o produto: ${M.message}`})}}),E=()=>{x.reset({name:"",description:"",price:0,model:"",quantity:0,equipment_id:null}),n(null),v([]),g([])},C=M=>{const D=Array.from(M.target.files||[]);g(O=>[...O,...D])},T=M=>{g(D=>D.filter((O,W)=>W!==M))},A=async M=>{try{const{error:D}=await Z.from("product_photos").delete().eq("id",M);if(D)throw D;v(O=>O.filter(W=>W.id!==M)),a({title:"Foto removida com sucesso"})}catch(D){a({variant:"destructive",title:"Erro ao remover foto",description:D.message})}},k=async M=>{x.reset({name:M.name,description:M.description||"",price:M.price,model:M.model||"",quantity:M.quantity||0,equipment_id:M.equipment_id||null}),n(M.id);try{const{data:D}=await Z.from("product_photos").select("*").eq("product_id",M.id);D&&v(D)}catch(D){console.error("Erro ao carregar fotos:",D)}t(!0)},P=M=>{window.confirm("Tem certeza de que deseja excluir este produto?")&&S.mutate(M)},L=M=>{N.mutate(M)},B=M=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(M);return s.jsxs(s.Fragment,{children:[c&&l&&s.jsx("div",{className:"mb-4 max-w-xs",children:s.jsxs(zt,{value:i||void 0,onValueChange:o,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Filial"})}),s.jsx(Lt,{children:l.map(M=>s.jsx(Xe,{value:M.id,children:M.name},M.id))})]})}),s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(ed,{className:"h-7 w-7 text-blue-700"})," Produtos"]}),s.jsx(Vr,{className:"text-gray-500",children:"Gerencie os produtos disponveis para venda"})]}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Produtos"}),s.jsx("p",{className:"text-muted-foreground",children:"Gerencie os produtos disponveis para venda"})]}),s.jsxs(re,{onClick:()=>{E(),t(!0)},children:[s.jsx(gl,{className:"mr-2 h-4 w-4"}),"Novo Produto"]})]}),s.jsxs(de,{children:[s.jsxs(Se,{children:[s.jsx($e,{children:"Lista de Produtos"}),s.jsx(Vr,{children:"Gerencie todos os produtos disponveis para venda"})]}),s.jsx(me,{children:w?s.jsx("div",{className:"flex justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Modelo"}),s.jsx(Ae,{children:"Preo"}),s.jsx(Ae,{children:"Equipamento Relacionado"}),s.jsx(Ae,{children:"Quantidade"}),s.jsx(Ae,{className:"text-right",children:"Aes"})]})}),s.jsx(Ma,{children:y&&y.length>0?y.map(M=>s.jsxs(Bt,{children:[s.jsx(je,{className:"font-medium",children:M.name}),s.jsx(je,{children:M.model||"-"}),s.jsx(je,{children:B(M.price)}),s.jsx(je,{children:M.equipment?s.jsx("span",{className:"text-sm",children:M.equipment.name}):"-"}),s.jsx(je,{children:M.quantity||0}),s.jsx(je,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>k(M),children:s.jsx(FT,{className:"h-4 w-4"})}),s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>P(M.id),children:s.jsx(dm,{className:"h-4 w-4"})})]})})]},M.id)):s.jsx(Bt,{children:s.jsx(je,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Nenhum produto encontrado"})})})]})})})]})]})]}),s.jsx(_n,{open:e,onOpenChange:t,children:s.jsxs(un,{className:"sm:max-w-[550px]",children:[s.jsxs(In,{children:[s.jsx(dn,{children:r?"Editar Produto":"Novo Produto"}),s.jsx(Kc,{children:r?"Atualize as informaes do produto abaixo.":"Complete as informaes do produto abaixo para criar um novo registro."})]}),s.jsx(b8,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(L),className:"space-y-4",children:[s.jsx(vn,{control:x.control,name:"name",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Nome *"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Nome do produto",...M})}),s.jsx(an,{})]})}),s.jsx(vn,{control:x.control,name:"description",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Descrio"}),s.jsx(nn,{children:s.jsx(bl,{placeholder:"Descrio do produto",...M})}),s.jsx(an,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vn,{control:x.control,name:"price",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Preo *"}),s.jsx(nn,{children:s.jsx(Oe,{type:"number",step:"0.01",...M})}),s.jsx(an,{})]})}),s.jsx(vn,{control:x.control,name:"model",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Modelo"}),s.jsx(nn,{children:s.jsx(Oe,{placeholder:"Modelo do produto",...M})}),s.jsx(an,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(vn,{control:x.control,name:"quantity",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Quantidade disponvel"}),s.jsx(nn,{children:s.jsx(Oe,{type:"number",...M})}),s.jsx(an,{})]})}),s.jsx(vn,{control:x.control,name:"equipment_id",render:({field:M})=>s.jsxs(tn,{children:[s.jsx(rn,{children:"Equipamento relacionado"}),s.jsxs(zt,{onValueChange:M.onChange,defaultValue:M.value||"null",value:M.value||"null",children:[s.jsx(nn,{children:s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione um equipamento"})})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"null",children:"Nenhum"}),j==null?void 0:j.map(D=>s.jsx(Xe,{value:D.id,children:D.name},D.id))]})]}),s.jsx(an,{})]})})]}),s.jsx(Qk,{photos:m,files:p,onFileChange:C,onRemoveFile:T,onRemovePhoto:A,title:"Fotos do Produto"}),s.jsxs(eg,{children:[s.jsx(re,{variant:"outline",type:"button",onClick:()=>{t(!1),E()},children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:N.isPending,children:N.isPending?"Salvando...":"Salvar"})]})]})})]})})]})};function q7e({branchId:e,setBranchId:t,branches:r,isSuperAdmin:n,search:a,setSearch:i,page:o,setPage:l,totalPages:c,totalOrders:u,resumo:d,isLoading:f,onDownloadReport:h}){return s.jsxs("div",{className:"space-y-6",children:[n&&s.jsxs(de,{children:[s.jsx(Se,{className:"pb-4",children:s.jsx($e,{children:"Filtrar por Filial"})}),s.jsx(me,{children:s.jsxs(zt,{value:e||"all",onValueChange:m=>t(m==="all"?null:m),children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Todas as filiais"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as filiais"}),r.map(m=>s.jsx(Xe,{value:m.id,children:m.name},m.id))]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(Vr,{children:"Total de Vendas"}),s.jsx($e,{className:"text-2xl",children:(d==null?void 0:d.total)||0})]})}),s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(Vr,{children:"Faturadas"}),s.jsx($e,{className:"text-2xl text-blue-600",children:(d==null?void 0:d.billed)||0})]})}),s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(Vr,{children:"Pagas"}),s.jsx($e,{className:"text-2xl text-green-600",children:(d==null?void 0:d.paid)||0})]})}),s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(Vr,{children:"Pendentes"}),s.jsx($e,{className:"text-2xl text-yellow-600",children:(d==null?void 0:d.pending)||0})]})}),s.jsx(de,{children:s.jsxs(Se,{className:"pb-2",children:[s.jsx(Vr,{children:"Canceladas"}),s.jsx($e,{className:"text-2xl text-red-600",children:(d==null?void 0:d.cancelled)||0})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"relative max-w-sm",children:[s.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(Oe,{placeholder:"Buscar por cliente ou produto...",value:a,onChange:m=>i(m.target.value),className:"pl-10"})]}),s.jsxs(re,{onClick:h,variant:"outline",children:[s.jsx(cm,{className:"h-4 w-4 mr-2"}),"Exportar Relatrio"]})]})]})}const z7e={pending:"bg-yellow-100 text-yellow-800",billed:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};function H7e({orders:e,currentPage:t,totalPages:r,setCurrentPage:n,onViewDetails:a,onMarkAsPaid:i,onCancelOrder:o,translateStatus:l}){var f;const{user:c}=Gt(),u=((f=c==null?void 0:c.user_metadata)==null?void 0:f.role)==="super_admin",d=h=>h&&`${h.first_name||""} ${h.last_name||""}`.trim()||"N/A";return e.length===0?s.jsx(de,{children:s.jsx(me,{className:"flex flex-col items-center justify-center py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma venda encontrada"}),s.jsx("p",{className:"text-muted-foreground",children:"No h vendas de produtos para exibir no momento."})]})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx(de,{children:s.jsx(me,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Cliente"}),s.jsx(Ae,{children:"Data"}),s.jsx(Ae,{children:"Produtos"}),s.jsx(Ae,{children:"Valor Total"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:e.map(h=>{var m,v,p,g,x,y;return s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d(h.profiles)}),s.jsx("div",{className:"text-sm text-muted-foreground",children:((m=h.profiles)==null?void 0:m.email)||"N/A"})]})}),s.jsxs(je,{children:[s.jsx("div",{className:"text-sm",children:new Date(h.created_at).toLocaleDateString("pt-BR")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(h.created_at).toLocaleTimeString("pt-BR")})]}),s.jsxs(je,{children:[s.jsxs("div",{className:"text-sm",children:[((v=h.order_items)==null?void 0:v.length)||0," item(s)"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[(x=(g=(p=h.order_items)==null?void 0:p[0])==null?void 0:g.products)==null?void 0:x.name,((y=h.order_items)==null?void 0:y.length)>1&&` +${h.order_items.length-1} mais`]})]}),s.jsx(je,{children:s.jsx("div",{className:"font-medium",children:st(h.total_amount)})}),s.jsx(je,{children:s.jsx(Re,{className:z7e[h.status],children:l(h.status)})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>a(h),children:[s.jsx(zi,{className:"h-4 w-4 mr-1"}),"Ver detalhes"]}),h.status==="billed"&&s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>i(h.id),className:"text-green-600 hover:text-green-700",children:[s.jsx(As,{className:"h-4 w-4 mr-1"}),"Marcar como pago"]}),u&&h.status!=="cancelled"&&s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>o(h.id),className:"text-red-600 hover:text-red-700",children:[s.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Cancelar pedido"]})]})})]},h.id)})})]})})})}),r>1&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Anterior"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Pgina ",t," de ",r]}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>n(Math.min(r,t+1)),disabled:t===r,children:"Prxima"})]})]})}const V7e={pending:"bg-yellow-100 text-yellow-800",billed:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"};function W7e({order:e,isOpen:t,onClose:r,translateStatus:n}){var i,o;if(!e)return null;const a=()=>e.profiles&&`${e.profiles.first_name||""} ${e.profiles.last_name||""}`.trim()||"N/A";return s.jsx(_n,{open:t,onOpenChange:r,children:s.jsxs(un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(In,{children:[s.jsx(dn,{children:"Detalhes da Venda"}),s.jsx(Kc,{children:"Informaes completas sobre a venda selecionada"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{className:"text-lg",children:"Informaes do Cliente"})}),s.jsxs(me,{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Nome:"})," ",a()]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",((i=e.profiles)==null?void 0:i.email)||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Telefone:"})," ",((o=e.profiles)==null?void 0:o.phone)||"N/A"]})]})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{className:"text-lg",children:"Detalhes da Venda"})}),s.jsxs(me,{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Data do Pedido:"})," ",new Date(e.created_at).toLocaleString("pt-BR")]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx(Re,{className:V7e[e.status],children:n(e.status)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Valor Total:"})," ",s.jsx("span",{className:"text-lg font-bold text-green-600",children:st(e.total_amount)})]})]})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{className:"text-lg",children:"Produtos Comprados"})}),s.jsx(me,{children:e.order_items&&e.order_items.length>0?s.jsx("div",{className:"space-y-4",children:e.order_items.map((l,c)=>{var u;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Produto:"}),s.jsx("div",{children:((u=l.products)==null?void 0:u.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Quantidade:"}),s.jsxs("div",{children:[l.quantity,"x"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Preo Unitrio:"}),s.jsx("div",{children:st(l.price_per_unit)})]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t",children:[s.jsx("span",{className:"font-medium",children:"Subtotal:"})," ",s.jsx("span",{className:"font-bold",children:st(l.quantity*l.price_per_unit)})]})]},c)})}):s.jsx("p",{className:"text-muted-foreground",children:"Nenhum produto encontrado"})})]}),e.status==="paid"&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{className:"text-lg",children:"Nota Fiscal"})}),s.jsx(me,{children:s.jsx(__,{recordId:e.id,recordType:"order",currentInvoiceUrl:null,onSuccess:()=>window.location.reload()})})]})]})]})})}const G7e={pending:"Pendente",billed:"Faturado",paid:"Pago",cancelled:"Cancelado"},K7e=e=>{switch(e){case"pending":return"pending";case"billed":return"billed";case"paid":return"paid";case"cancelled":return"cancelled";default:return"pending"}};function X7e(){const[e,t]=_.useState("all"),[r,n]=_.useState(""),[a,i]=_.useState(1),[o,l]=_.useState(null),[c,u]=_.useState(!1),d=10,f=Ni(),{branchId:h,setBranchId:m,branches:v,isSuperAdmin:p}=Kr(),g=it({queryKey:["product-orders",h],queryFn:async()=>{let A=hf.from("orders").select(`
          *,
          profiles:user_id (
            first_name,
            last_name,
            email,
            phone
          ),
          order_items (
            id,
            product_id,
            quantity,
            price_per_unit,
            products:product_id (
              name,
              price
            )
          )
        `).order("created_at",{ascending:!1});h&&(A=A.eq("branch_id",h));const{data:k,error:P}=await A;if(P)throw P;return k}});it({queryKey:["profiles"],queryFn:async()=>{const{data:A,error:k}=await hf.from("profiles").select("id, first_name, last_name, email, phone");if(k)throw k;return A}});const x=_.useMemo(()=>{if(!g.data)return[];let A=g.data;if(e!=="all"&&(A=A.filter(k=>K7e(k.status)===e)),r){const k=r.toLowerCase();A=A.filter(P=>{var B,M,D,O,W;return`${((B=P.profiles)==null?void 0:B.first_name)||""} ${((M=P.profiles)==null?void 0:M.last_name)||""}`.toLowerCase().includes(k)||((O=(D=P.profiles)==null?void 0:D.email)==null?void 0:O.toLowerCase().includes(k))||((W=P.order_items)==null?void 0:W.some(ne=>{var ee,I;return(I=(ee=ne.products)==null?void 0:ee.name)==null?void 0:I.toLowerCase().includes(k)}))})}return A},[g.data,e,r]),y=_.useMemo(()=>{const A=(a-1)*d;return x.slice(A,A+d)},[x,a]),w=Math.ceil(x.length/d),b=_.useMemo(()=>g.data?{total:g.data.length,paid:g.data.filter(A=>A.status==="paid").length,pending:g.data.filter(A=>A.status==="pending").length,cancelled:g.data.filter(A=>A.status==="cancelled").length,billed:g.data.filter(A=>A.status==="billed").length}:{total:0,paid:0,pending:0,cancelled:0,billed:0},[g.data]),j=A=>G7e[A]||A,N=()=>{if(!x.length){yn.error("Nenhuma venda encontrada para exportar");return}const A=x.map(B=>{var M,D,O,W,ne;return{Cliente:`${((M=B.profiles)==null?void 0:M.first_name)||""} ${((D=B.profiles)==null?void 0:D.last_name)||""}`.trim()||"N/A",Email:((O=B.profiles)==null?void 0:O.email)||"N/A",Telefone:((W=B.profiles)==null?void 0:W.phone)||"N/A","Data do Pedido":new Date(B.created_at).toLocaleString("pt-BR"),Produtos:((ne=B.order_items)==null?void 0:ne.map(ee=>{var I;return`${ee.quantity}x ${((I=ee.products)==null?void 0:I.name)||"N/A"}`}).join("; "))||"N/A","Valor Total":st(B.total_amount),Status:j(B.status)}}),k=Zo.json_to_sheet(A),P=Zo.book_new();Zo.book_append_sheet(P,k,"Vendas de Produtos");const L=`vendas-produtos-${new Date().toISOString().split("T")[0]}.xlsx`;bP(P,L),yn.success("Relatrio exportado com sucesso!")},S=async A=>{try{const{error:k}=await hf.from("orders").update({status:"paid"}).eq("id",A);if(k)throw k;f.invalidateQueries({queryKey:["product-orders"]}),yn.success("Pedido marcado como pago com sucesso!")}catch(k){console.error("Erro ao marcar pedido como pago:",k),yn.error("Erro ao marcar pedido como pago")}},E=async A=>{try{const{error:k}=await hf.from("orders").update({status:"cancelled"}).eq("id",A);if(k)throw k;f.invalidateQueries({queryKey:["product-orders"]}),yn.success("Pedido cancelado com sucesso!")}catch(k){console.error("Erro ao cancelar pedido:",k),yn.error("Erro ao cancelar pedido")}},C=A=>{l(A),u(!0)},T=()=>{l(null),u(!1)};return _.useEffect(()=>{i(1)},[e,r,h]),{activeTab:e,setActiveTab:t,branchId:h,setBranchId:m,branches:v,isSuperAdmin:p,orders:g.data||[],isLoading:g.isLoading,error:g.error,selectedOrder:o,showDetails:c,search:r,setSearch:n,page:a,setPage:i,totalPages:w,paginatedOrders:y,resumo:b,downloadReport:N,handleCancelOrder:E,handleMarkAsPaid:S,handleViewDetails:C,handleCloseDetails:T}}function Y7e(){const{activeTab:e,setActiveTab:t,branchId:r,setBranchId:n,branches:a,isSuperAdmin:i,orders:o,isLoading:l,error:c,selectedOrder:u,showDetails:d,search:f,setSearch:h,page:m,setPage:v,totalPages:p,paginatedOrders:g,resumo:x,downloadReport:y,handleCancelOrder:w,handleMarkAsPaid:b,handleViewDetails:j,handleCloseDetails:N}=X7e();return s.jsxs("div",{className:"space-y-6 md:space-y-8 max-w-7xl mx-auto px-2 sm:px-4 pb-8 md:pb-10",children:[s.jsx(de,{className:"shadow-lg rounded-xl md:rounded-2xl border-0 bg-white",children:s.jsx(Se,{className:"p-4 md:p-6",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(ed,{className:"h-6 w-6 md:h-8 md:w-8 text-primary flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx($e,{className:"text-xl sm:text-2xl md:text-3xl font-bold leading-tight",children:"Vendas de Produtos"}),s.jsx(Vr,{className:"text-muted-foreground mt-1 text-sm md:text-base",children:"Acompanhe todos os pedidos e vendas de produtos realizados na plataforma."})]})]})})}),s.jsx(q7e,{branchId:r,setBranchId:n,branches:a,isSuperAdmin:i,search:f,setSearch:h,page:m,setPage:v,totalPages:p,totalOrders:g.length,resumo:x,isLoading:l,onDownloadReport:y}),s.jsxs(w_,{defaultValue:"all",value:e,onValueChange:t,children:[s.jsxs(fg,{className:"grid w-full grid-cols-2 sm:grid-cols-4 gap-1 h-auto p-1",children:[s.jsx(Ca,{value:"all",className:"text-xs sm:text-sm py-2 px-2 sm:px-3",children:"Todas"}),s.jsx(Ca,{value:"paid",className:"text-xs sm:text-sm py-2 px-2 sm:px-3",children:"Pago"}),s.jsx(Ca,{value:"pending",className:"text-xs sm:text-sm py-2 px-2 sm:px-3",children:"Falta pagar"}),s.jsx(Ca,{value:"cancelled",className:"text-xs sm:text-sm py-2 px-2 sm:px-3",children:"Cancelado"})]}),s.jsx(Kh,{value:e,className:"mt-6",children:l?s.jsxs("div",{className:"space-y-3",children:[s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"}),s.jsx(pt,{className:"h-10 w-full"})]}):c?s.jsxs("div",{className:"rounded-lg bg-destructive/10 p-6 text-center",children:[s.jsx("p",{className:"text-destructive font-medium",children:"Erro ao carregar vendas"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:c.message||"Ocorreu um erro ao carregar as vendas."})]}):!o||o.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 border rounded-lg bg-muted/20",children:[s.jsx(pre,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma venda de produto encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Ainda no h vendas de produtos cadastradas na plataforma."}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"As vendas aparecero aqui assim que forem realizadas."})]}):s.jsx(H7e,{orders:g,onViewDetails:j,onMarkAsPaid:b,onCancelOrder:w,currentPage:m,totalPages:p,setCurrentPage:v,translateStatus:S=>S})})]}),s.jsx(W7e,{order:u,isOpen:d,onClose:N,translateStatus:S=>S})]})}const Q7e=(e,t)=>{const{branchId:r}=Kr(),{data:n=[],isLoading:a}=it({queryKey:["change-history",r,e,t],queryFn:async()=>{if(!r)return[];let d=Z.from("change_history").select("*").eq("branch_id",r).order("created_at",{ascending:!1});const{data:f,error:h}=await d.limit(500);if(h)throw h;return f},enabled:!!r});return{changeHistory:n,isLoading:a,getChangesByUser:d=>n.filter(f=>f.user_id===d),getChangesByTable:d=>n.filter(f=>f.table_name===d),getChangesByDateRange:(d,f)=>n.filter(h=>{const m=new Date(h.created_at);return m>=d&&m<=f}),compareVersions:d=>n.filter(h=>h.record_id===d).sort((h,m)=>new Date(h.created_at).getTime()-new Date(m.created_at).getTime()),getChangeStats:()=>{const d=n.length,f=n.filter(g=>g.operation==="INSERT").length,h=n.filter(g=>g.operation==="UPDATE").length,m=n.filter(g=>g.operation==="DELETE").length,v=n.reduce((g,x)=>(g[x.table_name]=(g[x.table_name]||0)+1,g),{}),p=n.reduce((g,x)=>(x.user_email&&(g[x.user_email]=(g[x.user_email]||0)+1),g),{});return{totalChanges:d,insertions:f,updates:h,deletions:m,changesByTable:v,changesByUser:p}}}};var yG={},bG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=a(i,n(l)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return r.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=a(o,l));return o}function a(i,o){return o?i?i+" "+o:i+o:i}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(bG);var Z7e=bG.exports,jc={},wG={},Nl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(){}t.prototype={diff:function(a,i){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=l.callback;typeof l=="function"&&(c=l,l={}),this.options=l;var u=this;function d(S){return c?(setTimeout(function(){c(void 0,S)},0),!0):S}a=this.castInput(a),i=this.castInput(i),a=this.removeEmpty(this.tokenize(a)),i=this.removeEmpty(this.tokenize(i));var f=i.length,h=a.length,m=1,v=f+h;l.maxEditLength&&(v=Math.min(v,l.maxEditLength));var p=(o=l.timeout)!==null&&o!==void 0?o:1/0,g=Date.now()+p,x=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(x[0],i,a,0);if(x[0].oldPos+1>=h&&y+1>=f)return d([{value:this.join(i),count:i.length}]);var w=-1/0,b=1/0;function j(){for(var S=Math.max(w,-m);S<=Math.min(b,m);S+=2){var E=void 0,C=x[S-1],T=x[S+1];C&&(x[S-1]=void 0);var A=!1;if(T){var k=T.oldPos-S;A=T&&0<=k&&k<f}var P=C&&C.oldPos+1<h;if(!A&&!P){x[S]=void 0;continue}if(!P||A&&C.oldPos+1<T.oldPos?E=u.addToPath(T,!0,void 0,0):E=u.addToPath(C,void 0,!0,1),y=u.extractCommon(E,i,a,S),E.oldPos+1>=h&&y+1>=f)return d(r(u,E.lastComponent,i,a,u.useLongestToken));x[S]=E,E.oldPos+1>=h&&(b=Math.min(b,S-1)),y+1>=f&&(w=Math.max(w,S+1))}m++}if(c)(function S(){setTimeout(function(){if(m>v||Date.now()>g)return c();j()||S()},0)})();else for(;m<=v&&Date.now()<=g;){var N=j();if(N)return N}},addToPath:function(a,i,o,l){var c=a.lastComponent;return c&&c.added===i&&c.removed===o?{oldPos:a.oldPos+l,lastComponent:{count:c.count+1,added:i,removed:o,previousComponent:c.previousComponent}}:{oldPos:a.oldPos+l,lastComponent:{count:1,added:i,removed:o,previousComponent:c}}},extractCommon:function(a,i,o,l){for(var c=i.length,u=o.length,d=a.oldPos,f=d-l,h=0;f+1<c&&d+1<u&&this.equals(i[f+1],o[d+1]);)f++,d++,h++;return h&&(a.lastComponent={count:h,previousComponent:a.lastComponent}),a.oldPos=d,f},equals:function(a,i){return this.options.comparator?this.options.comparator(a,i):a===i||this.options.ignoreCase&&a.toLowerCase()===i.toLowerCase()},removeEmpty:function(a){for(var i=[],o=0;o<a.length;o++)a[o]&&i.push(a[o]);return i},castInput:function(a){return a},tokenize:function(a){return a.split("")},join:function(a){return a.join("")}};function r(n,a,i,o,l){for(var c=[],u;a;)c.push(a),u=a.previousComponent,delete a.previousComponent,a=u;c.reverse();for(var d=0,f=c.length,h=0,m=0;d<f;d++){var v=c[d];if(v.removed){if(v.value=n.join(o.slice(m,m+v.count)),m+=v.count,d&&c[d-1].added){var g=c[d-1];c[d-1]=c[d],c[d]=g}}else{if(!v.added&&l){var p=i.slice(h,h+v.count);p=p.map(function(y,w){var b=o[m+w];return b.length>y.length?b:y}),v.value=n.join(p)}else v.value=n.join(i.slice(h,h+v.count));h+=v.count,v.added||(m+=v.count)}}var x=c[f-1];return f>1&&typeof x.value=="string"&&(x.added||x.removed)&&n.equals("",x.value)&&(c[f-2].value+=x.value,c.pop()),c}})(Nl);var yg={};Object.defineProperty(yg,"__esModule",{value:!0});yg.diffChars=tUe;yg.characterDiff=void 0;var J7e=eUe(Nl);function eUe(e){return e&&e.__esModule?e:{default:e}}var _G=new J7e.default;yg.characterDiff=_G;function tUe(e,t,r){return _G.diff(e,t,r)}var Rm={},P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.generateOptions=rUe;function rUe(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}Object.defineProperty(Rm,"__esModule",{value:!0});Rm.diffWords=sUe;Rm.diffWordsWithSpace=oUe;Rm.wordDiff=void 0;var nUe=iUe(Nl),aUe=P_;function iUe(e){return e&&e.__esModule?e:{default:e}}var SF=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,NF=/\S/,bg=new nUe.default;Rm.wordDiff=bg;bg.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!NF.test(e)&&!NF.test(t)};bg.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&SF.test(t[r])&&SF.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};function sUe(e,t,r){return r=(0,aUe.generateOptions)(r,{ignoreWhitespace:!0}),bg.diff(e,t,r)}function oUe(e,t,r){return bg.diff(e,t,r)}var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.diffLines=dUe;tu.diffTrimmedLines=fUe;tu.lineDiff=void 0;var lUe=uUe(Nl),cUe=P_;function uUe(e){return e&&e.__esModule?e:{default:e}}var O_=new lUe.default;tu.lineDiff=O_;O_.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var a=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=a:(this.options.ignoreWhitespace&&(a=a.trim()),t.push(a))}return t};function dUe(e,t,r){return O_.diff(e,t,r)}function fUe(e,t,r){var n=(0,cUe.generateOptions)(r,{ignoreWhitespace:!0});return O_.diff(e,t,n)}var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.diffSentences=pUe;wg.sentenceDiff=void 0;var hUe=mUe(Nl);function mUe(e){return e&&e.__esModule?e:{default:e}}var jP=new hUe.default;wg.sentenceDiff=jP;jP.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function pUe(e,t,r){return jP.diff(e,t,r)}var _g={};Object.defineProperty(_g,"__esModule",{value:!0});_g.diffCss=xUe;_g.cssDiff=void 0;var vUe=gUe(Nl);function gUe(e){return e&&e.__esModule?e:{default:e}}var SP=new vUe.default;_g.cssDiff=SP;SP.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function xUe(e,t,r){return SP.diff(e,t,r)}var Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.diffJson=_Ue;Mm.canonicalize=pb;Mm.jsonDiff=void 0;var jG=bUe(Nl),yUe=tu;function bUe(e){return e&&e.__esModule?e:{default:e}}function Zx(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zx=function(r){return typeof r}:Zx=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zx(e)}var wUe=Object.prototype.toString,vd=new jG.default;Mm.jsonDiff=vd;vd.useLongestToken=!0;vd.tokenize=yUe.lineDiff.tokenize;vd.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,a=n===void 0?function(i,o){return typeof o>"u"?r:o}:n;return typeof e=="string"?e:JSON.stringify(pb(e,null,null,a),a,"  ")};vd.equals=function(e,t){return jG.default.prototype.equals.call(vd,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function _Ue(e,t,r){return vd.diff(e,t,r)}function pb(e,t,r,n,a){t=t||[],r=r||[],n&&(e=n(a,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return r[i];var o;if(wUe.call(e)==="[object Array]"){for(t.push(e),o=new Array(e.length),r.push(o),i=0;i<e.length;i+=1)o[i]=pb(e[i],t,r,n,a);return t.pop(),r.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),Zx(e)==="object"&&e!==null){t.push(e),o={},r.push(o);var l=[],c;for(c in e)e.hasOwnProperty(c)&&l.push(c);for(l.sort(),i=0;i<l.length;i+=1)c=l[i],o[c]=pb(e[c],t,r,n,c);t.pop(),r.pop()}else o=e;return o}var jg={};Object.defineProperty(jg,"__esModule",{value:!0});jg.diffArrays=NUe;jg.arrayDiff=void 0;var jUe=SUe(Nl);function SUe(e){return e&&e.__esModule?e:{default:e}}var Nv=new jUe.default;jg.arrayDiff=Nv;Nv.tokenize=function(e){return e.slice()};Nv.join=Nv.removeEmpty=function(e){return e};function NUe(e,t,r){return Nv.diff(e,t,r)}var D_={},Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.parsePatch=EUe;function EUe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=[],i=0;function o(){var u={};for(a.push(u);i<r.length;){var d=r[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(d))break;var f=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(d);f&&(u.index=f[1]),i++}for(l(u),l(u),u.hunks=[];i<r.length;){var h=r[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(h))break;if(/^@@/.test(h))u.hunks.push(c());else{if(h&&t.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(h));i++}}}function l(u){var d=/^(---|\+\+\+)\s+(.*)$/.exec(r[i]);if(d){var f=d[1]==="---"?"old":"new",h=d[2].split("	",2),m=h[0].replace(/\\\\/g,"\\");/^".*"$/.test(m)&&(m=m.substr(1,m.length-2)),u[f+"FileName"]=m,u[f+"Header"]=(h[1]||"").trim(),i++}}function c(){var u=i,d=r[i++],f=d.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),h={oldStart:+f[1],oldLines:typeof f[2]>"u"?1:+f[2],newStart:+f[3],newLines:typeof f[4]>"u"?1:+f[4],lines:[],linedelimiters:[]};h.oldLines===0&&(h.oldStart+=1),h.newLines===0&&(h.newStart+=1);for(var m=0,v=0;i<r.length&&!(r[i].indexOf("--- ")===0&&i+2<r.length&&r[i+1].indexOf("+++ ")===0&&r[i+2].indexOf("@@")===0);i++){var p=r[i].length==0&&i!=r.length-1?" ":r[i][0];if(p==="+"||p==="-"||p===" "||p==="\\")h.lines.push(r[i]),h.linedelimiters.push(n[i]||`
`),p==="+"?m++:p==="-"?v++:p===" "&&(m++,v++);else break}if(!m&&h.newLines===1&&(h.newLines=0),!v&&h.oldLines===1&&(h.oldLines=0),t.strict){if(m!==h.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(v!==h.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return h}for(;i<r.length;)o();return a}var SG={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(r,n,a){var i=!0,o=!1,l=!1,c=1;return function u(){if(i&&!l){if(o?c++:i=!1,r+c<=a)return c;l=!0}if(!o)return l||(i=!0),n<=r-c?-c++:(o=!0,u())}}})(SG);Object.defineProperty(D_,"__esModule",{value:!0});D_.applyPatch=EG;D_.applyPatches=AUe;var NG=Sg,CUe=TUe(SG);function TUe(e){return e&&e.__esModule?e:{default:e}}function EG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=(0,NG.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var n=e.split(/\r\n|[\n\v\f\r\x85]/),a=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=t.hunks,o=r.compareLine||function(B,M,D,O){return M===O},l=0,c=r.fuzzFactor||0,u=0,d=0,f,h;function m(B,M){for(var D=0;D<B.lines.length;D++){var O=B.lines[D],W=O.length>0?O[0]:" ",ne=O.length>0?O.substr(1):O;if(W===" "||W==="-"){if(!o(M+1,n[M],W,ne)&&(l++,l>c))return!1;M++}}return!0}for(var v=0;v<i.length;v++){for(var p=i[v],g=n.length-p.oldLines,x=0,y=d+p.oldStart-1,w=(0,CUe.default)(y,u,g);x!==void 0;x=w())if(m(p,y+x)){p.offset=d+=x;break}if(x===void 0)return!1;u=p.offset+p.oldStart+p.oldLines}for(var b=0,j=0;j<i.length;j++){var N=i[j],S=N.oldStart+N.offset+b-1;b+=N.newLines-N.oldLines;for(var E=0;E<N.lines.length;E++){var C=N.lines[E],T=C.length>0?C[0]:" ",A=C.length>0?C.substr(1):C,k=N.linedelimiters&&N.linedelimiters[E]||`
`;if(T===" ")S++;else if(T==="-")n.splice(S,1),a.splice(S,1);else if(T==="+")n.splice(S,0,A),a.splice(S,0,k),S++;else if(T==="\\"){var P=N.lines[E-1]?N.lines[E-1][0]:null;P==="+"?f=!0:P==="-"&&(h=!0)}}}if(f)for(;!n[n.length-1];)n.pop(),a.pop();else h&&(n.push(""),a.push(`
`));for(var L=0;L<n.length-1;L++)n[L]=n[L]+a[L];return n.join("")}function AUe(e,t){typeof e=="string"&&(e=(0,NG.parsePatch)(e));var r=0;function n(){var a=e[r++];if(!a)return t.complete();t.loadFile(a,function(i,o){if(i)return t.complete(i);var l=EG(o,a,t);t.patched(a,l,function(c){if(c)return t.complete(c);n()})})}n()}var R_={},Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.structuredPatch=CG;Td.formatPatch=NP;Td.createTwoFilesPatch=TG;Td.createPatch=MUe;var kUe=tu;function M2(e){return RUe(e)||DUe(e)||OUe(e)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OUe(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function DUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function RUe(e){if(Array.isArray(e))return pC(e)}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CG(e,t,r,n,a,i,o){o||(o={}),typeof o.context>"u"&&(o.context=4);var l=(0,kUe.diffLines)(r,n,o);if(!l)return;l.push({value:"",lines:[]});function c(x){return x.map(function(y){return" "+y})}for(var u=[],d=0,f=0,h=[],m=1,v=1,p=function(y){var w=l[y],b=w.lines||w.value.replace(/\n$/,"").split(`
`);if(w.lines=b,w.added||w.removed){var j;if(!d){var N=l[y-1];d=m,f=v,N&&(h=o.context>0?c(N.lines.slice(-o.context)):[],d-=h.length,f-=h.length)}(j=h).push.apply(j,M2(b.map(function(L){return(w.added?"+":"-")+L}))),w.added?v+=b.length:m+=b.length}else{if(d)if(b.length<=o.context*2&&y<l.length-2){var S;(S=h).push.apply(S,M2(c(b)))}else{var E,C=Math.min(b.length,o.context);(E=h).push.apply(E,M2(c(b.slice(0,C))));var T={oldStart:d,oldLines:m-d+C,newStart:f,newLines:v-f+C,lines:h};if(y>=l.length-2&&b.length<=o.context){var A=/\n$/.test(r),k=/\n$/.test(n),P=b.length==0&&h.length>T.oldLines;!A&&P&&r.length>0&&h.splice(T.oldLines,0,"\\ No newline at end of file"),(!A&&!P||!k)&&h.push("\\ No newline at end of file")}u.push(T),d=0,f=0,h=[]}m+=b.length,v+=b.length}},g=0;g<l.length;g++)p(g);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:i,hunks:u}}function NP(e){if(Array.isArray(e))return e.map(NP).join(`
`);var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader>"u"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader>"u"?"":"	"+e.newHeader));for(var r=0;r<e.hunks.length;r++){var n=e.hunks[r];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),t.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),t.push.apply(t,n.lines)}return t.join(`
`)+`
`}function TG(e,t,r,n,a,i,o){return NP(CG(e,t,r,n,a,i,o))}function MUe(e,t,r,n,a,i){return TG(e,e,t,r,n,a,i)}var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.arrayEqual=IUe;M_.arrayStartsWith=AG;function IUe(e,t){return e.length!==t.length?!1:AG(e,t)}function AG(e,t){if(t.length>e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Object.defineProperty(R_,"__esModule",{value:!0});R_.calcLineCount=kG;R_.merge=zUe;var FUe=Td,$Ue=Sg,I2=M_;function Uf(e){return qUe(e)||UUe(e)||BUe(e)||LUe()}function LUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BUe(e,t){if(e){if(typeof e=="string")return vC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vC(e,t)}}function UUe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qUe(e){if(Array.isArray(e))return vC(e)}function vC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kG(e){var t=gC(e.lines),r=t.oldLines,n=t.newLines;r!==void 0?e.oldLines=r:delete e.oldLines,n!==void 0?e.newLines=n:delete e.newLines}function zUe(e,t,r){e=EF(e,r),t=EF(t,r);var n={};(e.index||t.index)&&(n.index=e.index||t.index),(e.newFileName||t.newFileName)&&(CF(e)?CF(t)?(n.oldFileName=Cx(n,e.oldFileName,t.oldFileName),n.newFileName=Cx(n,e.newFileName,t.newFileName),n.oldHeader=Cx(n,e.oldHeader,t.oldHeader),n.newHeader=Cx(n,e.newHeader,t.newHeader)):(n.oldFileName=e.oldFileName,n.newFileName=e.newFileName,n.oldHeader=e.oldHeader,n.newHeader=e.newHeader):(n.oldFileName=t.oldFileName||e.oldFileName,n.newFileName=t.newFileName||e.newFileName,n.oldHeader=t.oldHeader||e.oldHeader,n.newHeader=t.newHeader||e.newHeader)),n.hunks=[];for(var a=0,i=0,o=0,l=0;a<e.hunks.length||i<t.hunks.length;){var c=e.hunks[a]||{oldStart:1/0},u=t.hunks[i]||{oldStart:1/0};if(TF(c,u))n.hunks.push(AF(c,o)),a++,l+=c.newLines-c.oldLines;else if(TF(u,c))n.hunks.push(AF(u,l)),i++,o+=u.newLines-u.oldLines;else{var d={oldStart:Math.min(c.oldStart,u.oldStart),oldLines:0,newStart:Math.min(c.newStart+o,u.oldStart+l),newLines:0,lines:[]};HUe(d,c.oldStart,c.lines,u.oldStart,u.lines),i++,a++,n.hunks.push(d)}}return n}function EF(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,$Ue.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,FUe.structuredPatch)(void 0,void 0,t,e)}return e}function CF(e){return e.newFileName&&e.newFileName!==e.oldFileName}function Cx(e,t,r){return t===r?t:(e.conflict=!0,{mine:t,theirs:r})}function TF(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function AF(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function HUe(e,t,r,n,a){var i={offset:t,lines:r,index:0},o={offset:n,lines:a,index:0};for(PF(e,i,o),PF(e,o,i);i.index<i.lines.length&&o.index<o.lines.length;){var l=i.lines[i.index],c=o.lines[o.index];if((l[0]==="-"||l[0]==="+")&&(c[0]==="-"||c[0]==="+"))VUe(e,i,o);else if(l[0]==="+"&&c[0]===" "){var u;(u=e.lines).push.apply(u,Uf(Pu(i)))}else if(c[0]==="+"&&l[0]===" "){var d;(d=e.lines).push.apply(d,Uf(Pu(o)))}else l[0]==="-"&&c[0]===" "?kF(e,i,o):c[0]==="-"&&l[0]===" "?kF(e,o,i,!0):l===c?(e.lines.push(l),i.index++,o.index++):EP(e,Pu(i),Pu(o))}OF(e,i),OF(e,o),kG(e)}function VUe(e,t,r){var n=Pu(t),a=Pu(r);if(DF(n)&&DF(a)){if((0,I2.arrayStartsWith)(n,a)&&RF(r,n,n.length-a.length)){var i;(i=e.lines).push.apply(i,Uf(n));return}else if((0,I2.arrayStartsWith)(a,n)&&RF(t,a,a.length-n.length)){var o;(o=e.lines).push.apply(o,Uf(a));return}}else if((0,I2.arrayEqual)(n,a)){var l;(l=e.lines).push.apply(l,Uf(n));return}EP(e,n,a)}function kF(e,t,r,n){var a=Pu(t),i=WUe(r,a);if(i.merged){var o;(o=e.lines).push.apply(o,Uf(i.merged))}else EP(e,n?i:a,n?a:i)}function EP(e,t,r){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:r})}function PF(e,t,r){for(;t.offset<r.offset&&t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n),t.offset++}}function OF(e,t){for(;t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r)}}function Pu(e){for(var t=[],r=e.lines[e.index][0];e.index<e.lines.length;){var n=e.lines[e.index];if(r==="-"&&n[0]==="+"&&(r="+"),r===n[0])t.push(n),e.index++;else break}return t}function WUe(e,t){for(var r=[],n=[],a=0,i=!1,o=!1;a<t.length&&e.index<e.lines.length;){var l=e.lines[e.index],c=t[a];if(c[0]==="+")break;if(i=i||l[0]!==" ",n.push(c),a++,l[0]==="+")for(o=!0;l[0]==="+";)r.push(l),l=e.lines[++e.index];c.substr(1)===l.substr(1)?(r.push(l),e.index++):o=!0}if((t[a]||"")[0]==="+"&&i&&(o=!0),o)return r;for(;a<t.length;)n.push(t[a++]);return{merged:n,changes:r}}function DF(e){return e.reduce(function(t,r){return t&&r[0]==="-"},!0)}function RF(e,t,r){for(var n=0;n<r;n++){var a=t[t.length-r+n].substr(1);if(e.lines[e.index+n]!==" "+a)return!1}return e.index+=r,!0}function gC(e){var t=0,r=0;return e.forEach(function(n){if(typeof n!="string"){var a=gC(n.mine),i=gC(n.theirs);t!==void 0&&(a.oldLines===i.oldLines?t+=a.oldLines:t=void 0),r!==void 0&&(a.newLines===i.newLines?r+=a.newLines:r=void 0)}else r!==void 0&&(n[0]==="+"||n[0]===" ")&&r++,t!==void 0&&(n[0]==="-"||n[0]===" ")&&t++}),{oldLines:t,newLines:r}}var CP={};Object.defineProperty(CP,"__esModule",{value:!0});CP.reversePatch=PG;function MF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(r),!0).forEach(function(n){GUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GUe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){return Array.isArray(e)?e.map(PG).reverse():IF(IF({},e),{},{oldFileName:e.newFileName,oldHeader:e.newHeader,newFileName:e.oldFileName,newHeader:e.oldHeader,hunks:e.hunks.map(function(t){return{oldLines:t.newLines,oldStart:t.newStart,newLines:t.oldLines,newStart:t.oldStart,linedelimiters:t.linedelimiters,lines:t.lines.map(function(r){return r.startsWith("-")?"+".concat(r.slice(1)):r.startsWith("+")?"-".concat(r.slice(1)):r})}})})}var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.convertChangesToDMP=KUe;function KUe(e){for(var t=[],r,n,a=0;a<e.length;a++)r=e[a],r.added?n=1:r.removed?n=-1:n=0,t.push([n,r.value]);return t}var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.convertChangesToXML=XUe;function XUe(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push(YUe(n.value)),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}return t.join("")}function YUe(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Diff",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"diffChars",{enumerable:!0,get:function(){return r.diffChars}}),Object.defineProperty(e,"diffWords",{enumerable:!0,get:function(){return n.diffWords}}),Object.defineProperty(e,"diffWordsWithSpace",{enumerable:!0,get:function(){return n.diffWordsWithSpace}}),Object.defineProperty(e,"diffLines",{enumerable:!0,get:function(){return a.diffLines}}),Object.defineProperty(e,"diffTrimmedLines",{enumerable:!0,get:function(){return a.diffTrimmedLines}}),Object.defineProperty(e,"diffSentences",{enumerable:!0,get:function(){return i.diffSentences}}),Object.defineProperty(e,"diffCss",{enumerable:!0,get:function(){return o.diffCss}}),Object.defineProperty(e,"diffJson",{enumerable:!0,get:function(){return l.diffJson}}),Object.defineProperty(e,"canonicalize",{enumerable:!0,get:function(){return l.canonicalize}}),Object.defineProperty(e,"diffArrays",{enumerable:!0,get:function(){return c.diffArrays}}),Object.defineProperty(e,"applyPatch",{enumerable:!0,get:function(){return u.applyPatch}}),Object.defineProperty(e,"applyPatches",{enumerable:!0,get:function(){return u.applyPatches}}),Object.defineProperty(e,"parsePatch",{enumerable:!0,get:function(){return d.parsePatch}}),Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return f.merge}}),Object.defineProperty(e,"reversePatch",{enumerable:!0,get:function(){return h.reversePatch}}),Object.defineProperty(e,"structuredPatch",{enumerable:!0,get:function(){return m.structuredPatch}}),Object.defineProperty(e,"createTwoFilesPatch",{enumerable:!0,get:function(){return m.createTwoFilesPatch}}),Object.defineProperty(e,"createPatch",{enumerable:!0,get:function(){return m.createPatch}}),Object.defineProperty(e,"formatPatch",{enumerable:!0,get:function(){return m.formatPatch}}),Object.defineProperty(e,"convertChangesToDMP",{enumerable:!0,get:function(){return v.convertChangesToDMP}}),Object.defineProperty(e,"convertChangesToXML",{enumerable:!0,get:function(){return p.convertChangesToXML}});var t=g(Nl),r=yg,n=Rm,a=tu,i=wg,o=_g,l=Mm,c=jg,u=D_,d=Sg,f=R_,h=CP,m=Td,v=TP,p=AP;function g(x){return x&&x.__esModule?x:{default:x}}})(wG);var QUe=It&&It.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZUe=It&&It.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JUe=It&&It.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&QUe(t,e,r);return ZUe(t,e),t};Object.defineProperty(jc,"__esModule",{value:!0});jc.computeLineInformation=jc.DiffMethod=jc.DiffType=void 0;const xC=JUe(wG),eqe=xC;var Ho;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.ADDED=1]="ADDED",e[e.REMOVED=2]="REMOVED",e[e.CHANGED=3]="CHANGED"})(Ho||(jc.DiffType=Ho={}));var vb;(function(e){e.CHARS="diffChars",e.WORDS="diffWords",e.WORDS_WITH_SPACE="diffWordsWithSpace",e.LINES="diffLines",e.TRIMMED_LINES="diffTrimmedLines",e.SENTENCES="diffSentences",e.CSS="diffCss",e.JSON="diffJson"})(vb||(jc.DiffMethod=vb={}));const FF=e=>e===""?[]:e.replace(/\n$/,"").split(`
`),tqe=(e,t,r=vb.CHARS)=>{const n=eqe[r](e,t),a={left:[],right:[]};return n.forEach(({added:i,removed:o,value:l})=>{const c={};return i&&(c.type=Ho.ADDED,c.value=l,a.right.push(c)),o&&(c.type=Ho.REMOVED,c.value=l,a.left.push(c)),!o&&!i&&(c.type=Ho.DEFAULT,c.value=l,a.right.push(c),a.left.push(c)),c}),a},rqe=(e,t,r=!1,n=vb.CHARS,a=0,i=[])=>{let o=[];typeof e=="string"&&typeof t=="string"?o=xC.diffLines(e.trimRight(),t.trimRight(),{newlineIsToken:!1,ignoreWhitespace:!1,ignoreCase:!1}):o=xC.diffJson(e,t);let l=a,c=a,u=[],d=0;const f=[],h=[],m=(v,p,g,x,y)=>FF(v).map((b,j)=>{const N={},S={};if(!(h.includes(`${p}-${j}`)||y&&j!==0)){if(g||x){let E=!0;if(x){c+=1,N.lineNumber=c,N.type=Ho.REMOVED,N.value=b||" ";const C=o[p+1];if(C&&C.added){const T=FF(C.value)[j];if(T){const A=m(T,p,!0,!1,!0),{value:k,lineNumber:P,type:L}=A[0].right;if(h.push(`${p+1}-${j}`),S.lineNumber=P,N.value===k)E=!1,S.type=0,N.type=0,S.value=k;else if(S.type=L,r)S.value=k;else{const B=tqe(b,k,n);S.value=B.right,N.value=B.left}}}}else l+=1,S.lineNumber=l,S.type=Ho.ADDED,S.value=b;E&&!y&&(f.includes(d)||f.push(d))}else c+=1,l+=1,N.lineNumber=c,N.type=Ho.DEFAULT,N.value=b,S.lineNumber=l,S.type=Ho.DEFAULT,S.value=b;return(i!=null&&i.includes(`L-${N.lineNumber}`)||i!=null&&i.includes(`R-${S.lineNumber}`)&&!f.includes(d))&&f.push(d),y||(d+=1),{right:S,left:N}}}).filter(Boolean);return o.forEach(({added:v,removed:p,value:g},x)=>{u=[...u,...m(g,x,v,p)]}),{lineInformation:u,diffLines:f}};jc.computeLineInformation=rqe;var kP={},nqe=!1;function aqe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function iqe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var sqe=function(){function e(r){var n=this;this._insertTag=function(a){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,i),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!nqe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iqe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var i=aqe(a);try{i.insertRule(n,i.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ra="-ms-",gb="-moz-",Kt="-webkit-",OG="comm",PP="rule",OP="decl",oqe="@import",DG="@keyframes",lqe="@layer",cqe=Math.abs,I_=String.fromCharCode,uqe=Object.assign;function dqe(e,t){return Hn(e,0)^45?(((t<<2^Hn(e,0))<<2^Hn(e,1))<<2^Hn(e,2))<<2^Hn(e,3):0}function RG(e){return e.trim()}function fqe(e,t){return(e=t.exec(e))?e[0]:e}function Xt(e,t,r){return e.replace(t,r)}function yC(e,t){return e.indexOf(t)}function Hn(e,t){return e.charCodeAt(t)|0}function Ev(e,t,r){return e.slice(t,r)}function Ks(e){return e.length}function DP(e){return e.length}function Tx(e,t){return t.push(e),e}function hqe(e,t){return e.map(t).join("")}var F_=1,Yh=1,MG=0,Ja=0,sn=0,Im="";function $_(e,t,r,n,a,i,o){return{value:e,root:t,parent:r,type:n,props:a,children:i,line:F_,column:Yh,length:o,return:""}}function dp(e,t){return uqe($_("",null,null,"",null,null,0),e,{length:-e.length},t)}function mqe(){return sn}function pqe(){return sn=Ja>0?Hn(Im,--Ja):0,Yh--,sn===10&&(Yh=1,F_--),sn}function yi(){return sn=Ja<MG?Hn(Im,Ja++):0,Yh++,sn===10&&(Yh=1,F_++),sn}function lo(){return Hn(Im,Ja)}function Jx(){return Ja}function Ng(e,t){return Ev(Im,e,t)}function Cv(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IG(e){return F_=Yh=1,MG=Ks(Im=e),Ja=0,[]}function FG(e){return Im="",e}function ey(e){return RG(Ng(Ja-1,bC(e===91?e+2:e===40?e+1:e)))}function vqe(e){for(;(sn=lo())&&sn<33;)yi();return Cv(e)>2||Cv(sn)>3?"":" "}function gqe(e,t){for(;--t&&yi()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Ng(e,Jx()+(t<6&&lo()==32&&yi()==32))}function bC(e){for(;yi();)switch(sn){case e:return Ja;case 34:case 39:e!==34&&e!==39&&bC(sn);break;case 40:e===41&&bC(e);break;case 92:yi();break}return Ja}function xqe(e,t){for(;yi()&&e+sn!==57;)if(e+sn===84&&lo()===47)break;return"/*"+Ng(t,Ja-1)+"*"+I_(e===47?e:yi())}function yqe(e){for(;!Cv(lo());)yi();return Ng(e,Ja)}function bqe(e){return FG(ty("",null,null,null,[""],e=IG(e),0,[0],e))}function ty(e,t,r,n,a,i,o,l,c){for(var u=0,d=0,f=o,h=0,m=0,v=0,p=1,g=1,x=1,y=0,w="",b=a,j=i,N=n,S=w;g;)switch(v=y,y=yi()){case 40:if(v!=108&&Hn(S,f-1)==58){yC(S+=Xt(ey(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:S+=ey(y);break;case 9:case 10:case 13:case 32:S+=vqe(v);break;case 92:S+=gqe(Jx()-1,7);continue;case 47:switch(lo()){case 42:case 47:Tx(wqe(xqe(yi(),Jx()),t,r),c);break;default:S+="/"}break;case 123*p:l[u++]=Ks(S)*x;case 125*p:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:x==-1&&(S=Xt(S,/\f/g,"")),m>0&&Ks(S)-f&&Tx(m>32?LF(S+";",n,r,f-1):LF(Xt(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(Tx(N=$F(S,t,r,u,d,a,l,w,b=[],j=[],f),i),y===123)if(d===0)ty(S,t,N,N,b,i,f,l,j);else switch(h===99&&Hn(S,3)===110?100:h){case 100:case 108:case 109:case 115:ty(e,N,N,n&&Tx($F(e,N,N,0,0,a,l,w,a,b=[],f),j),a,j,f,l,n?b:j);break;default:ty(S,N,N,N,[""],j,0,l,j)}}u=d=m=0,p=x=1,w=S="",f=o;break;case 58:f=1+Ks(S),m=v;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&pqe()==125)continue}switch(S+=I_(y),y*p){case 38:x=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Ks(S)-1)*x,x=1;break;case 64:lo()===45&&(S+=ey(yi())),h=lo(),d=f=Ks(w=S+=yqe(Jx())),y++;break;case 45:v===45&&Ks(S)==2&&(p=0)}}return i}function $F(e,t,r,n,a,i,o,l,c,u,d){for(var f=a-1,h=a===0?i:[""],m=DP(h),v=0,p=0,g=0;v<n;++v)for(var x=0,y=Ev(e,f+1,f=cqe(p=o[v])),w=e;x<m;++x)(w=RG(p>0?h[x]+" "+y:Xt(y,/&\f/g,h[x])))&&(c[g++]=w);return $_(e,t,r,a===0?PP:l,c,u,d)}function wqe(e,t,r){return $_(e,t,r,OG,I_(mqe()),Ev(e,2,-2),0)}function LF(e,t,r,n){return $_(e,t,r,OP,Ev(e,0,n),Ev(e,n+1,-1),n)}function qf(e,t){for(var r="",n=DP(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function _qe(e,t,r,n){switch(e.type){case lqe:if(e.children.length)break;case oqe:case OP:return e.return=e.return||e.value;case OG:return"";case DG:return e.return=e.value+"{"+qf(e.children,n)+"}";case PP:e.value=e.props.join(",")}return Ks(r=qf(e.children,n))?e.return=e.value+"{"+r+"}":""}function jqe(e){var t=DP(e);return function(r,n,a,i){for(var o="",l=0;l<t;l++)o+=e[l](r,n,a,i)||"";return o}}function Sqe(e){return function(t){t.root||(t=t.return)&&e(t)}}function Nqe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Eqe=function(t,r,n){for(var a=0,i=0;a=i,i=lo(),a===38&&i===12&&(r[n]=1),!Cv(i);)yi();return Ng(t,Ja)},Cqe=function(t,r){var n=-1,a=44;do switch(Cv(a)){case 0:a===38&&lo()===12&&(r[n]=1),t[n]+=Eqe(Ja-1,r,n);break;case 2:t[n]+=ey(a);break;case 4:if(a===44){t[++n]=lo()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=I_(a)}while(a=yi());return t},Tqe=function(t,r){return FG(Cqe(IG(t),r))},BF=new WeakMap,Aqe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!BF.get(n))&&!a){BF.set(t,!0);for(var i=[],o=Tqe(r,i),l=n.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=i[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},kqe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function $G(e,t){switch(dqe(e,t)){case 5103:return Kt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+e+gb+e+ra+e+e;case 6828:case 4268:return Kt+e+ra+e+e;case 6165:return Kt+e+ra+"flex-"+e+e;case 5187:return Kt+e+Xt(e,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+ra+"flex-$1$2")+e;case 5443:return Kt+e+ra+"flex-item-"+Xt(e,/flex-|-self/,"")+e;case 4675:return Kt+e+ra+"flex-line-pack"+Xt(e,/align-content|flex-|-self/,"")+e;case 5548:return Kt+e+ra+Xt(e,"shrink","negative")+e;case 5292:return Kt+e+ra+Xt(e,"basis","preferred-size")+e;case 6060:return Kt+"box-"+Xt(e,"-grow","")+Kt+e+ra+Xt(e,"grow","positive")+e;case 4554:return Kt+Xt(e,/([^-])(transform)/g,"$1"+Kt+"$2")+e;case 6187:return Xt(Xt(Xt(e,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),e,"")+e;case 5495:case 3959:return Xt(e,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return Xt(Xt(e,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+ra+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+e+e;case 4095:case 3583:case 4068:case 2532:return Xt(e,/(.+)-inline(.+)/,Kt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ks(e)-1-t>6)switch(Hn(e,t+1)){case 109:if(Hn(e,t+4)!==45)break;case 102:return Xt(e,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+gb+(Hn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~yC(e,"stretch")?$G(Xt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Hn(e,t+1)!==115)break;case 6444:switch(Hn(e,Ks(e)-3-(~yC(e,"!important")&&10))){case 107:return Xt(e,":",":"+Kt)+e;case 101:return Xt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Kt+(Hn(e,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+ra+"$2box$3")+e}break;case 5936:switch(Hn(e,t+11)){case 114:return Kt+e+ra+Xt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Kt+e+ra+Xt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Kt+e+ra+Xt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Kt+e+ra+e+e}return e}var Pqe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case OP:t.return=$G(t.value,t.length);break;case DG:return qf([dp(t,{value:Xt(t.value,"@","@"+Kt)})],a);case PP:if(t.length)return hqe(t.props,function(i){switch(fqe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return qf([dp(t,{props:[Xt(i,/:(read-\w+)/,":"+gb+"$1")]})],a);case"::placeholder":return qf([dp(t,{props:[Xt(i,/:(plac\w+)/,":"+Kt+"input-$1")]}),dp(t,{props:[Xt(i,/:(plac\w+)/,":"+gb+"$1")]}),dp(t,{props:[Xt(i,/:(plac\w+)/,ra+"input-$1")]})],a)}return""})}},Oqe=[Pqe],Dqe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var a=t.stylisPlugins||Oqe,i={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),x=1;x<g.length;x++)i[g[x]]=!0;l.push(p)});var c,u=[Aqe,kqe];{var d,f=[_qe,Sqe(function(p){d.insert(p)})],h=jqe(u.concat(a,f)),m=function(g){return qf(bqe(g),h)};c=function(g,x,y,w){d=y,m(g?g+"{"+x.styles+"}":x.styles),w&&(v.inserted[x.name]=!0)}}var v={key:r,sheet:new sqe({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v};function Rqe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Mqe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Iqe=!1,Fqe=/[A-Z]|^ms/g,$qe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,LG=function(t){return t.charCodeAt(1)===45},UF=function(t){return t!=null&&typeof t!="boolean"},F2=Nqe(function(e){return LG(e)?e:e.replace(Fqe,"-$&").toLowerCase()}),qF=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace($qe,function(n,a,i){return uc={name:a,styles:i,next:uc},a})}return Mqe[t]!==1&&!LG(t)&&typeof r=="number"&&r!==0?r+"px":r},Lqe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function xb(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return uc={name:a.name,styles:a.styles,next:uc},a.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)uc={name:o.name,styles:o.styles,next:uc},o=o.next;var l=i.styles+";";return l}return Bqe(e,t,r)}}var c=r;if(t==null)return c;var u=t[c];return u!==void 0?u:c}function Bqe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=xb(e,t,r[a])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;t!=null&&t[l]!==void 0?n+=i+"{"+t[l]+"}":UF(l)&&(n+=F2(i)+":"+qF(i,l)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&Iqe)throw new Error(Lqe);if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var c=0;c<o.length;c++)UF(o[c])&&(n+=F2(i)+":"+qF(i,o[c])+";");else{var u=xb(e,t,o);switch(i){case"animation":case"animationName":{n+=F2(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}}return n}var zF=/label:\s*([^\s;{]+)\s*(;|$)/g,uc;function $2(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";uc=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,a+=xb(r,t,i);else{var o=i;a+=o[0]}for(var l=1;l<e.length;l++)if(a+=xb(r,t,e[l]),n){var c=i;a+=c[l]}zF.lastIndex=0;for(var u="",d;(d=zF.exec(a))!==null;)u+="-"+d[1];var f=Rqe(a)+u;return{name:f,styles:a,next:uc}}function BG(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var Uqe=function(t,r,n){var a=t.key+"-"+r.name;t.registered[a]===void 0&&(t.registered[a]=r.styles)},qqe=function(t,r,n){Uqe(t,r);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+a:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function HF(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function VF(e,t,r){var n=[],a=BG(e,n,r);return n.length<2?r:a+t(n)}var zqe=function(t){var r=Dqe(t);r.sheet.speedy=function(l){this.isSpeedy=l},r.compat=!0;var n=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=$2(u,r.registered,void 0);return qqe(r,f),r.key+"-"+f.name},a=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=$2(u,r.registered),h="animation-"+f.name;return HF(r,{name:f.name,styles:"@keyframes "+h+"{"+f.styles+"}"}),h},i=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=$2(u,r.registered);HF(r,f)},o=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return VF(r.registered,n,Hqe(u))};return{css:n,cx:o,injectGlobal:i,keyframes:a,hydrate:function(c){c.forEach(function(u){r.inserted[u]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:BG.bind(null,r.registered),merge:VF.bind(null,r.registered,n)}},Hqe=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n];if(a!=null){var i=void 0;switch(typeof a){case"boolean":break;case"object":{if(Array.isArray(a))i=e(a);else{i="";for(var o in a)a[o]&&o&&(i&&(i+=" "),i+=o)}break}default:i=a}i&&(r&&(r+=" "),r+=i)}}return r};const Vqe=Object.freeze(Object.defineProperty({__proto__:null,default:zqe},Symbol.toStringTag,{value:"Module"})),Wqe=wC(Vqe);var Gqe=It&&It.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},Kqe=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kP,"__esModule",{value:!0});const Xqe=Kqe(Wqe);kP.default=(e,t=!1,r="")=>{const{variables:n={}}=e,a=Gqe(e,["variables"]),i={light:Object.assign({diffViewerBackground:"#fff",diffViewerColor:"#212529",addedBackground:"#e6ffed",addedColor:"#24292e",removedBackground:"#ffeef0",removedColor:"#24292e",changedBackground:"#fffbdd",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0",addedGutterBackground:"#cdffd8",removedGutterBackground:"#ffdce0",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",codeFoldGutterBackground:"#dbedff",codeFoldBackground:"#f1f8ff",emptyLineBackground:"#fafbfc",gutterColor:"#212529",addedGutterColor:"#212529",removedGutterColor:"#212529",codeFoldContentColor:"#212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleColor:"#212529",diffViewerTitleBorderColor:"#eee"},n.light||{}),dark:Object.assign({diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",addedBackground:"#044B53",addedColor:"white",removedBackground:"#632F34",removedColor:"white",changedBackground:"#3e302c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f",addedGutterBackground:"#034148",removedGutterBackground:"#632b30",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",codeFoldGutterBackground:"#21232b",codeFoldBackground:"#262831",emptyLineBackground:"#363946",gutterColor:"#666c87",addedGutterColor:"#8c8c8c",removedGutterColor:"#8c8c8c",codeFoldContentColor:"#656a8b",diffViewerTitleBackground:"#2f323e",diffViewerTitleColor:"#555a7b",diffViewerTitleBorderColor:"#353846"},n.dark||{})},o=t?i.dark:i.light,{css:l,cx:c}=(0,Xqe.default)({key:"react-diff",nonce:r}),u=l({width:"100%",label:"content"}),d=l({[`.${u}`]:{width:"50%"},label:"split-view"}),f=l({width:"100%",background:o.diffViewerBackground,pre:{margin:0,whiteSpace:"pre-wrap",lineHeight:"25px"},label:"diff-container",borderCollapse:"collapse"}),h=l({color:o.codeFoldContentColor,label:"code-fold-content"}),m=l({color:o.diffViewerColor,label:"content-text"}),v=l({background:o.diffViewerTitleBackground,padding:10,borderBottom:`1px solid ${o.diffViewerTitleBorderColor}`,label:"title-block",":last-child":{borderLeft:`1px solid ${o.diffViewerTitleBorderColor}`},[`.${m}`]:{color:o.diffViewerTitleColor}}),p=l({color:o.gutterColor,label:"line-number"}),g=l({background:o.removedBackground,color:o.removedColor,pre:{color:o.removedColor},[`.${p}`]:{color:o.removedGutterColor},label:"diff-removed"}),x=l({background:o.addedBackground,color:o.addedColor,pre:{color:o.addedColor},[`.${p}`]:{color:o.addedGutterColor},label:"diff-added"}),y=l({background:o.changedBackground,[`.${p}`]:{color:o.gutterColor},label:"diff-changed"}),w=l({padding:2,display:"inline-flex",borderRadius:4,wordBreak:"break-all",label:"word-diff"}),b=l({background:o.wordAddedBackground,label:"word-added"}),j=l({background:o.wordRemovedBackground,label:"word-removed"}),N=l({backgroundColor:o.codeFoldGutterBackground,label:"code-fold-gutter"}),S=l({backgroundColor:o.codeFoldBackground,height:40,fontSize:14,fontWeight:700,label:"code-fold",a:{textDecoration:"underline !important",cursor:"pointer",pre:{display:"inline"}}}),E=l({backgroundColor:o.emptyLineBackground,label:"empty-line"}),C=l({width:25,paddingLeft:10,paddingRight:10,userSelect:"none",label:"marker",[`&.${x}`]:{pre:{color:o.addedColor}},[`&.${g}`]:{pre:{color:o.removedColor}}}),T=l({background:o.highlightBackground,label:"highlighted-line",[`.${b}, .${j}`]:{backgroundColor:"initial"}}),A=l({label:"highlighted-gutter"}),k=l({userSelect:"none",minWidth:50,padding:"0 10px",whiteSpace:"nowrap",label:"gutter",textAlign:"right",background:o.gutterBackground,"&:hover":{cursor:"pointer",background:o.gutterBackgroundDark,pre:{opacity:1}},pre:{opacity:.5},[`&.${x}`]:{background:o.addedGutterBackground},[`&.${g}`]:{background:o.removedGutterBackground},[`&.${A}`]:{background:o.highlightGutterBackground,"&:hover":{background:o.highlightGutterBackground}}}),P=l({"&:hover":{background:o.gutterBackground,cursor:"initial"},label:"empty-gutter"}),L=l({verticalAlign:"baseline",label:"line"}),B={diffContainer:f,diffRemoved:g,diffAdded:x,diffChanged:y,splitView:d,marker:C,highlightedGutter:A,highlightedLine:T,gutter:k,line:L,wordDiff:w,wordAdded:b,wordRemoved:j,codeFoldGutter:N,codeFold:S,emptyGutter:P,emptyLine:E,lineNumber:p,contentText:m,content:u,codeFoldContent:h,titleBlock:v},M=Object.keys(a).reduce((D,O)=>Object.assign(Object.assign({},D),{[O]:l(a[O])}),{});return Object.keys(B).reduce((D,O)=>Object.assign(Object.assign({},D),{[O]:M[O]?c(B[O],M[O]):B[O]}),{})};var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.computeHiddenBlocks=void 0;function Yqe(e,t,r){let n=0,a,i={},o=[];return e.forEach((l,c)=>{const u=t.some(d=>d>=c-r&&d<=c+r);!u&&a==null?(a={index:n,startLine:c,endLine:c,lines:1},o.push(a),i[c]=a.index,n++):u?a=void 0:(a.endLine=c,a.lines++,i[c]=a.index)}),{lineBlocks:i,blocks:o}}L_.computeHiddenBlocks=Yqe;var WF=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Qqe(e,t){return!!(e===t||WF(e)&&WF(t))}function Zqe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!Qqe(e[r],t[r]))return!1;return!0}function Jqe(e,t){t===void 0&&(t=Zqe);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}const eze=Object.freeze(Object.defineProperty({__proto__:null,default:Jqe},Symbol.toStringTag,{value:"Module"})),tze=wC(eze);(function(e){var t=It&&It.__createBinding||(Object.create?function(p,g,x,y){y===void 0&&(y=x);var w=Object.getOwnPropertyDescriptor(g,x);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[x]}}),Object.defineProperty(p,y,w)}:function(p,g,x,y){y===void 0&&(y=x),p[y]=g[x]}),r=It&&It.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),n=It&&It.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var x in p)x!=="default"&&Object.prototype.hasOwnProperty.call(p,x)&&t(g,p,x);return r(g,p),g},a=It&&It.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.DiffMethod=e.LineNumberPrefix=void 0;const i=s,o=n(_),l=a(Z7e),c=jc;Object.defineProperty(e,"DiffMethod",{enumerable:!0,get:function(){return c.DiffMethod}});const u=a(kP),d=L_,f=tze,h=f.default||f;var m;(function(p){p.LEFT="L",p.RIGHT="R"})(m||(e.LineNumberPrefix=m={}));class v extends o.Component{constructor(g){super(g),this.resetCodeBlocks=()=>this.state.expandedBlocks.length>0?(this.setState({expandedBlocks:[]}),!0):!1,this.onBlockExpand=x=>{const y=this.state.expandedBlocks.slice();y.push(x),this.setState({expandedBlocks:y})},this.computeStyles=h(u.default),this.onLineNumberClickProxy=x=>this.props.onLineNumberClick?y=>this.props.onLineNumberClick(x,y):()=>{},this.renderWordDiff=(x,y)=>x.map((w,b)=>(0,i.jsx)("span",{className:(0,l.default)(this.styles.wordDiff,{[this.styles.wordAdded]:w.type===c.DiffType.ADDED,[this.styles.wordRemoved]:w.type===c.DiffType.REMOVED}),children:y?y(w.value):w.value},b)),this.renderLine=(x,y,w,b,j,N)=>{const S=`${w}-${x}`,E=`${N}-${j}`,C=this.props.highlightLines.includes(S)||this.props.highlightLines.includes(E),T=y===c.DiffType.ADDED,A=y===c.DiffType.REMOVED,k=y===c.DiffType.CHANGED;let P;return Array.isArray(b)?P=this.renderWordDiff(b,this.props.renderContent):this.props.renderContent?P=this.props.renderContent(b):P=b,(0,i.jsxs)(o.Fragment,{children:[!this.props.hideLineNumbers&&(0,i.jsx)("td",{onClick:x&&this.onLineNumberClickProxy(S),className:(0,l.default)(this.styles.gutter,{[this.styles.emptyGutter]:!x,[this.styles.diffAdded]:T,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:k,[this.styles.highlightedGutter]:C}),children:(0,i.jsx)("pre",{className:this.styles.lineNumber,children:x})}),!this.props.splitView&&!this.props.hideLineNumbers&&(0,i.jsx)("td",{onClick:j&&this.onLineNumberClickProxy(E),className:(0,l.default)(this.styles.gutter,{[this.styles.emptyGutter]:!j,[this.styles.diffAdded]:T,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:k,[this.styles.highlightedGutter]:C}),children:(0,i.jsx)("pre",{className:this.styles.lineNumber,children:j})}),this.props.renderGutter?this.props.renderGutter({lineNumber:x,type:y,prefix:w,value:b,additionalLineNumber:j,additionalPrefix:N,styles:this.styles}):null,!this.props.hideMarkers&&(0,i.jsx)("td",{className:(0,l.default)(this.styles.marker,{[this.styles.emptyLine]:!P,[this.styles.diffAdded]:T,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:k,[this.styles.highlightedLine]:C}),children:(0,i.jsxs)("pre",{children:[T&&"+",A&&"-"]})}),(0,i.jsx)("td",{className:(0,l.default)(this.styles.content,{[this.styles.emptyLine]:!P,[this.styles.diffAdded]:T,[this.styles.diffRemoved]:A,[this.styles.diffChanged]:k,[this.styles.highlightedLine]:C}),children:(0,i.jsx)("pre",{className:this.styles.contentText,children:P})})]})},this.renderSplitView=({left:x,right:y},w)=>(0,i.jsxs)("tr",{className:this.styles.line,children:[this.renderLine(x.lineNumber,x.type,m.LEFT,x.value),this.renderLine(y.lineNumber,y.type,m.RIGHT,y.value)]},w),this.renderInlineView=({left:x,right:y},w)=>{let b;return x.type===c.DiffType.REMOVED&&y.type===c.DiffType.ADDED?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("tr",{className:this.styles.line,children:this.renderLine(x.lineNumber,x.type,m.LEFT,x.value,null)}),(0,i.jsx)("tr",{className:this.styles.line,children:this.renderLine(null,y.type,m.RIGHT,y.value,y.lineNumber)})]},w):(x.type===c.DiffType.REMOVED&&(b=this.renderLine(x.lineNumber,x.type,m.LEFT,x.value,null)),x.type===c.DiffType.DEFAULT&&(b=this.renderLine(x.lineNumber,x.type,m.LEFT,x.value,y.lineNumber,m.RIGHT)),y.type===c.DiffType.ADDED&&(b=this.renderLine(null,y.type,m.RIGHT,y.value,y.lineNumber)),(0,i.jsx)("tr",{className:this.styles.line,children:b},w))},this.onBlockClickProxy=x=>()=>this.onBlockExpand(x),this.renderSkippedLineIndicator=(x,y,w,b)=>{const{hideLineNumbers:j,splitView:N}=this.props,S=this.props.codeFoldMessageRenderer?this.props.codeFoldMessageRenderer(x,w,b):(0,i.jsxs)("pre",{className:this.styles.codeFoldContent,children:["Expand ",x," lines ..."]}),E=(0,i.jsx)("td",{children:(0,i.jsx)("a",{onClick:this.onBlockClickProxy(y),tabIndex:0,children:S})}),C=!N&&!j;return(0,i.jsxs)("tr",{className:this.styles.codeFold,children:[!j&&(0,i.jsx)("td",{className:this.styles.codeFoldGutter}),this.props.renderGutter?(0,i.jsx)("td",{className:this.styles.codeFoldGutter}):null,(0,i.jsx)("td",{className:(0,l.default)({[this.styles.codeFoldGutter]:C})}),C?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("td",{}),E]}):(0,i.jsxs)(o.Fragment,{children:[E,this.props.renderGutter?(0,i.jsx)("td",{}):null,(0,i.jsx)("td",{})]}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{})]},`${w}-${b}`)},this.renderDiff=()=>{const{oldValue:x,newValue:y,splitView:w,disableWordDiff:b,compareMethod:j,linesOffset:N}=this.props,{lineInformation:S,diffLines:E}=(0,c.computeLineInformation)(x,y,b,j,N,this.props.alwaysShowLines),C=this.props.extraLinesSurroundingDiff<0?0:Math.round(this.props.extraLinesSurroundingDiff),{lineBlocks:T,blocks:A}=(0,d.computeHiddenBlocks)(S,E,C);return S.map((k,P)=>{if(this.props.showDiffOnly){const B=T[P];if(B!==void 0){const M=A[B].endLine===P;if(!this.state.expandedBlocks.includes(B)&&M)return(0,i.jsx)(o.Fragment,{children:this.renderSkippedLineIndicator(A[B].lines,B,k.left.lineNumber,k.right.lineNumber)},P);if(!this.state.expandedBlocks.includes(B))return null}}return w?this.renderSplitView(k,P):this.renderInlineView(k,P)})},this.render=()=>{const{oldValue:x,newValue:y,useDarkTheme:w,leftTitle:b,rightTitle:j,splitView:N,hideLineNumbers:S,hideMarkers:E,nonce:C}=this.props;if(this.props.compareMethod!==c.DiffMethod.JSON&&(typeof x!="string"||typeof y!="string"))throw Error('"oldValue" and "newValue" should be strings');this.styles=this.computeStyles(this.props.styles,w,C);const T=this.renderDiff();let A=S?2:3,k=S?2:4;E&&(A-=1,k-=1);const P=this.props.renderGutter?1:0,L=(b||j)&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:(N?A:k)+P,className:this.styles.titleBlock,children:(0,i.jsx)("pre",{className:this.styles.contentText,children:b})}),N&&(0,i.jsx)("td",{colSpan:A+P,className:this.styles.titleBlock,children:(0,i.jsx)("pre",{className:this.styles.contentText,children:j})})]});return(0,i.jsx)("table",{className:(0,l.default)(this.styles.diffContainer,{[this.styles.splitView]:N}),children:(0,i.jsxs)("tbody",{children:[L,T]})})},this.state={expandedBlocks:[]}}}v.defaultProps={oldValue:"",newValue:"",splitView:!0,highlightLines:[],disableWordDiff:!1,compareMethod:c.DiffMethod.CHARS,styles:{},hideLineNumbers:!1,hideMarkers:!1,extraLinesSurroundingDiff:3,showDiffOnly:!0,useDarkTheme:!1,linesOffset:0,nonce:""},e.default=v})(yG);const rze=Qt(yG);function nze(){const{changeHistory:e,isLoading:t,getChangeStats:r}=Q7e(),[n,a]=_.useState(""),[i,o]=_.useState("all"),[l,c]=_.useState("all"),[u,d]=_.useState(null),[f,h]=_.useState(!1),m=r(),v=e.filter(b=>{var E;const j=n===""||((E=b.user_email)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))||b.table_name.toLowerCase().includes(n.toLowerCase()),N=i==="all"||b.table_name===i,S=l==="all"||b.operation===l;return j&&N&&S}),p=b=>{switch(b){case"INSERT":return"default";case"UPDATE":return"secondary";case"DELETE":return"destructive";default:return"outline"}},g=b=>{switch(b){case"INSERT":return"";case"UPDATE":return"";case"DELETE":return"";default:return""}},x=b=>{d(b),h(!0)},y=b=>b?JSON.stringify(b,null,2):"",w=[...new Set(e.map(b=>b.table_name))];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Alteraes"}),s.jsx("p",{className:"text-2xl font-bold",children:m.totalChanges})]}),s.jsx(oN,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Inseres"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:m.insertions})]}),s.jsx("span",{className:"text-2xl",children:""})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Atualizaes"}),s.jsx("p",{className:"text-2xl font-bold text-blue-500",children:m.updates})]}),s.jsx("span",{className:"text-2xl",children:""})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Excluses"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:m.deletions})]}),s.jsx("span",{className:"text-2xl",children:""})]})})})]}),s.jsxs(w_,{defaultValue:"changes",className:"space-y-4",children:[s.jsxs(fg,{children:[s.jsx(Ca,{value:"changes",children:"Histrico de Alteraes"}),s.jsx(Ca,{value:"stats",children:"Estatsticas"})]}),s.jsx(Kh,{value:"changes",className:"space-y-4",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(oN,{className:"h-6 w-6"}),"Histrico de Alteraes"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx(Oe,{placeholder:"Buscar por usurio ou tabela...",value:n,onChange:b=>a(b.target.value),className:"flex-1"}),s.jsxs(zt,{value:i,onValueChange:o,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por tabela"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as tabelas"}),w.map(b=>s.jsx(Xe,{value:b,children:b},b))]})]}),s.jsxs(zt,{value:l,onValueChange:c,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por operao"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as operaes"}),s.jsx(Xe,{value:"INSERT",children:"Insero"}),s.jsx(Xe,{value:"UPDATE",children:"Atualizao"}),s.jsx(Xe,{value:"DELETE",children:"Excluso"})]})]})]}),s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Data/Hora"}),s.jsx(Ae,{children:"Tabela"}),s.jsx(Ae,{children:"Operao"}),s.jsx(Ae,{children:"Usurio"}),s.jsx(Ae,{children:"Campos Alterados"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:v.map(b=>s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),We(new Date(b.created_at),"dd/MM/yyyy HH:mm")]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nre,{className:"h-4 w-4 text-muted-foreground"}),s.jsx(Re,{variant:"outline",children:b.table_name})]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:g(b.operation)}),s.jsx(Re,{variant:p(b.operation),children:b.operation})]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm",children:b.user_email||"Sistema"}),b.user_role&&s.jsx("p",{className:"text-xs text-muted-foreground",children:b.user_role})]})]})}),s.jsx(je,{children:b.changed_fields&&b.changed_fields.length>0?s.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.changed_fields.slice(0,3).map((j,N)=>s.jsx(Re,{variant:"secondary",className:"text-xs",children:j},N)),b.changed_fields.length>3&&s.jsxs(Re,{variant:"secondary",className:"text-xs",children:["+",b.changed_fields.length-3]})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),s.jsx(je,{children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>x(b),children:s.jsx(zi,{className:"h-4 w-4"})})})]},b.id))})]}),v.length===0&&!t&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma alterao encontrada."})]})]})}),s.jsx(Kh,{value:"stats",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(TL,{className:"h-5 w-5"}),"Alteraes por Tabela"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(m.changesByTable).sort(([,b],[,j])=>j-b).slice(0,10).map(([b,j])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:b}),s.jsx(Re,{variant:"outline",children:j})]},b))})})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-5 w-5"}),"Alteraes por Usurio"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-2",children:Object.entries(m.changesByUser).sort(([,b],[,j])=>j-b).slice(0,10).map(([b,j])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:b}),s.jsx(Re,{variant:"outline",children:j})]},b))})})]})]})})]}),s.jsx(_n,{open:f,onOpenChange:h,children:s.jsxs(un,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsx(dn,{children:"Detalhes da Alterao"})}),u&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Data/Hora:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We(new Date(u.created_at),"dd/MM/yyyy HH:mm:ss")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Tabela:"}),s.jsx(Re,{variant:"outline",children:u.table_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Operao:"}),s.jsx(Re,{variant:p(u.operation),children:u.operation})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"ID do Registro:"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:u.record_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Usurio:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.user_email||"Sistema"," (",u.user_role,")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"IP Address:"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:u.ip_address||"N/A"})]})]}),u.changed_fields&&u.changed_fields.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Campos Alterados:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u.changed_fields.map((b,j)=>s.jsx(Re,{variant:"secondary",children:b},j))})]}),u.operation==="UPDATE"&&u.old_data&&u.new_data&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Comparao de Dados:"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx(rze,{oldValue:y(u.old_data),newValue:y(u.new_data),splitView:!0,leftTitle:"Dados Anteriores",rightTitle:"Dados Novos",showDiffOnly:!1})})]}),u.operation==="INSERT"&&u.new_data&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Dados Inseridos:"}),s.jsx("pre",{className:"mt-2 p-4 bg-muted rounded-lg text-sm overflow-auto max-h-[300px]",children:y(u.new_data)})]}),u.operation==="DELETE"&&u.old_data&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Dados Removidos:"}),s.jsx("pre",{className:"mt-2 p-4 bg-muted rounded-lg text-sm overflow-auto max-h-[300px]",children:y(u.old_data)})]})]})]})})]})}const aze=()=>{const{branchId:e}=Kr(),{toast:t}=Pr(),r=Ni(),[n,a]=_.useState(!1),[i,o]=_.useState({newBookings:!0,paymentAlerts:!0,maintenanceReminders:!0,conflictAlerts:!0,stockAlerts:!0,emailNotifications:!1,smsNotifications:!1}),{data:l,isLoading:c}=it({queryKey:["notifications",e],queryFn:async()=>[{id:"1",type:"new_booking",title:"Nova Reserva",message:"Nova reserva de sala foi realizada por Joo Silva",priority:"medium",read:!1,created_at:new Date().toISOString(),data:{clientName:"Joo Silva",roomName:"Sala de Reunio A"}},{id:"2",type:"payment_pending",title:"Pagamento Pendente",message:"Pagamento de R$ 150,00 est em atraso h 2 dias",priority:"high",read:!1,created_at:new Date(Date.now()-864e5).toISOString(),data:{amount:150,daysOverdue:2}},{id:"3",type:"equipment_maintenance",title:"Manuteno Programada",message:"Microfone sem fio 01 precisa de manuteno em 3 dias",priority:"medium",read:!0,created_at:new Date(Date.now()-1728e5).toISOString(),data:{equipmentName:"Microfone sem fio 01",daysUntilMaintenance:3}},{id:"4",type:"booking_conflict",title:"Conflito de Reserva",message:"Possvel conflito detectado na Sala B para amanh s 14h",priority:"high",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),data:{roomName:"Sala B",conflictTime:"14:00"}}],enabled:!!e}),u=Wr({mutationFn:async v=>{console.log("Marking as read:",v)},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications",e]}),t({title:"Notificao marcada como lida"})}}),d=Wr({mutationFn:async()=>{console.log("Marking all as read")},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications",e]}),t({title:"Todas as notificaes foram marcadas como lidas"})}}),f=v=>{switch(v){case"new_booking":return s.jsx(Ir,{className:"h-5 w-5 text-blue-500"});case"payment_pending":return s.jsx(kL,{className:"h-5 w-5 text-red-500"});case"equipment_maintenance":return s.jsx(Vl,{className:"h-5 w-5 text-orange-500"});case"booking_conflict":return s.jsx(_a,{className:"h-5 w-5 text-red-500"});case"low_stock":return s.jsx(_a,{className:"h-5 w-5 text-yellow-500"});default:return s.jsx(D4,{className:"h-5 w-5 text-gray-500"})}},h=v=>{switch(v){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=(l==null?void 0:l.filter(v=>!v.read).length)||0;return e?s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Centro de Notificaes"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:["Gerencie alertas e notificaes do sistema",m>0&&s.jsxs(Re,{variant:"destructive",className:"ml-2",children:[m," no lidas"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{variant:"outline",onClick:()=>a(!n),children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Configuraes"]}),m>0&&s.jsxs(re,{onClick:()=>d.mutate(),children:[s.jsx(fh,{className:"h-4 w-4 mr-2"}),"Marcar Todas como Lidas"]})]})]}),n&&s.jsxs(de,{className:"mb-8",children:[s.jsx(Se,{children:s.jsx($e,{children:"Configuraes de Notificao"})}),s.jsx(me,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Tipos de Notificao"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"new-bookings",children:"Novas reservas"}),s.jsx(zn,{id:"new-bookings",checked:i.newBookings,onCheckedChange:v=>o(p=>({...p,newBookings:v}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"payment-alerts",children:"Alertas de pagamento"}),s.jsx(zn,{id:"payment-alerts",checked:i.paymentAlerts,onCheckedChange:v=>o(p=>({...p,paymentAlerts:v}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"maintenance",children:"Lembretes de manuteno"}),s.jsx(zn,{id:"maintenance",checked:i.maintenanceReminders,onCheckedChange:v=>o(p=>({...p,maintenanceReminders:v}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"conflicts",children:"Conflitos de reserva"}),s.jsx(zn,{id:"conflicts",checked:i.conflictAlerts,onCheckedChange:v=>o(p=>({...p,conflictAlerts:v}))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Canais de Notificao"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"email-notifications",children:"Notificaes por Email"}),s.jsx(zn,{id:"email-notifications",checked:i.emailNotifications,onCheckedChange:v=>o(p=>({...p,emailNotifications:v}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"sms-notifications",children:"Notificaes por SMS"}),s.jsx(zn,{id:"sms-notifications",checked:i.smsNotifications,onCheckedChange:v=>o(p=>({...p,smsNotifications:v}))})]})]})]})})]}),s.jsx("div",{className:"space-y-4",children:c?s.jsx("div",{className:"text-center py-8",children:"Carregando notificaes..."}):(l==null?void 0:l.length)===0?s.jsx(de,{children:s.jsxs(me,{className:"text-center py-12",children:[s.jsx(D4,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma notificao"}),s.jsx("p",{className:"text-gray-500",children:"Voc est em dia com todas as suas notificaes!"})]})}):l==null?void 0:l.map(v=>s.jsx(de,{className:`cursor-pointer transition-all hover:shadow-md ${v.read?"":"border-blue-200 bg-blue-50/30"}`,children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[s.jsx("div",{className:"mt-1",children:f(v.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:`font-semibold ${v.read?"text-gray-700":"text-gray-900"}`,children:v.title}),s.jsx(Re,{variant:"outline",className:h(v.priority),children:v.priority==="high"?"Alta":v.priority==="medium"?"Mdia":"Baixa"}),!v.read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:v.message}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Wn,{className:"h-4 w-4 mr-1"}),We(new Date(v.created_at),"dd/MM/yyyy 's' HH:mm",{locale:ir})]})]})]}),s.jsx("div",{className:"flex items-center gap-2 ml-4",children:!v.read&&s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>u.mutate(v.id),children:s.jsx(fh,{className:"h-4 w-4"})})})]})})},v.id))})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Selecione uma filial para visualizar as notificaes"})})},ize=()=>{const{branchId:e}=Kr(),t=Ni(),{data:r=[],isLoading:n}=it({queryKey:["security-audit",e],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await Z.from("security_audit").select("*").order("created_at",{ascending:!1}).limit(1e3);if(u)throw u;return c},enabled:!!e}),{data:a=[]}=it({queryKey:["security-audit-review",e],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await Z.from("security_audit").select("*").eq("requires_review",!0).is("reviewed_at",null).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),i=Wr({mutationFn:async c=>{var d;const{error:u}=await Z.from("security_audit").update({reviewed_by:(d=(await Z.auth.getUser()).data.user)==null?void 0:d.id,reviewed_at:new Date().toISOString(),review_notes:c.reviewNotes}).eq("id",c.eventId);if(u)throw u},onSuccess:()=>{t.invalidateQueries({queryKey:["security-audit"]}),t.invalidateQueries({queryKey:["security-audit-review"]}),yn.success("Evento marcado como revisado")},onError:c=>{console.error("Error reviewing event:",c),yn.error("Erro ao revisar evento")}}),o=async c=>{await Z.rpc("log_security_event",{p_event_type:c.eventType,p_action:c.action,p_details:c.details,p_severity:c.severity||"info",p_resource_type:c.resourceType,p_resource_id:c.resourceId,p_risk_score:c.riskScore||0})},l=()=>{const c=r.length,u=r.filter(m=>m.severity==="critical").length,d=r.filter(m=>m.severity==="warning").length,f=r.filter(m=>m.risk_score>=70).length,h=a.length;return{totalEvents:c,criticalEvents:u,warningEvents:d,highRiskEvents:f,pendingReviewEvents:h}};return{auditEvents:r,eventsRequiringReview:a,isLoading:n,reviewEvent:i.mutate,isReviewing:i.isPending,logSecurityEvent:o,getAuditStats:l}};function sze(){const{auditEvents:e,eventsRequiringReview:t,isLoading:r,reviewEvent:n,getAuditStats:a}=ize(),[i,o]=_.useState(""),[l,c]=_.useState("all"),[u,d]=_.useState("all"),[f,h]=_.useState(null),[m,v]=_.useState(!1),[p,g]=_.useState(""),x=a(),y=e.filter(C=>{var P;const T=i===""||((P=C.user_email)==null?void 0:P.toLowerCase().includes(i.toLowerCase()))||C.action.toLowerCase().includes(i.toLowerCase())||C.event_type.toLowerCase().includes(i.toLowerCase()),A=l==="all"||C.severity===l,k=u==="all"||C.event_type===u;return T&&A&&k}),w=C=>{switch(C){case"critical":return s.jsx(_a,{className:"h-4 w-4 text-red-500"});case"warning":return s.jsx(_a,{className:"h-4 w-4 text-yellow-500"});case"info":return s.jsx(M4,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(M4,{className:"h-4 w-4 text-gray-500"})}},b=C=>{switch(C){case"critical":return"destructive";case"warning":return"secondary";case"info":return"outline";default:return"outline"}},j=C=>C>=70?{variant:"destructive",label:"Alto Risco"}:C>=30?{variant:"secondary",label:"Mdio Risco"}:{variant:"outline",label:"Baixo Risco"},N=C=>{h(C),v(!0),g("")},S=()=>{f&&(n({eventId:f.id,reviewNotes:p}),v(!1))},E=[...new Set(e.map(C=>C.event_type))];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Eventos"}),s.jsx("p",{className:"text-2xl font-bold",children:x.totalEvents})]}),s.jsx(Tj,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Crticos"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:x.criticalEvents})]}),s.jsx(_a,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avisos"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:x.warningEvents})]}),s.jsx(_a,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Alto Risco"}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:x.highRiskEvents})]}),s.jsx(Tj,{className:"h-8 w-8 text-orange-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pendente Reviso"}),s.jsx("p",{className:"text-2xl font-bold text-purple-500",children:x.pendingReviewEvents})]}),s.jsx(zi,{className:"h-8 w-8 text-purple-500"})]})})})]}),t.length>0&&s.jsxs(gh,{children:[s.jsx(_a,{className:"h-4 w-4"}),s.jsxs(xh,{children:["Existem ",t.length," eventos de segurana que requerem reviso imediata."]})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Tj,{className:"h-6 w-6"}),"Auditoria de Segurana"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx(Oe,{placeholder:"Buscar por usurio, ao ou tipo...",value:i,onChange:C=>o(C.target.value),className:"flex-1"}),s.jsxs(zt,{value:l,onValueChange:c,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por severidade"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as severidades"}),s.jsx(Xe,{value:"critical",children:"Crtico"}),s.jsx(Xe,{value:"warning",children:"Aviso"}),s.jsx(Xe,{value:"info",children:"Informao"})]})]}),s.jsxs(zt,{value:u,onValueChange:d,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por tipo"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todos os tipos"}),E.map(C=>s.jsx(Xe,{value:C,children:C},C))]})]})]}),s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Data/Hora"}),s.jsx(Ae,{children:"Severidade"}),s.jsx(Ae,{children:"Tipo"}),s.jsx(Ae,{children:"Usurio"}),s.jsx(Ae,{children:"Ao"}),s.jsx(Ae,{children:"Risco"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:y.map(C=>{const T=j(C.risk_score);return s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),We(new Date(C.created_at),"dd/MM/yyyy HH:mm")]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[w(C.severity),s.jsx(Re,{variant:b(C.severity),children:C.severity})]})}),s.jsx(je,{children:s.jsx(Re,{variant:"outline",children:C.event_type})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(al,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm",children:C.user_email||"Sistema"}),C.user_role&&s.jsx("p",{className:"text-xs text-muted-foreground",children:C.user_role})]})]})}),s.jsx(je,{className:"max-w-[200px] truncate",children:C.action}),s.jsx(je,{children:s.jsxs(Re,{variant:T.variant,children:[T.label," (",C.risk_score,")"]})}),s.jsx(je,{children:C.requires_review?C.reviewed_at?s.jsxs(Re,{variant:"outline",children:[s.jsx(Ss,{className:"h-3 w-3 mr-1"}),"Revisado"]}):s.jsxs(Re,{variant:"secondary",children:[s.jsx(zi,{className:"h-3 w-3 mr-1"}),"Pendente"]}):s.jsx(Re,{variant:"outline",children:"Normal"})}),s.jsx(je,{children:s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>N(C),children:s.jsx(zi,{className:"h-4 w-4"})})})]},C.id)})})]}),y.length===0&&!r&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum evento de auditoria encontrado."})]})]}),s.jsx(_n,{open:m,onOpenChange:v,children:s.jsxs(un,{className:"max-w-4xl",children:[s.jsx(In,{children:s.jsx(dn,{children:"Detalhes do Evento de Auditoria"})}),f&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Data/Hora:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:We(new Date(f.created_at),"dd/MM/yyyy HH:mm:ss")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Tipo de Evento:"}),s.jsx(Re,{variant:"outline",children:f.event_type})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Severidade:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[w(f.severity),s.jsx(Re,{variant:b(f.severity),children:f.severity})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Pontuao de Risco:"}),s.jsxs("p",{className:"text-sm",children:[f.risk_score,"/100"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Usurio:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.user_email||"Sistema"," (",f.user_role,")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"IP Address:"}),s.jsx("p",{className:"text-sm text-muted-foreground font-mono",children:f.ip_address||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Ao:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f.action})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Detalhes:"}),s.jsx("pre",{className:"mt-2 p-4 bg-muted rounded-lg text-sm overflow-auto max-h-[300px]",children:JSON.stringify(f.details,null,2)})]}),f.requires_review&&!f.reviewed_at&&s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h4",{className:"font-medium",children:"Revisar Evento"}),s.jsx(bl,{placeholder:"Adicione suas observaes sobre este evento...",value:p,onChange:C=>g(C.target.value)}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),s.jsx(re,{onClick:S,children:"Marcar como Revisado"})]})]}),f.reviewed_at&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Reviso"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Revisado em: ",We(new Date(f.reviewed_at),"dd/MM/yyyy HH:mm")]}),f.review_notes&&s.jsx("p",{className:"text-sm mt-2",children:f.review_notes})]})]})]})})]})}const oze=()=>{const{user:e}=Gt(),{branchId:t}=Kr(),r=Ni(),n=async(d,f)=>{if(!(e!=null&&e.id)||!t)return!1;const{data:h,error:m}=await Z.rpc("has_permission",{p_user_id:e.id,p_resource:d,p_permission:f,p_branch_id:t});return m?(console.error("Error checking permission:",m),!1):h||!1},{data:a=[],isLoading:i}=it({queryKey:["user-permissions",e==null?void 0:e.id,t],queryFn:async()=>{if(!(e!=null&&e.id)||!t)return[];const{data:d,error:f}=await Z.from("user_permissions").select("*").eq("user_id",e.id).eq("branch_id",t).eq("is_active",!0).order("created_at",{ascending:!1});if(f)throw f;return d},enabled:!!(e!=null&&e.id)&&!!t}),{data:o=[],isLoading:l}=it({queryKey:["all-permissions",t],queryFn:async()=>{if(!t)return[];const{data:d,error:f}=await Z.from("user_permissions").select(`
          *,
          profiles!user_permissions_user_id_fkey(first_name, last_name, email),
          granted_by_profile:profiles!user_permissions_granted_by_fkey(first_name, last_name, email)
        `).eq("branch_id",t).order("created_at",{ascending:!1});if(f)throw f;return d},enabled:!!t}),c=Wr({mutationFn:async d=>{const{error:f}=await Z.from("user_permissions").insert({user_id:d.userId,resource_type:d.resourceType,permission_type:d.permissionType,granted_by:e==null?void 0:e.id,expires_at:d.expiresAt,notes:d.notes,branch_id:t});if(f)throw f;await Z.rpc("log_security_event",{p_event_type:"permission_change",p_action:"grant_permission",p_details:{target_user:d.userId,resource:d.resourceType,permission:d.permissionType,expires_at:d.expiresAt,notes:d.notes},p_severity:"warning",p_resource_type:"users",p_resource_id:d.userId,p_risk_score:40})},onSuccess:()=>{r.invalidateQueries({queryKey:["user-permissions"]}),r.invalidateQueries({queryKey:["all-permissions"]}),yn.success("Permisso concedida com sucesso")},onError:d=>{console.error("Error granting permission:",d),yn.error("Erro ao conceder permisso")}}),u=Wr({mutationFn:async d=>{const{error:f}=await Z.from("user_permissions").update({is_active:!1}).eq("id",d);if(f)throw f;await Z.rpc("log_security_event",{p_event_type:"permission_change",p_action:"revoke_permission",p_details:{permission_id:d},p_severity:"warning",p_resource_type:"users",p_risk_score:30})},onSuccess:()=>{r.invalidateQueries({queryKey:["user-permissions"]}),r.invalidateQueries({queryKey:["all-permissions"]}),yn.success("Permisso revogada com sucesso")},onError:d=>{console.error("Error revoking permission:",d),yn.error("Erro ao revogar permisso")}});return{hasPermission:n,userPermissions:a,allPermissions:o,loadingPermissions:i,loadingAllPermissions:l,grantPermission:c.mutate,revokePermission:u.mutate,isGranting:c.isPending,isRevoking:u.isPending}};function lze(){const{branchId:e}=Kr(),{allPermissions:t,loadingAllPermissions:r,grantPermission:n,revokePermission:a}=oze(),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState("all"),[f,h]=_.useState({userId:"",resourceType:"",permissionType:"",expiresAt:"",notes:""}),{data:m=[]}=it({queryKey:["users-for-permissions",e],queryFn:async()=>{if(!e)return[];const{data:b,error:j}=await Z.from("profiles").select("id, first_name, last_name, email, role").eq("branch_id",e).order("first_name");if(j)throw j;return b},enabled:!!e}),v=["rooms","equipment","bookings","clients","products","financial","reports","users","branches","coupons","inventory","notifications","logs","backups"],p=["read","write","delete","admin","super_admin"],g=t.filter(b=>{var S,E,C;const j=l===""||((E=(S=b.profiles)==null?void 0:S.email)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))||((C=b.resource_type)==null?void 0:C.includes(l.toLowerCase())),N=u==="all"||b.resource_type===u;return j&&N}),x=()=>{!f.userId||!f.resourceType||!f.permissionType||(n({userId:f.userId,resourceType:f.resourceType,permissionType:f.permissionType,expiresAt:f.expiresAt||void 0,notes:f.notes||void 0}),h({userId:"",resourceType:"",permissionType:"",expiresAt:"",notes:""}),o(!1))},y=b=>{switch(b){case"read":return"outline";case"write":return"default";case"delete":return"destructive";case"admin":return"secondary";case"super_admin":return"destructive";default:return"outline"}},w=b=>"secondary";return s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(um,{className:"h-6 w-6"}),"Controle de Permisses"]})}),s.jsxs(me,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(Oe,{placeholder:"Buscar por usurio ou recurso...",value:l,onChange:b=>c(b.target.value),className:"w-80"}),s.jsxs(zt,{value:u,onValueChange:d,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por recurso"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todos os recursos"}),v.map(b=>s.jsx(Xe,{value:b,children:b},b))]})]})]}),s.jsxs(_n,{open:i,onOpenChange:o,children:[s.jsx(EA,{asChild:!0,children:s.jsxs(re,{children:[s.jsx(gl,{className:"h-4 w-4 mr-2"}),"Conceder Permisso"]})}),s.jsxs(un,{children:[s.jsx(In,{children:s.jsx(dn,{children:"Conceder Nova Permisso"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"user",children:"Usurio"}),s.jsxs(zt,{value:f.userId,onValueChange:b=>h({...f,userId:b}),children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione um usurio"})}),s.jsx(Lt,{children:m.map(b=>s.jsxs(Xe,{value:b.id,children:[b.first_name," ",b.last_name," (",b.email,")"]},b.id))})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"resource",children:"Recurso"}),s.jsxs(zt,{value:f.resourceType,onValueChange:b=>h({...f,resourceType:b}),children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione um recurso"})}),s.jsx(Lt,{children:v.map(b=>s.jsx(Xe,{value:b,children:b},b))})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"permission",children:"Permisso"}),s.jsxs(zt,{value:f.permissionType,onValueChange:b=>h({...f,permissionType:b}),children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione uma permisso"})}),s.jsx(Lt,{children:p.map(b=>s.jsx(Xe,{value:b,children:b},b))})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"expires",children:"Data de Expirao (opcional)"}),s.jsx(Oe,{type:"datetime-local",value:f.expiresAt,onChange:b=>h({...f,expiresAt:b.target.value})})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"notes",children:"Observaes (opcional)"}),s.jsx(bl,{value:f.notes,onChange:b=>h({...f,notes:b.target.value}),placeholder:"Motivo da concesso, contexto, etc."})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),s.jsx(re,{onClick:x,children:"Conceder Permisso"})]})]})]})]})]}),s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Usurio"}),s.jsx(Ae,{children:"Recurso"}),s.jsx(Ae,{children:"Permisso"}),s.jsx(Ae,{children:"Concedido por"}),s.jsx(Ae,{children:"Expira em"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:g.map(b=>{var j,N,S,E,C;return s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[(j=b.profiles)==null?void 0:j.first_name," ",(N=b.profiles)==null?void 0:N.last_name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(S=b.profiles)==null?void 0:S.email})]})}),s.jsx(je,{children:s.jsx(Re,{variant:w(b.resource_type),children:b.resource_type})}),s.jsx(je,{children:s.jsx(Re,{variant:y(b.permission_type),children:b.permission_type})}),s.jsx(je,{children:s.jsxs("div",{className:"text-sm",children:[(E=b.granted_by_profile)==null?void 0:E.first_name," ",(C=b.granted_by_profile)==null?void 0:C.last_name,s.jsx("div",{className:"text-muted-foreground",children:We(new Date(b.granted_at),"dd/MM/yyyy")})]})}),s.jsx(je,{children:b.expires_at?s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(Ir,{className:"h-3 w-3"}),We(new Date(b.expires_at),"dd/MM/yyyy")]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Nunca"})}),s.jsx(je,{children:s.jsx(Re,{variant:b.is_active?"default":"secondary",children:b.is_active?"Ativa":"Inativa"})}),s.jsx(je,{children:s.jsx("div",{className:"flex gap-2",children:b.is_active&&s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>a(b.id),children:s.jsx(dm,{className:"h-4 w-4"})})})})]},b.id)})})]}),g.length===0&&!r&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma permisso encontrada."})]})]})})}const Ax=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],cze=()=>{const{branchId:e}=Kr(),[t,r]=_.useState("current_month"),[n,a]=_.useState(""),[i,o]=_.useState(""),l=()=>{const y=new Date;switch(t){case"current_month":return{start:Yr(y),end:Gs(y)};case"last_month":const w=Mj(y,1);return{start:Yr(w),end:Gs(w)};case"last_3_months":return{start:Mj(Yr(y),2),end:Gs(y)};case"custom":return{start:n?t3(n):Yr(y),end:i?t3(i):Gs(y)};default:return{start:Yr(y),end:Gs(y)}}},{start:c,end:u}=l(),{data:d,isLoading:f}=it({queryKey:["financial-revenue",e,c,u],queryFn:async()=>{if(!e)return null;const{data:y,error:w}=await Z.from("bookings").select("total_price, created_at, status").eq("branch_id",e).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).neq("status","cancelled"),{data:b,error:j}=await Z.from("booking_equipment").select("total_price, created_at, status").eq("branch_id",e).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).neq("status","cancelled"),{data:N,error:S}=await Z.from("orders").select("total_amount, created_at, status").eq("branch_id",e).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).eq("status","paid");if(w||j||S)throw new Error("Erro ao buscar dados financeiros");const E=(y==null?void 0:y.reduce((k,P)=>k+Number(P.total_price||0),0))||0,C=(b==null?void 0:b.reduce((k,P)=>k+Number(P.total_price||0),0))||0,T=(N==null?void 0:N.reduce((k,P)=>k+Number(P.total_amount||0),0))||0;return{totalRevenue:E+C+T,roomRevenue:E,equipmentRevenue:C,productRevenue:T,totalBookings:((y==null?void 0:y.length)||0)+((b==null?void 0:b.length)||0),totalOrders:(N==null?void 0:N.length)||0}},enabled:!!e}),h=[{name:"Salas",value:(d==null?void 0:d.roomRevenue)||0,color:"#0088FE"},{name:"Equipamentos",value:(d==null?void 0:d.equipmentRevenue)||0,color:"#00C49F"},{name:"Produtos",value:(d==null?void 0:d.productRevenue)||0,color:"#FFBB28"}].filter(y=>y.value>0),{data:m,isLoading:v}=it({queryKey:["top-clients",e,c,u],queryFn:async()=>{if(!e)return[];const{data:y,error:w}=await Z.from("bookings").select(`
          user_id,
          total_price,
          profiles!inner(first_name, last_name, email)
        `).eq("branch_id",e).gte("created_at",c.toISOString()).lte("created_at",u.toISOString()).neq("status","cancelled");if(w)throw w;const b=(y==null?void 0:y.reduce((j,N)=>{const S=N.user_id;return j[S]||(j[S]={id:S,name:`${N.profiles.first_name||""} ${N.profiles.last_name||""}`.trim()||N.profiles.email,email:N.profiles.email,totalSpent:0,bookingCount:0}),j[S].totalSpent+=Number(N.total_price||0),j[S].bookingCount+=1,j},{}))||{};return Object.values(b).sort((j,N)=>N.totalSpent-j.totalSpent).slice(0,10)},enabled:!!e}),{data:p,isLoading:g}=it({queryKey:["cash-flow",e],queryFn:async()=>{if(!e)return[];const y=Array.from({length:6},(b,j)=>{const N=Mj(new Date,j);return{month:We(N,"MM/yyyy"),start:Yr(N),end:Gs(N)}}).reverse();return await Promise.all(y.map(async({month:b,start:j,end:N})=>{var P,L,B;const[S,E,C]=await Promise.all([Z.from("bookings").select("total_price").eq("branch_id",e).gte("created_at",j.toISOString()).lte("created_at",N.toISOString()).neq("status","cancelled"),Z.from("booking_equipment").select("total_price").eq("branch_id",e).gte("created_at",j.toISOString()).lte("created_at",N.toISOString()).neq("status","cancelled"),Z.from("orders").select("total_amount").eq("branch_id",e).gte("created_at",j.toISOString()).lte("created_at",N.toISOString()).eq("status","paid")]),T=((P=S.data)==null?void 0:P.reduce((M,D)=>M+Number(D.total_price||0),0))||0,A=((L=E.data)==null?void 0:L.reduce((M,D)=>M+Number(D.total_price||0),0))||0,k=((B=C.data)==null?void 0:B.reduce((M,D)=>M+Number(D.total_amount||0),0))||0;return{month:b,total:T+A+k,salas:T,equipamentos:A,produtos:k}}))},enabled:!!e}),x=()=>{};return e?s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Relatrios Financeiros"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Anlise detalhada do desempenho financeiro"})]}),s.jsxs(re,{onClick:x,className:"flex items-center gap-2",children:[s.jsx(cm,{className:"h-4 w-4"}),"Exportar Relatrio"]})]}),s.jsxs(de,{className:"mb-8",children:[s.jsx(Se,{children:s.jsx($e,{children:"Perodo de Anlise"})}),s.jsx(me,{children:s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsx("div",{className:"flex-1",children:s.jsxs(zt,{value:t,onValueChange:r,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Selecione o perodo"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"current_month",children:"Ms Atual"}),s.jsx(Xe,{value:"last_month",children:"Ms Passado"}),s.jsx(Xe,{value:"last_3_months",children:"ltimos 3 Meses"}),s.jsx(Xe,{value:"custom",children:"Perodo Personalizado"})]})]})}),t==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{children:s.jsx(Oe,{type:"date",value:n,onChange:y=>a(y.target.value),placeholder:"Data inicial"})}),s.jsx("div",{children:s.jsx(Oe,{type:"date",value:i,onChange:y=>o(y.target.value),placeholder:"Data final"})})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receita Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f?"...":`R$ ${(d==null?void 0:d.totalRevenue.toFixed(2))||"0,00"}`})]}),s.jsx(kL,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Reservas"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f?"...":(d==null?void 0:d.totalBookings)||0})]}),s.jsx(Ir,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pedidos de Produtos"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f?"...":(d==null?void 0:d.totalOrders)||0})]}),s.jsx(il,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f?"...":`R$ ${(((d==null?void 0:d.totalRevenue)||0)/Math.max(((d==null?void 0:d.totalBookings)||0)+((d==null?void 0:d.totalOrders)||0),1)).toFixed(2)}`})]}),s.jsx(Ec,{className:"h-8 w-8 text-orange-500"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Jte,{className:"h-5 w-5"}),"Receita por Categoria"]})}),s.jsxs(me,{children:[s.jsx("div",{className:"h-64",children:s.jsx(lE,{width:"100%",height:"100%",children:s.jsxs(DI,{children:[s.jsx(Ii,{formatter:y=>[`R$ ${y.toFixed(2)}`,""]}),s.jsx(DI,{data:h,children:h.map((y,w)=>s.jsx(Xw,{fill:Ax[w%Ax.length]},`cell-${w}`))})]})})}),s.jsx("div",{className:"flex justify-center gap-4 mt-4",children:h.map((y,w)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ax[w%Ax.length]}}),s.jsx("span",{className:"text-sm",children:y.name})]},y.name))})]})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(TL,{className:"h-5 w-5"}),"Fluxo de Caixa (6 meses)"]})}),s.jsx(me,{children:s.jsx("div",{className:"h-64",children:g?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("span",{children:"Carregando..."})}):s.jsx(lE,{width:"100%",height:"100%",children:s.jsxs(hV,{data:p,children:[s.jsx(Xk,{strokeDasharray:"3 3"}),s.jsx(ug,{dataKey:"month"}),s.jsx(Vh,{}),s.jsx(Ii,{formatter:y=>[`R$ ${y.toFixed(2)}`,""]}),s.jsx(hl,{dataKey:"total",fill:"#8884d8"})]})})})})]})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Top 10 Clientes Mais Ativos"})}),s.jsx(me,{children:v?s.jsx("div",{className:"text-center py-8",children:"Carregando..."}):s.jsx("div",{className:"space-y-4",children:m==null?void 0:m.map((y,w)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center font-bold",children:w+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:y.name}),s.jsx("p",{className:"text-sm text-gray-500",children:y.email})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold",children:["R$ ",y.totalSpent.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[y.bookingCount," reservas"]})]})]},y.id))})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Selecione uma filial para visualizar os relatrios"})})},uze=()=>{const e=Ni(),{toast:t}=Pr(),[r,n]=_.useState(""),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState(""),[d,f]=_.useState(""),[h,m]=_.useState(""),[v,p]=_.useState(""),[g,x]=_.useState(""),[y,w]=_.useState(""),[b,j]=_.useState(null),[N,S]=_.useState(""),[E,C]=_.useState(""),[T,A]=_.useState(""),[k,P]=_.useState(""),[L,B]=_.useState(""),[M,D]=_.useState(""),[O,W]=_.useState(""),[ne,ee]=_.useState(""),[I,X]=_.useState(""),{data:Y,isLoading:Q}=it({queryKey:["branches-detailed"],queryFn:async()=>{const{data:G,error:ye}=await Z.from("branches").select("*").order("created_at");if(ye)throw ye;return await Promise.all(G.map(async et=>{var te;const[Le,yt,rt,Te]=await Promise.all([Z.from("rooms").select("*",{count:"exact",head:!0}).eq("branch_id",et.id),Z.from("equipment").select("*",{count:"exact",head:!0}).eq("branch_id",et.id),Z.from("bookings").select("*",{count:"exact",head:!0}).eq("branch_id",et.id),Z.from("bookings").select("total_price").eq("branch_id",et.id).gte("created_at",new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString()).neq("status","cancelled")]),K=((te=Te.data)==null?void 0:te.reduce((ce,Pe)=>ce+Number(Pe.total_price||0),0))||0;return{...et,roomsCount:Le.count||0,equipmentCount:yt.count||0,bookingsCount:rt.count||0,monthlyRevenue:K}}))}}),ie=Wr({mutationFn:async()=>{const{error:G}=await Z.from("branches").insert({name:r,city:a,street:o||null,number:c||null,neighborhood:d||null,complement:h||null,zip_code:v||null,state:g||null,phone:y||null});if(G)throw G},onSuccess:()=>{n(""),i(""),l(""),u(""),f(""),m(""),p(""),x(""),w(""),e.invalidateQueries({queryKey:["branches-detailed"]}),t({title:"Filial criada",description:"Nova filial foi criada com sucesso."})},onError:G=>{t({title:"Erro",description:G.message,variant:"destructive"})}}),he=Wr({mutationFn:async({id:G,name:ye,city:ae,street:et,number:Le,neighborhood:yt,complement:rt,zip_code:Te,state:K,phone:te})=>{const{error:ce}=await Z.from("branches").update({name:ye,city:ae,street:et||null,number:Le||null,neighborhood:yt||null,complement:rt||null,zip_code:Te||null,state:K||null,phone:te||null}).eq("id",G);if(ce)throw ce},onSuccess:()=>{j(null),S(""),C(""),A(""),P(""),B(""),D(""),W(""),ee(""),X(""),e.invalidateQueries({queryKey:["branches-detailed"]}),t({title:"Filial atualizada",description:"Filial foi atualizada com sucesso."})},onError:G=>{t({title:"Erro",description:G.message,variant:"destructive"})}}),we=Wr({mutationFn:async G=>{const{error:ye}=await Z.from("branches").delete().eq("id",G);if(ye)throw ye},onSuccess:()=>{e.invalidateQueries({queryKey:["branches-detailed"]}),t({title:"Filial excluda",description:"Filial foi excluda com sucesso."})},onError:G=>{t({title:"Erro",description:G.message,variant:"destructive"})}}),se=G=>{j(G),S(G.name),C(G.city),A(G.street||""),P(G.number||""),B(G.neighborhood||""),D(G.complement||""),W(G.zip_code||""),ee(G.state||""),X(G.phone||"")};return s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[s.jsx("div",{className:"flex justify-between items-center mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Filiais"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie suas filiais e acompanhe o desempenho"})]})}),s.jsxs(de,{className:"mb-8",children:[s.jsx(Se,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(CL,{className:"h-5 w-5"}),"Nova Filial"]})}),s.jsx(me,{children:s.jsxs("form",{onSubmit:G=>{G.preventDefault(),ie.mutate()},children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"name",children:"Nome da Filial"}),s.jsx(Oe,{id:"name",value:r,onChange:G=>n(G.target.value),placeholder:"Digite o nome da filial",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"city",children:"Cidade"}),s.jsx(Oe,{id:"city",value:a,onChange:G=>i(G.target.value),placeholder:"Digite a cidade",required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"street",children:"Rua"}),s.jsx(Oe,{id:"street",value:o,onChange:G=>l(G.target.value),placeholder:"Digite a rua"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"number",children:"Nmero"}),s.jsx(Oe,{id:"number",value:c,onChange:G=>u(G.target.value),placeholder:"Digite o nmero"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"neighborhood",children:"Bairro"}),s.jsx(Oe,{id:"neighborhood",value:d,onChange:G=>f(G.target.value),placeholder:"Digite o bairro"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"complement",children:"Complemento"}),s.jsx(Oe,{id:"complement",value:h,onChange:G=>m(G.target.value),placeholder:"Digite o complemento (opcional)"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"zipCode",children:"CEP"}),s.jsx(Oe,{id:"zipCode",value:v,onChange:G=>p(G.target.value),placeholder:"Digite o CEP"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"state",children:"Estado"}),s.jsx(Oe,{id:"state",value:g,onChange:G=>x(G.target.value),placeholder:"Digite o estado"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"phone",children:"Telefone"}),s.jsx(Oe,{id:"phone",value:y,onChange:G=>w(G.target.value),placeholder:"Digite o telefone"})]})]}),s.jsx(re,{type:"submit",disabled:ie.isPending,children:ie.isPending?"Criando...":"Adicionar Filial"})]})})]}),Q?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(G=>s.jsx(de,{className:"animate-pulse",children:s.jsxs(me,{className:"p-6",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})},G))}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y==null?void 0:Y.map(G=>s.jsx(de,{className:"hover:shadow-lg transition-shadow",children:s.jsxs(me,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:G.name}),s.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-1",children:[s.jsx(xo,{className:"h-4 w-4 mr-1"}),G.city]}),(G.street||G.number)&&s.jsxs("div",{className:"text-gray-500 text-xs",children:[[G.street,G.number].filter(Boolean).join(", "),G.neighborhood&&s.jsx("div",{className:"text-xs text-gray-500",children:G.neighborhood})]}),G.phone&&s.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:[" ",G.phone]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>se(G),children:s.jsx(FT,{className:"h-4 w-4"})}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>we.mutate(G.id),disabled:we.isPending,children:s.jsx(dm,{className:"h-4 w-4 text-red-500"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.roomsCount}),s.jsx("div",{className:"text-xs text-blue-600",children:"Salas"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.equipmentCount}),s.jsx("div",{className:"text-xs text-green-600",children:"Equipamentos"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center text-gray-600",children:[s.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Reservas"]}),s.jsx(Re,{variant:"secondary",children:G.bookingsCount})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center text-gray-600",children:[s.jsx(Ec,{className:"h-4 w-4 mr-1"}),"Faturamento"]}),s.jsxs(Re,{variant:"default",children:["R$ ",G.monthlyRevenue.toFixed(2)]})]})]})]})},G.id))}),s.jsx(_n,{open:!!b,onOpenChange:()=>j(null),children:s.jsxs(un,{children:[s.jsxs(In,{children:[s.jsx(dn,{children:"Editar Filial"}),s.jsx(Kc,{children:"Atualize as informaes da filial"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-name",children:"Nome da Filial"}),s.jsx(Oe,{id:"edit-name",value:N,onChange:G=>S(G.target.value),placeholder:"Digite o nome da filial"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-city",children:"Cidade"}),s.jsx(Oe,{id:"edit-city",value:E,onChange:G=>C(G.target.value),placeholder:"Digite a cidade"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-street",children:"Rua"}),s.jsx(Oe,{id:"edit-street",value:T,onChange:G=>A(G.target.value),placeholder:"Digite a rua"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-number",children:"Nmero"}),s.jsx(Oe,{id:"edit-number",value:k,onChange:G=>P(G.target.value),placeholder:"Digite o nmero"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-neighborhood",children:"Bairro"}),s.jsx(Oe,{id:"edit-neighborhood",value:L,onChange:G=>B(G.target.value),placeholder:"Digite o bairro"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-complement",children:"Complemento"}),s.jsx(Oe,{id:"edit-complement",value:M,onChange:G=>D(G.target.value),placeholder:"Digite o complemento (opcional)"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-zipCode",children:"CEP"}),s.jsx(Oe,{id:"edit-zipCode",value:O,onChange:G=>W(G.target.value),placeholder:"Digite o CEP"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-state",children:"Estado"}),s.jsx(Oe,{id:"edit-state",value:ne,onChange:G=>ee(G.target.value),placeholder:"Digite o estado"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"edit-phone",children:"Telefone"}),s.jsx(Oe,{id:"edit-phone",value:I,onChange:G=>X(G.target.value),placeholder:"Digite o telefone"})]})]})}),s.jsxs(eg,{children:[s.jsx(re,{variant:"outline",onClick:()=>j(null),children:"Cancelar"}),s.jsx(re,{onClick:()=>he.mutate({id:b.id,name:N,city:E,street:T,number:k,neighborhood:L,complement:M,zip_code:O,state:ne,phone:I}),disabled:he.isPending,children:he.isPending?"Salvando...":"Salvar"})]})]})})]})},dze=e=>/^[0-9]{7,9}$/.test(e),fze=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),{toast:a}=Pr();_.useEffect(()=>{(async()=>{try{console.log("Fetching client profiles...");const{data:l,error:c}=await Z.from("profiles").select("id,first_name,last_name,email,phone,crp,specialty,cpf,cnpj,cep,street,house_number,neighborhood,city,state,role,created_at,branch_id").eq("role","client");if(c){console.error("Error fetching profiles:",c),a({title:"Erro",description:"No foi possvel carregar os perfis dos clientes.",variant:"destructive"}),n(!1);return}console.log(`Fetched ${(l==null?void 0:l.length)||0} client profiles`);const u=l?l.map(d=>({id:d.id,first_name:d.first_name||"",last_name:d.last_name||"",email:d.email||"",phone:d.phone||"",crp:d.crp||"",cpf:d.cpf,cnpj:d.cnpj,specialty:d.specialty,cep:d.cep,street:d.street,house_number:d.house_number,neighborhood:d.neighborhood,city:d.city,state:d.state,role:d.role,created_at:d.created_at})):[];t(u)}catch(l){console.error("Error in fetchClients:",l),a({title:"Erro",description:"Ocorreu um erro ao buscar os dados dos clientes.",variant:"destructive"})}finally{n(!1)}})()},[a]);const i=()=>{if(!e.length){a({title:"Sem dados",description:"No h clientes para exportar.",variant:"destructive"});return}try{const o=e.map(f=>({ID:f.id,Nome:f.first_name,Sobrenome:f.last_name,Email:f.email,Telefone:f.phone,CRP:f.crp,CPF:f.cpf||"",CNPJ:f.cnpj||"",Especialidade:f.specialty||"",CEP:f.cep||"",Rua:f.street||"",Nmero:f.house_number||"",Bairro:f.neighborhood||"",Cidade:f.city||"",Estado:f.state||"",Perfil:f.role||"","Data de Cadastro":f.created_at?new Date(f.created_at).toLocaleDateString("pt-BR"):""})),l=Zo.json_to_sheet(o),c=[{wch:40},{wch:20},{wch:20},{wch:30},{wch:15},{wch:12},{wch:15},{wch:18},{wch:25},{wch:10},{wch:30},{wch:10},{wch:20},{wch:20},{wch:10},{wch:15},{wch:15}];l["!cols"]=c;const u=Zo.book_new();Zo.book_append_sheet(u,l,"Clientes");const d=new Date().toLocaleDateString("pt-BR").replace(/\//g,"-");bP(u,`clientes-${d}.xlsx`),a({title:"Sucesso",description:"Lista de clientes exportada com sucesso."})}catch(o){console.error("Error exporting to Excel:",o),a({title:"Erro",description:"No foi possvel exportar os dados para Excel.",variant:"destructive"})}};return r?s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsxs(Se,{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(il,{className:"h-7 w-7 text-yellow-700"})," Clientes"]}),s.jsx(Vr,{className:"text-gray-500",children:"Veja todos os clientes cadastrados"})]}),s.jsx(me,{children:s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("p",{className:"text-muted-foreground",children:"Carregando clientes..."})})})]}):s.jsxs(de,{className:"shadow-lg rounded-2xl border-0 bg-white p-6 mb-8",children:[s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs($e,{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[s.jsx(il,{className:"h-7 w-7 text-yellow-700"})," Clientes"]}),s.jsx(Vr,{className:"text-gray-500",children:"Veja todos os clientes cadastrados"})]}),s.jsxs(re,{onClick:i,variant:"outline",className:"flex items-center gap-2",children:[s.jsx(cm,{className:"h-4 w-4"}),"Exportar Excel"]})]})}),s.jsx(me,{children:s.jsx("div",{className:"rounded-md border",children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Email"}),s.jsx(Ae,{children:"Telefone"}),s.jsx(Ae,{children:"CRP"}),s.jsx(Ae,{children:"CPF/CNPJ"}),s.jsx(Ae,{children:"Cidade"}),s.jsx(Ae,{children:"Especialidade"})]})}),s.jsx(Ma,{children:e.length>0?e.map((o,l)=>s.jsxs(Bt,{className:o.crp&&!dze(o.crp)?"bg-destructive/10":"",children:[s.jsxs(je,{children:[o.first_name," ",o.last_name]}),s.jsx(je,{children:o.email}),s.jsx(je,{children:o.phone}),s.jsx(je,{children:o.crp}),s.jsx(je,{children:o.cpf||o.cnpj||"-"}),s.jsx(je,{children:o.city||"-"}),s.jsx(je,{children:o.specialty||"-"})]},o.id||l)):s.jsx(Bt,{children:s.jsx(je,{colSpan:7,className:"text-center py-6",children:"Nenhum cliente encontrado"})})})]})})})]})},hze=()=>{const[e,t]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState({first_name:"",last_name:"",email:"",password:"",branch_id:""}),[d,f]=_.useState(!1),[h,m]=_.useState(null),[v,p]=_.useState(null),[g,x]=_.useState(!1),{toast:y}=Pr();_.useEffect(()=>{(async()=>{i(!0);const{data:A}=await Z.from("branches").select("id, name");n(A||[]);const{data:k}=await Z.from("profiles").select("id, email, first_name, last_name, branch_id, branches(name)").eq("role","admin"),P=(k||[]).map(L=>{var B;return{...L,branch_name:((B=L.branches)==null?void 0:B.name)||"-"}});t(P),i(!1)})()},[]);const w=()=>{var T;m(null),u({first_name:"",last_name:"",email:"",password:"",branch_id:((T=r[0])==null?void 0:T.id)||""}),l(!0)},b=T=>{m(T),u({first_name:T.first_name,last_name:T.last_name,email:T.email,password:"",branch_id:T.branch_id}),l(!0)},j=T=>{u({...c,[T.target.name]:T.target.value})},N=T=>{u({...c,branch_id:T})},S=async T=>{var A;T.preventDefault(),f(!0);try{if(h){const{error:L}=await Z.from("profiles").update({first_name:c.first_name,last_name:c.last_name,email:c.email,branch_id:c.branch_id}).eq("id",h.id);if(L)throw L;const{error:B}=await Z.auth.admin.updateUserById(h.id,{email:c.email,user_metadata:{first_name:c.first_name,last_name:c.last_name,branch_id:c.branch_id,role:"admin"}});if(B)throw B;y({title:"Admin atualizado com sucesso!"})}else{const{data:L,error:B}=await Z.auth.signUp({email:c.email,password:c.password,options:{data:{first_name:c.first_name,last_name:c.last_name,branch_id:c.branch_id,role:"admin"}}});if(B)throw B;const M=(A=L.user)==null?void 0:A.id;if(!M)throw new Error("Usurio no criado no Auth");const{error:D}=await Z.from("profiles").upsert({id:M,email:c.email,first_name:c.first_name,last_name:c.last_name,branch_id:c.branch_id,role:"admin"});if(D)throw D;y({title:"Admin criado com sucesso!"})}l(!1),m(null);const{data:k}=await Z.from("profiles").select("id, email, first_name, last_name, branch_id, branches(name)").eq("role","admin"),P=(k||[]).map(L=>{var B;return{...L,branch_name:((B=L.branches)==null?void 0:B.name)||"-"}});t(P)}catch(k){y({title:"Erro ao salvar admin",description:k.message,variant:"destructive"})}finally{f(!1)}},E=T=>{p(T)},C=async()=>{if(v){x(!0);try{const{error:T}=await Z.auth.admin.deleteUser(v.id);if(T)throw T;const{error:A}=await Z.from("profiles").delete().eq("id",v.id);if(A)throw A;y({title:"Admin removido com sucesso!"}),p(null);const{data:k}=await Z.from("profiles").select("id, email, first_name, last_name, branch_id, branches(name)").eq("role","admin"),P=(k||[]).map(L=>{var B;return{...L,branch_name:((B=L.branches)==null?void 0:B.name)||"-"}});t(P)}catch(T){y({title:"Erro ao remover admin",description:T.message,variant:"destructive"})}finally{x(!1)}}};return s.jsxs("div",{className:"max-w-3xl mx-auto py-8",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Usurios Admin"})}),s.jsxs(me,{children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(re,{onClick:w,children:"Adicionar Admin"})}),a?s.jsx("div",{children:"Carregando..."}):s.jsxs("table",{className:"min-w-full border text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"p-2 text-left",children:"Nome"}),s.jsx("th",{className:"p-2 text-left",children:"E-mail"}),s.jsx("th",{className:"p-2 text-left",children:"Filial"}),s.jsx("th",{className:"p-2 text-left",children:"Aes"})]})}),s.jsx("tbody",{children:e.map(T=>s.jsxs("tr",{className:"border-b",children:[s.jsxs("td",{className:"p-2",children:[T.first_name," ",T.last_name]}),s.jsx("td",{className:"p-2",children:T.email}),s.jsx("td",{className:"p-2",children:T.branch_name}),s.jsxs("td",{className:"p-2",children:[s.jsx(re,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>b(T),children:"Editar"}),s.jsx(re,{variant:"destructive",size:"sm",onClick:()=>E(T),children:"Remover"})]})]},T.id))})]})]})]}),s.jsx(_n,{open:o,onOpenChange:l,children:s.jsxs(un,{children:[s.jsx(In,{children:s.jsx(dn,{children:h?"Editar Admin":"Novo Admin"})}),s.jsxs("form",{className:"space-y-4",onSubmit:S,children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"first_name",children:"Nome"}),s.jsx(Oe,{id:"first_name",name:"first_name",value:c.first_name,onChange:j,required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"last_name",children:"Sobrenome"}),s.jsx(Oe,{id:"last_name",name:"last_name",value:c.last_name,onChange:j,required:!0})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"email",children:"E-mail"}),s.jsx(Oe,{id:"email",name:"email",type:"email",value:c.email,onChange:j,required:!0})]}),!h&&s.jsxs("div",{children:[s.jsx(De,{htmlFor:"password",children:"Senha"}),s.jsx(Oe,{id:"password",name:"password",type:"password",value:c.password,onChange:j,required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"branch_id",children:"Filial"}),s.jsxs(zt,{value:c.branch_id,onValueChange:N,children:[s.jsx($t,{id:"branch_id",children:s.jsx(Ht,{placeholder:"Selecione a filial"})}),s.jsx(Lt,{children:r.map(T=>s.jsx(Xe,{value:T.id,children:T.name},T.id))})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>{l(!1),m(null)},disabled:d,children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:d,children:d?"Salvando...":"Salvar"})]})]})]})}),s.jsx(kA,{open:!!v,onOpenChange:T=>{T||p(null)},children:s.jsxs(fw,{children:[s.jsx(hw,{children:s.jsx(pw,{children:"Remover admin"})}),s.jsxs("div",{children:["Tem certeza que deseja remover o admin ",s.jsxs("b",{children:[v==null?void 0:v.first_name," ",v==null?void 0:v.last_name]}),"? Esta ao no pode ser desfeita."]}),s.jsxs(mw,{children:[s.jsx(OA,{disabled:g,children:"Cancelar"}),s.jsx(vw,{onClick:C,disabled:g,className:"bg-destructive text-white",children:g?"Removendo...":"Remover"})]})]})})]})};function mze(){const{branchId:e}=Kr(),{logAction:t}=mV(),r=Ni(),[n,a]=_.useState(!1),[i,o]=_.useState(null),[l,c]=_.useState(""),[u,d]=_.useState({code:"",name:"",description:"",discountType:"percentage",discountValue:"",minimumAmount:"",minimumItems:"",maxUses:"",maxUsesPerUser:"1",applicableTo:"all",validFrom:"",validUntil:"",validDays:[0,1,2,3,4,5,6],validHoursStart:"",validHoursEnd:"",firstPurchaseOnly:!1,cumulativeWithPromotions:!0,isActive:!0}),{data:f=[],isLoading:h}=it({queryKey:["coupons",e],queryFn:async()=>{if(!e)return[];const{data:S,error:E}=await Z.from("coupons").select("*").eq("branch_id",e).order("created_at",{ascending:!1});if(E)throw E;return S},enabled:!!e}),{data:m=[]}=it({queryKey:["coupon-usage",e],queryFn:async()=>{if(!e)return[];const{data:S,error:E}=await Z.from("coupon_usage").select("coupon_id").eq("branch_id",e);if(E)throw E;const C=S.reduce((T,A)=>(T[A.coupon_id]=(T[A.coupon_id]||0)+1,T),{});return Object.entries(C).map(([T,A])=>({coupon_id:T,count:A}))},enabled:!!e}),v=Wr({mutationFn:async S=>{var C;const{error:E}=await Z.from("coupons").insert({code:S.code.toUpperCase(),name:S.name,description:S.description,discount_type:S.discountType,discount_value:parseFloat(S.discountValue),minimum_amount:S.minimumAmount?parseFloat(S.minimumAmount):0,minimum_items:S.minimumItems?parseInt(S.minimumItems):0,max_uses:S.maxUses?parseInt(S.maxUses):null,max_uses_per_user:parseInt(S.maxUsesPerUser),applicable_to:S.applicableTo,valid_from:new Date(S.validFrom).toISOString(),valid_until:new Date(S.validUntil).toISOString(),valid_days:S.validDays,valid_hours_start:S.validHoursStart||null,valid_hours_end:S.validHoursEnd||null,first_purchase_only:S.firstPurchaseOnly,cumulative_with_promotions:S.cumulativeWithPromotions,is_active:S.isActive,created_by:(C=(await Z.auth.getUser()).data.user)==null?void 0:C.id,branch_id:e});if(E)throw E},onSuccess:()=>{tt({title:"Cupom criado",description:"O cupom foi criado com sucesso."}),t("create_coupon",{code:u.code,name:u.name}),a(!1),x(),r.invalidateQueries({queryKey:["coupons"]})},onError:S=>{tt({variant:"destructive",title:"Erro ao criar cupom",description:S.message||"Ocorreu um erro ao criar o cupom."})}}),p=Wr({mutationFn:async({id:S,data:E})=>{const{error:C}=await Z.from("coupons").update(E).eq("id",S);if(C)throw C},onSuccess:()=>{tt({title:"Cupom atualizado",description:"O cupom foi atualizado com sucesso."}),r.invalidateQueries({queryKey:["coupons"]})},onError:S=>{tt({variant:"destructive",title:"Erro ao atualizar cupom",description:S.message||"Ocorreu um erro ao atualizar o cupom."})}}),g=Wr({mutationFn:async S=>{const{error:E}=await Z.from("coupons").delete().eq("id",S);if(E)throw E},onSuccess:()=>{tt({title:"Cupom excludo",description:"O cupom foi excludo com sucesso."}),t("delete_coupon",{id:i==null?void 0:i.id}),r.invalidateQueries({queryKey:["coupons"]})},onError:S=>{tt({variant:"destructive",title:"Erro ao excluir cupom",description:S.message||"Ocorreu um erro ao excluir o cupom."})}}),x=()=>{d({code:"",name:"",description:"",discountType:"percentage",discountValue:"",minimumAmount:"",minimumItems:"",maxUses:"",maxUsesPerUser:"1",applicableTo:"all",validFrom:"",validUntil:"",validDays:[0,1,2,3,4,5,6],validHoursStart:"",validHoursEnd:"",firstPurchaseOnly:!1,cumulativeWithPromotions:!0,isActive:!0}),o(null)},y=S=>{if(S.preventDefault(),!u.code||!u.name||!u.discountValue||!u.validFrom||!u.validUntil){tt({variant:"destructive",title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios."});return}v.mutate(u)},w=S=>{p.mutate({id:S.id,data:{is_active:!S.is_active}}),t("toggle_coupon_status",{couponId:S.id,newStatus:!S.is_active})},b=()=>{const S="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let E="";for(let C=0;C<8;C++)E+=S.charAt(Math.floor(Math.random()*S.length));d(C=>({...C,code:E}))},j=f.filter(S=>S.code.toLowerCase().includes(l.toLowerCase())||S.name.toLowerCase().includes(l.toLowerCase())),N=S=>{const E=m.find(C=>C.coupon_id===S);return(E==null?void 0:E.count)||0};return s.jsx("div",{className:"space-y-6",children:s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(BL,{className:"h-6 w-6"}),"Sistema de Cupons"]}),s.jsxs(_n,{open:n,onOpenChange:a,children:[s.jsx(EA,{asChild:!0,children:s.jsxs(re,{onClick:()=>x(),children:[s.jsx(gl,{className:"h-4 w-4 mr-2"}),"Criar Cupom"]})}),s.jsxs(un,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsx(dn,{children:"Criar Novo Cupom"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"code",children:"Cdigo do Cupom *"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{id:"code",value:u.code,onChange:S=>d(E=>({...E,code:S.target.value.toUpperCase()})),placeholder:"DESCONTO10",required:!0}),s.jsx(re,{type:"button",variant:"outline",onClick:b,children:"Gerar"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"name",children:"Nome do Cupom *"}),s.jsx(Oe,{id:"name",value:u.name,onChange:S=>d(E=>({...E,name:S.target.value})),placeholder:"Desconto de 10%",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"description",children:"Descrio"}),s.jsx(bl,{id:"description",value:u.description,onChange:S=>d(E=>({...E,description:S.target.value})),placeholder:"Descrio do cupom..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"discountType",children:"Tipo de Desconto *"}),s.jsxs(zt,{value:u.discountType,onValueChange:S=>d(E=>({...E,discountType:S})),children:[s.jsx($t,{children:s.jsx(Ht,{})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"percentage",children:"Percentual (%)"}),s.jsx(Xe,{value:"fixed",children:"Valor Fixo (R$)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{htmlFor:"discountValue",children:["Valor do Desconto * ",u.discountType==="percentage"?"(%)":"(R$)"]}),s.jsx(Oe,{id:"discountValue",type:"number",step:"0.01",value:u.discountValue,onChange:S=>d(E=>({...E,discountValue:S.target.value})),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"validFrom",children:"Vlido De *"}),s.jsx(Oe,{id:"validFrom",type:"datetime-local",value:u.validFrom,onChange:S=>d(E=>({...E,validFrom:S.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"validUntil",children:"Vlido At *"}),s.jsx(Oe,{id:"validUntil",type:"datetime-local",value:u.validUntil,onChange:S=>d(E=>({...E,validUntil:S.target.value})),required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"minimumAmount",children:"Valor Mnimo (R$)"}),s.jsx(Oe,{id:"minimumAmount",type:"number",step:"0.01",value:u.minimumAmount,onChange:S=>d(E=>({...E,minimumAmount:S.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"maxUses",children:"Usos Totais"}),s.jsx(Oe,{id:"maxUses",type:"number",value:u.maxUses,onChange:S=>d(E=>({...E,maxUses:S.target.value})),placeholder:"Ilimitado"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"maxUsesPerUser",children:"Usos por Usurio"}),s.jsx(Oe,{id:"maxUsesPerUser",type:"number",value:u.maxUsesPerUser,onChange:S=>d(E=>({...E,maxUsesPerUser:S.target.value})),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"applicableTo",children:"Aplicvel a"}),s.jsxs(zt,{value:u.applicableTo,onValueChange:S=>d(E=>({...E,applicableTo:S})),children:[s.jsx($t,{children:s.jsx(Ht,{})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todos os itens"}),s.jsx(Xe,{value:"rooms",children:"Apenas salas"}),s.jsx(Xe,{value:"equipment",children:"Apenas equipamentos"}),s.jsx(Xe,{value:"products",children:"Apenas produtos"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zn,{id:"firstPurchaseOnly",checked:u.firstPurchaseOnly,onCheckedChange:S=>d(E=>({...E,firstPurchaseOnly:S}))}),s.jsx(De,{htmlFor:"firstPurchaseOnly",children:"Apenas primeira compra"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zn,{id:"isActive",checked:u.isActive,onCheckedChange:S=>d(E=>({...E,isActive:S}))}),s.jsx(De,{htmlFor:"isActive",children:"Ativo"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:v.isPending,children:v.isPending?"Criando...":"Criar Cupom"})]})]})]})]})]})}),s.jsxs(me,{children:[s.jsx("div",{className:"mb-6",children:s.jsx(Oe,{placeholder:"Buscar cupons por cdigo ou nome...",value:l,onChange:S=>c(S.target.value),className:"max-w-md"})}),s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Cdigo"}),s.jsx(Ae,{children:"Nome"}),s.jsx(Ae,{children:"Desconto"}),s.jsx(Ae,{children:"Vlido At"}),s.jsx(Ae,{children:"Usos"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsx(Ma,{children:j.map(S=>s.jsxs(Bt,{children:[s.jsx(je,{children:s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:S.code})}),s.jsx(je,{children:S.name}),s.jsx(je,{children:S.discount_type==="percentage"?`${S.discount_value}%`:`R$ ${S.discount_value.toFixed(2)}`}),s.jsx(je,{children:We(new Date(S.valid_until),"dd/MM/yyyy HH:mm")}),s.jsxs(je,{children:[String(N(S.id)),S.max_uses?`/${S.max_uses}`:""]}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{variant:S.is_active?"default":"secondary",children:S.is_active?"Ativo":"Inativo"}),new Date(S.valid_until)<new Date&&s.jsx(Re,{variant:"destructive",children:"Expirado"})]})}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>w(S),children:S.is_active?"Desativar":"Ativar"}),s.jsx(re,{variant:"destructive",size:"sm",onClick:()=>{window.confirm("Tem certeza que deseja excluir este cupom?")&&(o(S),g.mutate(S.id))},children:s.jsx(dm,{className:"h-4 w-4"})})]})})]},S.id))})]}),j.length===0&&!h&&s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum cupom encontrado."})]})]})})}const pze=()=>{const{branchId:e}=Kr(),{toast:t}=Pr(),r=Ni(),[n,a]=_.useState(""),[i,o]=_.useState("all"),[l,c]=_.useState("all");_.useState(!1),_.useState(null);const[u,d]=_.useState(null),[f,h]=_.useState(!1);_.useState({name:"",description:"",quantity:0,min_stock:0,unit_price:0,category:"",supplier:""});const[m,v]=_.useState({type:"in",quantity:0,reason:""}),{data:p,isLoading:g}=it({queryKey:["inventory",e,n,i,l],queryFn:async()=>{if(!e)return[];let j=Z.from("products").select("*").eq("branch_id",e);n&&(j=j.ilike("name",`%${n}%`));const{data:N,error:S}=await j.order("name");if(S)throw S;let E=N||[];return l==="low"?E=E.filter(C=>C.quantity<=5):l==="out"&&(E=E.filter(C=>C.quantity===0)),E.map(C=>({id:C.id,name:C.name,description:C.description||"",quantity:C.quantity,min_stock:5,unit_price:C.price,category:"Geral",last_updated:C.updated_at,supplier:""}))},enabled:!!e});it({queryKey:["stock-movements",u==null?void 0:u.id],queryFn:async()=>u?[{id:"1",item_id:u.id,type:"in",quantity:10,reason:"Compra inicial",created_at:new Date().toISOString(),created_by:"Admin"}]:[],enabled:!!u});const x=Wr({mutationFn:async({itemId:j,newQuantity:N})=>{const{error:S}=await Z.from("products").update({quantity:N}).eq("id",j);if(S)throw S},onSuccess:()=>{r.invalidateQueries({queryKey:["inventory",e]}),h(!1),v({type:"in",quantity:0,reason:""}),t({title:"Estoque atualizado",description:"A quantidade em estoque foi atualizada com sucesso."})},onError:j=>{t({title:"Erro",description:j.message,variant:"destructive"})}}),y=()=>{if(!u)return;let j=u.quantity;switch(m.type){case"in":j+=m.quantity;break;case"out":j-=m.quantity;break;case"adjustment":j=m.quantity;break}if(j<0){t({title:"Erro",description:"Quantidade no pode ser negativa.",variant:"destructive"});return}x.mutate({itemId:u.id,newQuantity:j})},w=j=>j.quantity===0?{label:"Sem estoque",color:"bg-red-100 text-red-800",icon:_a}:j.quantity<=j.min_stock?{label:"Estoque baixo",color:"bg-yellow-100 text-yellow-800",icon:F4}:{label:"Em estoque",color:"bg-green-100 text-green-800",icon:Ec},b=p?{totalItems:p.length,lowStockItems:p.filter(j=>j.quantity<=j.min_stock).length,outOfStockItems:p.filter(j=>j.quantity===0).length,totalValue:p.reduce((j,N)=>j+N.quantity*N.unit_price,0)}:{totalItems:0,lowStockItems:0,outOfStockItems:0,totalValue:0};return e?s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[s.jsx("div",{className:"flex justify-between items-start mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gesto de Inventrio"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Controle de estoque e movimentaes"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Itens"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.totalItems})]}),s.jsx(Vi,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Estoque Baixo"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:b.lowStockItems})]}),s.jsx(F4,{className:"h-8 w-8 text-yellow-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sem Estoque"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:b.outOfStockItems})]}),s.jsx(_a,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valor Total"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["R$ ",b.totalValue.toFixed(2)]})]}),s.jsx(Ec,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsx(de,{className:"mb-8",children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(xl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Oe,{placeholder:"Buscar produtos...",value:n,onChange:j=>a(j.target.value),className:"pl-10"})]})}),s.jsxs(zt,{value:l,onValueChange:c,children:[s.jsx($t,{className:"w-48",children:s.jsx(Ht,{placeholder:"Filtrar por estoque"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todos os itens"}),s.jsx(Xe,{value:"low",children:"Estoque baixo"}),s.jsx(Xe,{value:"out",children:"Sem estoque"})]})]})]})})}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Produtos em Estoque"})}),s.jsx(me,{children:g?s.jsx("div",{className:"text-center py-8",children:"Carregando inventrio..."}):(p==null?void 0:p.length)===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vi,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto encontrado"}),s.jsx("p",{className:"text-gray-500",children:"Adicione produtos para comear a controlar o estoque."})]}):s.jsx("div",{className:"space-y-4",children:p==null?void 0:p.map(j=>{const N=w(j),S=N.icon;return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:s.jsx(Vi,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:j.name}),s.jsx("p",{className:"text-sm text-gray-500",children:j.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs(Re,{className:N.color,children:[s.jsx(S,{className:"h-3 w-3 mr-1"}),N.label]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Categoria: ",j.category]})]})]})]}),s.jsxs("div",{className:"text-right mr-4",children:[s.jsx("p",{className:"text-lg font-bold text-gray-900",children:j.quantity}),s.jsx("p",{className:"text-sm text-gray-500",children:"unidades"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["R$ ",j.unit_price.toFixed(2),"/un"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>{d(j),h(!0)},children:s.jsx(FT,{className:"h-4 w-4"})}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>{d(j)},children:s.jsx(oN,{className:"h-4 w-4"})})]})]},j.id)})})})]}),s.jsx(_n,{open:f,onOpenChange:h,children:s.jsxs(un,{children:[s.jsxs(In,{children:[s.jsx(dn,{children:"Movimentar Estoque"}),s.jsxs(Kc,{children:[u==null?void 0:u.name," - Estoque atual: ",u==null?void 0:u.quantity," unidades"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(De,{htmlFor:"movement-type",children:"Tipo de Movimentao"}),s.jsxs(zt,{value:m.type,onValueChange:j=>v(N=>({...N,type:j})),children:[s.jsx($t,{children:s.jsx(Ht,{})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"in",children:"Entrada"}),s.jsx(Xe,{value:"out",children:"Sada"}),s.jsx(Xe,{value:"adjustment",children:"Ajuste"})]})]})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"quantity",children:m.type==="adjustment"?"Nova Quantidade":"Quantidade"}),s.jsx(Oe,{id:"quantity",type:"number",value:m.quantity,onChange:j=>v(N=>({...N,quantity:parseInt(j.target.value)||0})),min:"0"})]}),s.jsxs("div",{children:[s.jsx(De,{htmlFor:"reason",children:"Motivo"}),s.jsx(Oe,{id:"reason",value:m.reason,onChange:j=>v(N=>({...N,reason:j.target.value})),placeholder:"Ex: Compra, Venda, Correo de inventrio..."})]})]}),s.jsxs(eg,{children:[s.jsx(re,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),s.jsx(re,{onClick:y,disabled:x.isPending||!m.reason,children:x.isPending?"Salvando...":"Confirmar Movimentao"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("p",{className:"text-gray-500",children:"Selecione uma filial para visualizar o inventrio"})})},vze=({orderId:e,paymentMethod:t,status:r,onRefundSuccess:n,size:a="sm",variant:i="outline",className:o=""})=>{const[l,c]=_.useState(!1),[u,d]=_.useState(""),[f,h]=_.useState(!1),m=()=>!(r!=="paid"||!t||!["pix","cartao","card"].includes(t.toLowerCase())),v=async()=>{if(!m()){tt({title:"Estorno no disponvel",description:"Este pagamento no pode ser estornado automaticamente.",variant:"destructive"});return}c(!0);try{const{data:p,error:g}=await Z.functions.invoke("payment-refund",{body:{orderId:e,reason:u.trim()||"Estorno solicitado pelo administrador"}});if(g)throw new Error(g.message||"Erro ao processar estorno");if(p.success)tt({title:"Estorno processado",description:p.message||"O estorno foi processado com sucesso."}),n&&n();else throw new Error(p.message||"Falha no processamento do estorno")}catch(p){console.error("Erro no estorno:",p),tt({title:"Erro no estorno",description:p.message||"Ocorreu um erro ao processar o estorno.",variant:"destructive"})}finally{c(!1),h(!1),d("")}};return m()?s.jsxs(kA,{open:f,onOpenChange:h,children:[s.jsx(wde,{asChild:!0,children:s.jsxs(re,{variant:i,size:a,className:`text-red-600 hover:text-red-700 ${o}`,disabled:l,children:[l?s.jsx(lN,{className:"h-3 w-3 mr-1 animate-spin"}):s.jsx(FL,{className:"h-3 w-3 mr-1"}),l?"Processando...":"Estornar"]})}),s.jsxs(fw,{children:[s.jsxs(hw,{children:[s.jsx(pw,{children:"Confirmar Estorno"}),s.jsxs(PA,{children:["Tem certeza que deseja estornar este pagamento? Esta ao no pode ser desfeita.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"Mtodo de pagamento:"})," ",t==null?void 0:t.toUpperCase(),s.jsx("br",{}),s.jsx("strong",{children:"ID do pedido:"})," ",e]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"refund-reason",children:"Motivo do estorno (opcional)"}),s.jsx(bl,{id:"refund-reason",placeholder:"Digite o motivo do estorno...",value:u,onChange:p=>d(p.target.value),className:"min-h-[80px]"})]}),s.jsxs(mw,{children:[s.jsx(OA,{disabled:l,children:"Cancelar"}),s.jsx(vw,{onClick:v,disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?s.jsxs(s.Fragment,{children:[s.jsx(lN,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Confirmar Estorno"})]})]})]}):null},gze=({order:e,open:t,onOpenChange:r})=>{var i,o,l;const n=(c,u)=>{if(u==="completed")return s.jsx(Re,{variant:"destructive",children:"Estornado"});if(u==="processing")return s.jsx(Re,{variant:"secondary",children:"Processando Estorno"});if(u==="partial")return s.jsx(Re,{variant:"outline",children:"Parcialmente Devolvido"});switch(c){case"paid":return s.jsx(Re,{variant:"default",children:"Pago"});case"pending":return s.jsx(Re,{variant:"secondary",children:"Pendente"});case"cancelled":return s.jsx(Re,{variant:"destructive",children:"Cancelado"});default:return s.jsx(Re,{variant:"outline",children:c})}},a=c=>{switch(c){case"pix":return"PIX";case"cartao":return"Carto de Crdito";case"boleto":return"Boleto";default:return c}};return s.jsx(_n,{open:t,onOpenChange:r,children:s.jsxs(un,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(In,{children:s.jsxs(dn,{className:"flex items-center gap-2",children:["Detalhes do Pedido #",e.id.slice(0,8),n(e.status,e.refund_status)]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Informaes Gerais"})}),s.jsxs(me,{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Data do Pedido:"}),s.jsx("div",{children:We(new Date(e.created_at),"dd/MM/yyyy 's' HH:mm",{locale:ir})})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Cliente:"}),s.jsxs("div",{children:[(i=e.profiles)==null?void 0:i.first_name," ",(o=e.profiles)==null?void 0:o.last_name]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(l=e.profiles)==null?void 0:l.email})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mtodo de Pagamento:"}),s.jsx("div",{children:a(e.payment_method||"")})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Valor Total:"}),s.jsx("div",{className:"text-lg font-semibold",children:st(e.total_amount)})]})]})]}),e.bookings&&e.bookings.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{children:["Reservas de Salas (",e.bookings.length,")"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-3",children:e.bookings.map(c=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:c.room.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[We(new Date(c.start_time),"dd/MM/yyyy HH:mm",{locale:ir})," ","at"," ",We(new Date(c.end_time),"dd/MM/yyyy HH:mm",{locale:ir})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-medium",children:st(c.total_price)})})]})},c.id))})})]}),e.booking_equipment&&e.booking_equipment.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{children:["Reservas de Equipamentos (",e.booking_equipment.length,")"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-3",children:e.booking_equipment.map(c=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:c.equipment.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Quantidade: ",c.quantity]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[We(new Date(c.start_time),"dd/MM/yyyy HH:mm",{locale:ir})," ","at"," ",We(new Date(c.end_time),"dd/MM/yyyy HH:mm",{locale:ir})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-medium",children:st(c.total_price)})})]})},c.id))})})]}),e.order_items&&e.order_items.length>0&&s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{children:["Produtos (",e.order_items.length,")"]})}),s.jsx(me,{children:s.jsx("div",{className:"space-y-3",children:e.order_items.map(c=>s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:c.product.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Quantidade: ",c.quantity]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Preo unitrio: ",st(c.price_per_unit)]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-medium",children:st(c.quantity*c.price_per_unit)})})]})},c.id))})})]}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsx($e,{children:"Nota Fiscal"})}),s.jsx(me,{children:s.jsx(__,{recordId:e.id,recordType:"order",currentInvoiceUrl:e.invoice_url})})]})]})]})})},xze=({clientSearch:e,setClientSearch:t,orderIdSearch:r,setOrderIdSearch:n,statusFilter:a,setStatusFilter:i,paymentMethodFilter:o,setPaymentMethodFilter:l,dateFilter:c,setDateFilter:u,onClearFilters:d})=>s.jsxs("div",{className:"bg-card border rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Filtros"}),s.jsxs(re,{variant:"outline",size:"sm",onClick:d,children:[s.jsx(Vn,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Cliente"}),s.jsx(Oe,{placeholder:"Nome ou email...",value:e,onChange:f=>t(f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"ID do Pedido"}),s.jsx(Oe,{placeholder:"ID do pedido...",value:r,onChange:f=>n(f.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Status"}),s.jsxs(zt,{value:a,onValueChange:i,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Todos os status"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todos os status"}),s.jsx(Xe,{value:"paid",children:"Pago"}),s.jsx(Xe,{value:"pending",children:"Pendente"}),s.jsx(Xe,{value:"cancelled",children:"Cancelado"}),s.jsx(Xe,{value:"processing",children:"Processando"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Forma de Pagamento"}),s.jsxs(zt,{value:o,onValueChange:l,children:[s.jsx($t,{children:s.jsx(Ht,{placeholder:"Todas as formas"})}),s.jsxs(Lt,{children:[s.jsx(Xe,{value:"all",children:"Todas as formas"}),s.jsx(Xe,{value:"pix",children:"PIX"}),s.jsx(Xe,{value:"cartao",children:"Carto de Crdito"}),s.jsx(Xe,{value:"boleto",children:"Boleto"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Data"}),s.jsxs(gA,{children:[s.jsx(xA,{asChild:!0,children:s.jsxs(re,{variant:"outline",className:xe("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[s.jsx(Ir,{className:"mr-2 h-4 w-4"}),c?We(c,"dd/MM/yyyy",{locale:ir}):"Selecionar data"]})}),s.jsx(iw,{className:"w-auto p-0",align:"start",children:s.jsx(Hc,{mode:"single",selected:c||void 0,onSelect:f=>u(f||null),initialFocus:!0,locale:ir})})]})]})]})]}),yze=()=>{const[e,t]=_.useState(null),[r,n]=_.useState(!1),[a,i]=_.useState(""),[o,l]=_.useState(""),[c,u]=_.useState("all"),[d,f]=_.useState("all"),[h,m]=_.useState(null),{data:v=[],isLoading:p,error:g,refetch:x}=it({queryKey:["admin-orders"],queryFn:async()=>{console.log(" Fazendo consulta de pedidos...");const{data:T,error:A}=await Z.from("orders").select(`
          *,
          order_items(
            *,
            product:products(name, price)
          ),
          bookings(
            *,
            room:rooms(name)
          ),
          booking_equipment(
            *,
            equipment:equipment(name)
          ),
          profiles!fk_orders_profiles(first_name, last_name, email)
        `).order("created_at",{ascending:!1});if(A)throw console.error(" Erro ao buscar pedidos:",A),A;return console.log(" Pedidos carregados:",(T==null?void 0:T.length)||0,"pedidos"),console.log(" Dados completos:",T),T},refetchInterval:3e4}),y=(T,A)=>{if(A==="completed")return s.jsx(Re,{variant:"destructive",children:"Estornado"});if(A==="processing")return s.jsx(Re,{variant:"secondary",children:"Processando Estorno"});if(A==="partial")return s.jsx(Re,{variant:"outline",children:"Parcialmente Devolvido"});switch(T){case"paid":return s.jsx(Re,{variant:"default",children:"Pago"});case"pending":return s.jsx(Re,{variant:"secondary",children:"Pendente"});case"cancelled":return s.jsx(Re,{variant:"destructive",children:"Cancelado"});default:return s.jsx(Re,{variant:"outline",children:T})}},w=T=>{switch(T){case"pix":return"PIX";case"cartao":return"Carto de Crdito";case"boleto":return"Boleto";default:return T}},b=T=>{var k,P,L;const A=[];return((k=T.bookings)==null?void 0:k.length)>0&&A.push(`${T.bookings.length} sala(s)`),((P=T.booking_equipment)==null?void 0:P.length)>0&&A.push(`${T.booking_equipment.length} equipamento(s)`),((L=T.order_items)==null?void 0:L.length)>0&&A.push(`${T.order_items.length} produto(s)`),A.join(", ")||"Nenhum item"},j=T=>T.status==="paid"&&!T.refund_status,N=()=>{x()},S=T=>{t(T),n(!0)},E=()=>{i(""),l(""),u("all"),f("all"),m(null)},C=_.useMemo(()=>v?v.filter(T=>{var A,k,P,L;if(a){const B=`${((A=T.profiles)==null?void 0:A.first_name)||""} ${((k=T.profiles)==null?void 0:k.last_name)||""}`.toLowerCase(),M=((L=(P=T.profiles)==null?void 0:P.email)==null?void 0:L.toLowerCase())||"",D=a.toLowerCase();if(!B.includes(D)&&!M.includes(D))return!1}return!(o&&!T.id.toLowerCase().includes(o.toLowerCase())||c!=="all"&&T.status!==c||d!=="all"&&T.payment_method!==d||h&&!ja(new Date(T.created_at),h))}):[],[v,a,o,c,d,h]);return p?s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Carregando pedidos..."})})}):g?(console.error(" Erro na renderizao da tabela:",g),s.jsx(de,{children:s.jsx(me,{className:"p-6",children:s.jsxs("div",{className:"text-center text-red-600",children:[s.jsx("p",{children:"Erro ao carregar pedidos:"}),s.jsx("p",{className:"text-sm mt-2",children:g.message})]})})})):s.jsxs(s.Fragment,{children:[s.jsx(xze,{clientSearch:a,setClientSearch:i,orderIdSearch:o,setOrderIdSearch:l,statusFilter:c,setStatusFilter:u,paymentMethodFilter:d,setPaymentMethodFilter:f,dateFilter:h,setDateFilter:m,onClearFilters:E}),s.jsxs(de,{children:[s.jsx(Se,{children:s.jsxs($e,{children:["Todos os Pedidos",C.length!==v.length&&s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",C.length," de ",v.length,")"]})]})}),s.jsx(me,{children:s.jsxs(Da,{children:[s.jsx(Ra,{children:s.jsxs(Bt,{children:[s.jsx(Ae,{children:"Data"}),s.jsx(Ae,{children:"Cliente"}),s.jsx(Ae,{children:"Itens"}),s.jsx(Ae,{children:"Valor Total"}),s.jsx(Ae,{children:"Pagamento"}),s.jsx(Ae,{children:"Status"}),s.jsx(Ae,{children:"Aes"})]})}),s.jsxs(Ma,{children:[C.map(T=>{var A,k,P;return s.jsxs(Bt,{children:[s.jsx(je,{children:We(new Date(T.created_at),"dd/MM/yyyy HH:mm",{locale:ir})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[(A=T.profiles)==null?void 0:A.first_name," ",(k=T.profiles)==null?void 0:k.last_name]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:(P=T.profiles)==null?void 0:P.email})]})}),s.jsx(je,{children:s.jsx("div",{className:"text-sm",children:b(T)})}),s.jsx(je,{className:"font-medium",children:st(T.total_amount)}),s.jsx(je,{children:w(T.payment_method||"")}),s.jsx(je,{children:y(T.status,T.refund_status)}),s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>S(T),children:s.jsx(zi,{className:"h-4 w-4"})}),j(T)&&s.jsx(vze,{orderId:T.id,paymentMethod:T.payment_method,status:T.status,onRefundSuccess:N,size:"sm"})]})})]},T.id)}),C.length===0&&s.jsx(Bt,{children:s.jsx(je,{colSpan:7,className:"text-center py-8",children:v.length===0?"Nenhum pedido encontrado":"Nenhum pedido corresponde aos filtros"})})]})]})})]}),e&&s.jsx(gze,{order:e,open:r,onOpenChange:n})]})},bze=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(fm,{title:"Pedidos Completos",description:"Gerencie todos os pedidos com viso unificada de salas, equipamentos e produtos"}),s.jsx(yze,{})]}),wze=()=>s.jsxs(C5,{children:[s.jsx(mt,{index:!0,element:s.jsx(RI,{})}),s.jsx(mt,{path:"dashboard",element:s.jsx(RI,{})}),s.jsx(mt,{path:"rooms",element:s.jsx(xFe,{})}),s.jsx(mt,{path:"rooms/new",element:s.jsx(II,{})}),s.jsx(mt,{path:"rooms/:id",element:s.jsx(II,{})}),s.jsx(mt,{path:"equipment",element:s.jsx(kFe,{})}),s.jsx(mt,{path:"equipment/new",element:s.jsx(FI,{})}),s.jsx(mt,{path:"equipment/:id",element:s.jsx(FI,{})}),s.jsx(mt,{path:"bookings",element:s.jsx(S7e,{})}),s.jsx(mt,{path:"users",element:s.jsx(N7e,{})}),s.jsx(mt,{path:"logs",element:s.jsx(E7e,{})}),s.jsx(mt,{path:"today-reservations",element:s.jsx(C7e,{})}),s.jsx(mt,{path:"equipment-bookings",element:s.jsx(O7e,{})}),s.jsx(mt,{path:"company-profile",element:s.jsx(D7e,{})}),s.jsx(mt,{path:"payment-settings",element:s.jsx(L7e,{})}),s.jsx(mt,{path:"products",element:s.jsx(U7e,{})}),s.jsx(mt,{path:"product-sales",element:s.jsx(Y7e,{})}),s.jsx(mt,{path:"orders",element:s.jsx(bze,{})}),s.jsx(mt,{path:"change-history",element:s.jsx(nze,{})}),s.jsx(mt,{path:"notifications",element:s.jsx(aze,{})}),s.jsx(mt,{path:"security-audit",element:s.jsx(sze,{})}),s.jsx(mt,{path:"security-permissions",element:s.jsx(lze,{})}),s.jsx(mt,{path:"financial-reports",element:s.jsx(cze,{})}),s.jsx(mt,{path:"branches",element:s.jsx(uze,{})}),s.jsx(mt,{path:"clients",element:s.jsx(fze,{})}),s.jsx(mt,{path:"admins",element:s.jsx(hze,{})}),s.jsx(mt,{path:"coupons",element:s.jsx(mze,{})}),s.jsx(mt,{path:"inventory",element:s.jsx(pze,{})})]}),_ze=()=>{const{orderId:e}=nm(),t=Mn(),{toast:r}=Pr(),[n,a]=_.useState(!0),[i,o]=_.useState(null),[l,c]=_.useState(null),[u,d]=_.useState(!1);_.useEffect(()=>{if(!e){t("/");return}f()},[e,t]);const f=async()=>{try{a(!0);const{data:m,error:v}=await Z.from("orders").select("*").eq("id",e).single();if(v){console.error("Erro ao buscar pedido:",v),r({title:"Erro",description:"Pedido no encontrado",variant:"destructive"}),t("/");return}const{data:p,error:g}=await Z.from("payment_details").select("*").eq("order_id",e).single();if(g){console.error("Erro ao buscar detalhes do pagamento:",g),r({title:"Erro",description:"Detalhes do pagamento no encontrados",variant:"destructive"}),t("/");return}if(c(m),o(p),m.expires_at){const x=new Date(m.expires_at);d(new Date>x)}}catch(m){console.error("Erro ao buscar dados:",m),r({title:"Erro",description:"Erro ao carregar dados do pagamento",variant:"destructive"}),t("/")}finally{a(!1)}},h=m=>{navigator.clipboard.writeText(m),r({title:"Copiado!",description:"Cdigo copiado para a rea de transferncia."})};return n?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Carregando dados do pagamento..."})]})})}):!i||!l?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zu,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dados de pagamento no encontrados"}),s.jsx(re,{asChild:!0,children:s.jsx(wt,{to:"/my-bookings",children:"Voltar aos meus pedidos"})})]})})}):l.status==="paid"?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ss,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Pagamento j processado"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Este pedido j foi pago e processado."}),s.jsx(re,{asChild:!0,children:s.jsx(wt,{to:"/my-bookings",children:"Voltar aos meus pedidos"})})]})})}):u?s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zu,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Pagamento expirado"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"O prazo para pagamento deste pedido expirou."}),s.jsx(re,{asChild:!0,children:s.jsx(wt,{to:"/my-bookings",children:"Voltar aos meus pedidos"})})]})})}):s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[i.payment_method==="pix"&&s.jsx(sU,{qrCodeImage:i.pix_qr_code,pixCode:i.pix_code,reference:l.external_identifier,orderId:e}),i.payment_method==="boleto"&&s.jsxs(de,{children:[s.jsxs(Se,{className:"text-center",children:[s.jsx(Hi,{className:"mx-auto h-16 w-16 text-orange-500 mb-4"}),s.jsx($e,{children:"Pagamento via Boleto"}),s.jsx("p",{className:"text-muted-foreground",children:"Use a linha digitvel para pagar o boleto"})]}),s.jsxs(me,{className:"space-y-4",children:[i.boleto_barcode&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Cdigo de Barras:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:i.boleto_barcode,readOnly:!0,className:"flex-1 p-2 text-xs border rounded bg-muted font-mono"}),s.jsx(re,{size:"sm",onClick:()=>h(i.boleto_barcode),children:s.jsx(Hb,{className:"h-4 w-4"})})]})]}),i.boleto_url&&s.jsx(re,{asChild:!0,className:"w-full",children:s.jsx("a",{href:i.boleto_url,target:"_blank",rel:"noopener noreferrer",children:"Baixar Boleto PDF"})}),i.boleto_due_date&&s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Vencimento:"})," ",new Date(i.boleto_due_date).toLocaleDateString("pt-BR")]})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"Pague o boleto em qualquer banco, lotrica ou internet banking."}),s.jsxs("p",{className:"mt-2",children:["Pedido: ",e]}),s.jsxs("p",{children:["Valor: R$ ",l.total_amount.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"mt-6 flex flex-col space-y-3",children:[s.jsx(re,{asChild:!0,variant:"outline",children:s.jsx(wt,{to:"/my-bookings",children:"Ver meus pedidos"})}),s.jsx(re,{asChild:!0,variant:"outline",children:s.jsx(wt,{to:"/",children:"Voltar para a pgina inicial"})})]})]})})})},jze=e=>{switch(e){case"card":return s.jsx(As,{className:"h-8 w-8 text-destructive"});case"pix":return s.jsx(Ju,{className:"h-8 w-8 text-destructive"});case"boleto":return s.jsx(Hi,{className:"h-8 w-8 text-destructive"});default:return s.jsx(_a,{className:"h-8 w-8 text-destructive"})}},Sze=e=>{switch(e){case"card":return"border-l-blue-500";case"pix":return"border-l-green-500";case"boleto":return"border-l-orange-500";default:return"border-l-destructive"}},Nze=({error:e,onRetry:t,onChangeMethod:r,onGoBack:n})=>s.jsxs(de,{className:`border-l-4 ${Sze(e.type)} shadow-lg`,children:[s.jsxs(Se,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:jze(e.type)}),s.jsx($e,{className:"text-xl text-destructive mb-2",children:e.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:e.message})]}),s.jsxs(me,{className:"space-y-4",children:[e.suggestion&&s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:" Sugesto:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.suggestion})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[e.canRetry&&t&&s.jsxs(re,{onClick:t,className:"w-full",children:[s.jsx(Dy,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]}),e.showChangeMethod&&r&&s.jsx(re,{onClick:r,variant:"outline",className:"w-full",children:"Escolher Outro Mtodo"}),n&&s.jsxs(re,{onClick:n,variant:"ghost",className:"w-full",children:[s.jsx(DT,{className:"h-4 w-4 mr-2"}),"Voltar ao Carrinho"]})]})]})]}),Eze=(e,t)=>{const r=(e==null?void 0:e.message)||(e==null?void 0:e.error)||"Erro desconhecido";return e!=null&&e.code||(e==null||e.error_code),t==="cartao"?r.includes("insufficient_funds")||r.includes("saldo insuficiente")?{type:"card",code:"insufficient_funds",title:"Saldo Insuficiente",message:"O carto no possui saldo suficiente para esta transao.",suggestion:"Verifique o limite do seu carto ou tente outro carto de crdito.",canRetry:!1,showChangeMethod:!0}:r.includes("card_declined")||r.includes("carto recusado")?{type:"card",code:"card_declined",title:"Carto Recusado",message:"A operadora do carto recusou a transao.",suggestion:"Entre em contato com seu banco ou tente outro carto.",canRetry:!1,showChangeMethod:!0}:r.includes("invalid_cvv")||r.includes("cvv invlido")?{type:"card",code:"invalid_cvv",title:"CVV Invlido",message:"O cdigo de segurana (CVV) informado est incorreto.",suggestion:"Verifique o cdigo de 3 dgitos no verso do carto.",canRetry:!0,showChangeMethod:!1}:r.includes("expired_card")||r.includes("carto vencido")?{type:"card",code:"expired_card",title:"Carto Vencido",message:"O carto informado est vencido.",suggestion:"Use um carto vlido ou escolha outro mtodo de pagamento.",canRetry:!1,showChangeMethod:!0}:r.includes("invalid_card")||r.includes("nmero invlido")?{type:"card",code:"invalid_card",title:"Nmero do Carto Invlido",message:"O nmero do carto informado  invlido.",suggestion:"Verifique se digitou o nmero corretamente.",canRetry:!0,showChangeMethod:!1}:{type:"card",code:"card_error",title:"Erro no Carto de Crdito",message:r,suggestion:"Verifique os dados do carto ou tente outro mtodo de pagamento.",canRetry:!0,showChangeMethod:!0}:t==="pix"?r.includes("PIX_UNAVAILABLE")||r.includes("pix indisponvel")?{type:"pix",code:"pix_unavailable",title:"PIX Temporariamente Indisponvel",message:"O servio PIX est instvel no momento.",suggestion:"Tente novamente em alguns minutos ou use carto de crdito/boleto.",canRetry:!0,showChangeMethod:!0}:r.includes("pix_expired")||r.includes("expirado")?{type:"pix",code:"pix_expired",title:"PIX Expirado",message:"O cdigo PIX expirou e no pode mais ser usado.",suggestion:"Gere um novo cdigo PIX ou escolha outro mtodo de pagamento.",canRetry:!0,showChangeMethod:!0}:r.includes("pix_limit")||r.includes("limite")?{type:"pix",code:"pix_limit",title:"Limite PIX Excedido",message:"O valor excede o limite dirio para transaes PIX.",suggestion:"Tente dividir o pagamento ou use carto de crdito.",canRetry:!1,showChangeMethod:!0}:{type:"pix",code:"pix_error",title:"Erro no Pagamento PIX",message:r,suggestion:"Tente gerar um novo cdigo PIX ou escolha outro mtodo.",canRetry:!0,showChangeMethod:!0}:t==="boleto"?r.includes("valor mnimo")?{type:"boleto",code:"minimum_value",title:"Valor Mnimo No Atingido",message:"O valor mnimo para boleto  R$ 30,00.",suggestion:"Adicione mais itens ao carrinho ou escolha PIX/carto.",canRetry:!1,showChangeMethod:!0}:r.includes("boleto_generation_failed")?{type:"boleto",code:"generation_failed",title:"Erro na Gerao do Boleto",message:"No foi possvel gerar o boleto no momento.",suggestion:"Tente novamente ou escolha outro mtodo de pagamento.",canRetry:!0,showChangeMethod:!0}:{type:"boleto",code:"boleto_error",title:"Erro no Boleto",message:r,suggestion:"Tente gerar novamente ou escolha outro mtodo.",canRetry:!0,showChangeMethod:!0}:r.includes("503")||r.includes("timeout")||r.includes("network")?{type:"general",code:"connectivity",title:"Problema de Conexo",message:"No foi possvel conectar com o servio de pagamento.",suggestion:"Verifique sua conexo com a internet e tente novamente.",canRetry:!0,showChangeMethod:!1}:{type:"general",code:"unknown",title:"Erro no Pagamento",message:r,suggestion:"Tente novamente ou entre em contato com o suporte.",canRetry:!0,showChangeMethod:!0}},Cze=()=>{const e=Qi(),t=Mn(),{error:r,paymentMethod:n,canRetry:a=!0}=e.state||{},i=r?Eze(r,n||"general"):{type:"general",title:"Erro no Pagamento",message:"Ocorreu um erro durante o processamento do pagamento.",suggestion:"Tente novamente ou escolha outro mtodo de pagamento.",canRetry:!0,showChangeMethod:!0},o=()=>{t("/checkout")},l=()=>{t("/checkout",{state:{scrollToPaymentMethod:!0}})},c=()=>{t("/cart")};return s.jsx(Er,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/30 flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsx(Nze,{error:i,onRetry:a?o:void 0,onChangeMethod:l,onGoBack:c})})})})};function Tze(){return s.jsx(s.Fragment,{children:s.jsxs(C5,{children:[s.jsx(mt,{path:"/",element:s.jsx(Tre,{})}),s.jsx(mt,{path:"/login",element:s.jsx(Are,{})}),s.jsx(mt,{path:"/register",element:s.jsx(Pre,{})}),s.jsx(mt,{path:"/profile",element:s.jsx(gae,{})}),s.jsx(mt,{path:"/rooms",element:s.jsx(efe,{})}),s.jsx(mt,{path:"/room/:id",element:s.jsx(tfe,{})}),s.jsx(mt,{path:"/equipment",element:s.jsx(yfe,{})}),s.jsx(mt,{path:"/equipment/:id",element:s.jsx(bfe,{})}),s.jsx(mt,{path:"/products",element:s.jsx(jde,{})}),s.jsx(mt,{path:"/product/:id",element:s.jsx(Sde,{})}),s.jsx(mt,{path:"/cart",element:s.jsx(Nfe,{})}),s.jsx(mt,{path:"/checkout",element:s.jsx(lhe,{})}),s.jsx(mt,{path:"/payment-success",element:s.jsx(che,{})}),s.jsx(mt,{path:"/my-bookings",element:s.jsx(xhe,{})}),s.jsx(mt,{path:"/admin/*",element:s.jsx(ume,{children:s.jsx(wze,{})})}),s.jsx(mt,{path:"/payment-instructions",element:s.jsx(uhe,{})}),s.jsx(mt,{path:"/payment-instructions/:orderId",element:s.jsx(_ze,{})}),s.jsx(mt,{path:"/payment-error",element:s.jsx(Cze,{})})]})})}const Aze=new BQ,UG=document.getElementById("root");if(!UG)throw new Error("Root element not found");const kze=g5(UG);kze.render(s.jsx(F.StrictMode,{children:s.jsx(VQ,{client:Aze,children:s.jsx(wQ,{children:s.jsx(Oee,{children:s.jsxs(Mee,{children:[s.jsx(Tze,{}),s.jsx(ute,{})]})})})})}));export{Qt as g};
